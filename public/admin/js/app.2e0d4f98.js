(function(e){function t(t){for(var a,r,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({activities:"activities","events~news~pages~persons":"events~news~pages~persons","events~news~pages":"events~news~pages",events:"events",news:"news",pages:"pages",persons:"persons",user:"user"}[e]||e)+"."+{activities:"03883081","events~news~pages~persons":"7959d401","events~news~pages":"833e3bac",events:"b35f126a",news:"7bddd23d",pages:"8b316020",persons:"d039a5a9",user:"2c750477"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={activities:1,"events~news~pages~persons":1,"events~news~pages":1,events:1,news:1,pages:1,persons:1,user:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({activities:"activities","events~news~pages~persons":"events~news~pages~persons","events~news~pages":"events~news~pages",events:"events",news:"news",pages:"pages",persons:"persons",user:"user"}[e]||e)+"."+{activities:"55816b60","events~news~pages~persons":"123dfa3c","events~news~pages":"3e866e87",events:"b5b5a459",news:"b5b5a459",pages:"57c4a610",persons:"dd00b4f2",user:"3890ebf7"}[e]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0255":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d81d");var a=n("d4ec"),r=n("bee2"),i=n("5e66"),s=function(){function e(){Object(a["a"])(this,e),this.ID=""}return Object(r["a"])(e,[{key:"id",get:function(){return this.ID}}],[{key:"init",value:function(t){var n=new e;return n.ID=t.ID,n.seitentitel=t.seitentitel,n.keywords=t.keywords,n.template=t.template,n.inhalt=t.inhalt,n.timestamp=t.timestamp,n.description=t.description,n.attachments=t.attachments?t.attachments.map((function(e){return i["a"].init(e)})):[],n}}]),e}()},"0431":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("caad"),n("d3b7"),n("2532"),n("96cf");var a=n("1da1"),r=n("d4ec"),i=n("bee2"),s=n("2cbb"),o=n("bc3a"),c=n.n(o),u=n("d70b"),l=function(){function e(){Object(r["a"])(this,e),this.client=c.a.create({baseURL:"".concat(u["a"].host),headers:{Accept:"application/json"},withCredentials:!0}),this.errorInterceptor=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.response.status,e.next=401===e.t0||419===e.t0?3:4;break;case 3:return e.abrupt("return",new Promise((function(e,n){s["a"].logout().finally((function(){window.location.pathname.includes("/login")||(window.location.pathname="/"),n(t)}))})));case 4:return e.abrupt("return",Promise.reject(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.responseInterceptor=function(e){return e},this.client.interceptors.response.use(this.responseInterceptor,this.errorInterceptor)}return Object(i["a"])(e,[{key:"get",value:function(e,t){return this.client.get(e,t)}},{key:"delete",value:function(e,t){return this.client.delete(e,t)}},{key:"post",value:function(e,t,n){return this.client.post(e,t,n)}},{key:"put",value:function(e,t,n){return this.client.put(e,t,n)}},{key:"patch",value:function(e,t,n){return this.client.patch(e,t,n)}},{key:"refreshToken",value:function(){return this.client.get("".concat(u["a"].host,"/sanctum/csrf-cookie"))}}]),e}(),d=new l},"04b2":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d81d");var a=n("d4ec"),r=n("bee2"),i=n("1315"),s=n("5e66"),o=function(){function e(){Object(a["a"])(this,e),this.ID="",this.date=i["DateTime"].fromJSDate(new Date).toFormat("y-MM-dd")}return Object(r["a"])(e,[{key:"id",get:function(){return this.ID}}],[{key:"init",value:function(t){var n=new e;return n.ID=t.ID,n.date=t.date,n.text=t.text,n.filepath=t.filepath,n.attachments=t.attachments?t.attachments.map((function(e){return s["a"].init(e)})):[],n}}]),e}()},"0758":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d81d");var a=n("d4ec"),r=n("bee2"),i=n("5e66"),s=n("1315"),o=function(){function e(){Object(a["a"])(this,e),this.ID="",this.title="",this.date=s["DateTime"].fromJSDate(new Date).toFormat("y-MM-dd")}return Object(r["a"])(e,[{key:"id",get:function(){return this.ID}}],[{key:"init",value:function(t){var n=new e;return n.ID=t.ID,n.title=t.title,n.text=t.text,n.date=t.date,n.expirationDate=t.expirationDate,n.isExpired=t.isExpired,n.attachments=t.attachments?t.attachments.map((function(e){return i["a"].init(e)})):[],n}}]),e}()},"0776":function(e,t,n){},"10a5":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("99af"),n("b0c0");var a=n("d4ec"),r=n("bee2"),i=n("d70b"),s=n("5e66"),o=function(){function e(){Object(a["a"])(this,e),this.id=""}return Object(r["a"])(e,[{key:"imagePath",get:function(){return this.image?"".concat(i["a"].host,"/files/").concat(this.image.title):"//dummyimage.com/80x120/cccccc/333333.png"}}],[{key:"init",value:function(t){var n=new e;return n.id=t.id,n.name=t.name,n.role=t.role,n.image=t.image?s["a"].init(t.image):null,n.phone=t.phone,n.email=t.email,n}}]),e}()},"2cbb":function(e,t,n){"use strict";var a=n("d4ec"),r=n("bee2"),i=n("0431"),s=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"refreshCookie",value:function(){return i["a"].refreshToken()}},{key:"login",value:function(e){return i["a"].post("/api/login",{email:e.username,password:e.password}).then((function(e){return sessionStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){return sessionStorage.removeItem("user"),i["a"].post("/api/logout")}},{key:"currentUser",get:function(){return JSON.parse(sessionStorage.getItem("user"))}}]),e}();t["a"]=new s},"3a3d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("d4ec"),r=n("bee2"),i=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"init",value:function(t){var n=new e;return n.username=t.username,n.email=t.email,n.password=t.password,n.role=t.role,n}}]),e}()},"56bb":function(e,t,n){"use strict";var a=n("0776"),r=n.n(a);r.a},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"5e66":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("99af"),n("caad"),n("b680");var a=n("d4ec"),r=n("bee2"),i=n("d70b"),s=function(){function e(){Object(a["a"])(this,e),this.ID="",this.title=""}return Object(r["a"])(e,[{key:"id",get:function(){return this.ID}},{key:"isImage",get:function(){return["png","bmp","jpg","jpeg","tiff","webp"].includes(this.extension)}},{key:"isFile",get:function(){return!this.isImage}},{key:"frontendPath",get:function(){return"".concat(i["a"].host,"/files/").concat(this.title)}},{key:"readableFileSize",get:function(){var t=this.fileSize;return t<=0?"0.00B":t<e.KiloByte?"".concat(t,"B"):t<e.MegaByte?(t/=e.KiloByte,"".concat(t.toFixed(2)," KB")):(t/=e.MegaByte,"".concat(t.toFixed(2)," MB"))}}],[{key:"init",value:function(t){var n=new e;return n.ID=t.ID,n.title=t.title,n.file=t.file,n.extension=t.extension,n.fileSize=t.fileSize,n}}]),e}();s.KiloByte=1024,s.MegaByte=1048576},"612e":function(e,t,n){},"8ca6":function(e,t,n){"use strict";var a=n("612e"),r=n.n(a);r.a},"9c0c":function(e,t,n){},c3f9:function(e,t,n){},c5db:function(e,t,n){"use strict";var a=n("ce8f"),r=n.n(a);r.a},c6fc:function(e,t,n){"use strict";var a=n("c3f9"),r=n.n(a);r.a},cd49:function(e,t,n){"use strict";n.r(t);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("1315"),r=function(e,t){if(e){if(!(e instanceof a["DateTime"]))throw"Date must be an instance of luxon/DateTime";return t||(t="Y-m-d"),e.toFormat(t)}},i=function(e,t){return e||(e=0),t||(t=0),e*=100,e=Math.round(e*Math.pow(10,t))/Math.pow(10,t),e+="%",e},s=n("5887"),o=n.n(s),c=n("a026"),u=n("dc21"),l=n("e594"),d=n("cf2b"),f=n.n(d),m=n("f213"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},h=[],v={name:"App"},b=v,g=(n("5c0b"),n("2877")),w=Object(g["a"])(b,p,h,!1,null,null,null),C=w.exports,y=(n("7db0"),n("caad"),n("d81d"),n("d3b7"),n("2532"),{Admin:2,User:1}),P=n("8c4f"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card card-container"},[n("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"/images/wappen_abfaltersbach.png"}}),n("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"username"}},[e._v("Benutzername")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",required:"",autocomplete:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"password"}},[e._v("Passwort")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",required:"",autocomplete:"current-password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._e()]),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.loading}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Anmelden")])]),n("a",{staticClass:"nav-link",attrs:{href:"/password/reset"}},[e._v(" Passwort vergessen ")])]),n("div",{staticClass:"form-group"},[e.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e.message.errors&&"auth.failed"==e.message.errors.email[0]?n("span",[e._v("Benutzername und/oder Passwort falsch!")]):n("span",[e._v("Es ist ein Fehler aufgetreten! Versuchen Sie es später noch einmal.")])]):e._e()])])])])},j=[],k=(n("25f0"),n("3a3d")),_=c["default"].extend({name:"Login",data:function(){return{user:new k["a"],loading:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.$store.dispatch("auth/refreshCookie")},created:function(){this.loggedIn&&this.$router.push("/")},methods:{handleLogin:function(){var e=this;this.loading||(this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){e.$router.push("/")}),(function(t){e.loading=!1,e.message=t.response&&t.response.data||t.message||t.toString()})))}}}),O=_,I=(n("56bb"),Object(g["a"])(O,S,j,!1,null,"b31cf372",null)),x=I.exports,A=n("2cbb"),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-app"},[e.isLoggedIn?n("TheSidebar"):e._e(),n("CWrapper",[n("TheHeader"),n("div",{staticClass:"c-body"},[n("main",{staticClass:"c-main"},[n("CContainer",{attrs:{fluid:""}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:e.$route.path})],1)],1),n("vue-snotify")],1)]),n("TheFooter")],1)],1)},M=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CSidebar",{attrs:{fixed:"",minimize:e.minimize,show:e.show},on:{"update:show":function(t){return e.$store.commit("sidebar/set",["sidebarShow",t])}}},[n("CSidebarBrand",{staticClass:"d-md-down-none",attrs:{to:"/"}},[n("CIcon",{staticClass:"c-sidebar-brand-full",attrs:{src:"/images/wappen_abfaltersbach.png",size:"custom-size",height:35,viewBox:"0 0 556 134"}}),n("span",{staticClass:"c-sidebar-brand-full logo-name"},[e._v("Gemeinde Abfaltersbach")]),n("CIcon",{staticClass:"c-sidebar-brand-minimized",attrs:{src:"/images/wappen_abfaltersbach.png",size:"custom-size",height:35,viewBox:"0 0 110 134"}})],1),n("CRenderFunction",{attrs:{contentToRender:e.computedSidebar,flat:""}}),n("CSidebarMinimizer",{staticClass:"d-md-down-none",nativeOn:{click:function(t){return e.$store.commit("sidebar/set",["sidebarMinimize",!e.minimize])}}})],1)},N=[],U=[{_name:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:"cil-speedometer",roles:[y.User,y.Admin]},{_name:"CSidebarNavTitle",_children:["Content"],roles:[y.User,y.Admin]},{_name:"CSidebarNavItem",name:"News",to:"/content/news/overview",icon:"cil-newspaper",roles:[y.User,y.Admin]},{_name:"CSidebarNavItem",name:"Veranstaltungen",to:"/content/events/overview",icon:"cil-calendar",roles:[y.User,y.Admin]},{_name:"CSidebarNavItem",name:"Seiten",to:"/content/pages/overview",icon:"cil-notes",roles:[y.User,y.Admin]},{_name:"CSidebarNavItem",name:"Personen",to:"/content/persons",icon:"cil-user",roles:[y.User,y.Admin]},{_name:"CSidebarNavTitle",_children:["Admin"],roles:[y.Admin]},{_name:"CSidebarNavItem",name:"Log",to:"/activities",icon:"cil-speech",roles:[y.Admin]}],F={name:"TheSidebar",computed:{role:function(){return this.$store.state.auth.user.role},show:function(){return this.$store.state.sidebar.sidebarShow},minimize:function(){return this.$store.state.sidebar.sidebarMinimize},currentItems:function(){var e=this;return"unknown"===this.role?[]:U.filter((function(t){return t.roles.includes(e.role)}))},computedSidebar:function(){return[{_name:"CSidebarNav",_children:this.currentItems}]}}},L=F,V=(n("8ca6"),Object(g["a"])(L,T,N,!1,null,"7e4a88f0",null)),B=V.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CHeader",{attrs:{fixed:"","with-subheader":"",light:""}},[n("CToggler",{staticClass:"ml-3 d-lg-none",attrs:{"in-header":""},on:{click:function(t){return e.$store.commit("sidebar/toggleSidebarMobile")}}}),n("CToggler",{staticClass:"ml-3 d-md-down-none",attrs:{"in-header":""},on:{click:function(t){return e.$store.commit("sidebar/toggleSidebarDesktop")}}}),n("CHeaderBrand",{staticClass:"mx-auto d-lg-none",attrs:{to:"/"}},[e._v("Gemeinde Abfaltersbach")]),n("CHeaderNav",{staticClass:"d-md-down-none mr-auto"},[n("CHeaderNavItem",{staticClass:"px-3"},[n("CHeaderNavLink",{attrs:{to:"/dashboard"}},[e._v(" Dashboard ")])],1),e.isAdmin?n("CHeaderNavItem",{staticClass:"px-3"},[n("CHeaderNavLink",{attrs:{to:"/users",exact:""}},[e._v(" Users ")])],1):e._e()],1),n("CHeaderNav",{staticClass:"mr-4"},[n("TheHeaderDropdownAccnt")],1),n("CSubheader",{staticClass:"px-3"},[n("BreadCrumbs",{staticClass:"border-0 mb-0"})],1)],1)},$=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CDropdown",{staticClass:"c-header-nav-items",attrs:{inNav:"",placement:"bottom-end","add-menu-classes":"pt-0"},scopedSlots:e._u([{key:"toggler",fn:function(){return[n("CHeaderNavLink",[n("div",{staticClass:"c-avatar"},[n("img",{staticClass:"c-avatar-img ",attrs:{src:"/images/profile_placeholder.png"}})])])]},proxy:!0}])},[n("CDropdownHeader",{staticClass:"text-center",attrs:{tag:"div",color:"light"}},[n("strong",[e._v("Settings")])]),n("CDropdownItem",[n("CIcon",{attrs:{name:"cil-user"}}),e._v(" Profile ")],1),n("CDropdownDivider"),n("CDropdownItem",[n("RouterLink",{attrs:{to:"/logout"}},[n("CIcon",{attrs:{name:"cil-lock-locked"}}),e._v(" Logout ")],1)],1)],1)},z=[],R={name:"TheHeaderDropdownAccnt"},q=R,Z=(n("c6fc"),Object(g["a"])(q,H,z,!1,null,"64b04666",null)),J=Z.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CBreadcrumb",e._b({},"CBreadcrumb",e.props,!1),[e._t("default")],2)},X=[],G=(n("b0c0"),{name:"Breadcrumbs",props:{addClasses:[String,Array,Object],addLinkClasses:[String,Array,Object],addLastItemClasses:[String,Array,Object]},computed:{items:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.label||e.name}));return e.map((function(e){var t=e.meta||{};return{to:e,text:t.label||e.name}}))},props:function(){return{items:this.items,addClasses:this.addClasses,addLinkClasses:this.addLinkClasses,addLastItemClasses:this.addLastItemClasses}}}}),Y=G,Q=Object(g["a"])(Y,K,X,!1,null,null,null),W=Q.exports,ee={name:"TheHeader",components:{TheHeaderDropdownAccnt:J,BreadCrumbs:W},computed:{isAdmin:function(){return this.$store.state.auth.isAdmin}}},te=ee,ne=Object(g["a"])(te,E,$,!1,null,null,null),ae=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CFooter",{attrs:{fixed:!1}},[n("div",[n("a",{attrs:{href:"https://coreui.io",target:"_blank"}},[e._v("CoreUI")]),n("span",{staticClass:"ml-1"},[e._v("© "+e._s((new Date).getFullYear())+" creativeLabs.")])]),n("div",{staticClass:"mfs-auto"},[n("span",{staticClass:"mr-1",attrs:{target:"_blank"}},[e._v("Powered by")]),n("a",{attrs:{href:"https://coreui.io/vue"}},[e._v("CoreUI for Vue")])])])},ie=[],se={name:"TheFooter"},oe=se,ce=Object(g["a"])(oe,re,ie,!1,null,null,null),ue=ce.exports,le=c["default"].extend({name:"TheContainer",components:{TheSidebar:B,TheHeader:ae,TheFooter:ue},computed:{isLoggedIn:function(){return this.$store.state.auth.status.loggedIn}}}),de=le,fe=(n("c5db"),Object(g["a"])(de,D,M,!1,null,"746b2da4",null)),me=fe.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CRow",{staticClass:"mb-3"},[n("CCol",[n("h2",[e._v(" Übersicht "+e._s(e._f("date")(e.selectedPeriod,"MMMM"))+" "+e._s(e._f("date")(e.selectedPeriod,"yyyy"))+" ")])])],1),n("CRow",[n("CCol",{attrs:{md:"3"}},[n("analytics-single-metric",{attrs:{bg:"bg-gradient-info",value:e.visitors,diff:e.getDiffToPrevMonth("visitors"),title:"Besucher",icon:"cil-people"}})],1),n("CCol",{attrs:{md:"3"}},[n("analytics-single-metric",{attrs:{bg:"bg-gradient-success",value:e.sessions,diff:e.getDiffToPrevMonth("sessions"),title:"Sessions",icon:"cil-contact"}})],1),n("CCol",{attrs:{md:"3"}},[n("analytics-single-metric",{attrs:{bg:"bg-gradient-warning",value:e.sessionDuration,diff:e.getDiffToPrevMonth("avgSessionDurationInSeconds"),title:"Ø Sitzungsdauer",icon:"cil-speedometer"}})],1),n("CCol",{attrs:{md:"3"}},[n("analytics-single-metric",{attrs:{bg:"bg-gradient-danger",value:e._f("percentage")(e.bounceRate,2),diff:e.getDiffToPrevMonth("bounceRate"),title:"Absprungrate",icon:"cil-exit-to-app"}})],1)],1),n("CRow",[n("CCol",{attrs:{md:"6"}},[n("CCard",[n("CCardHeader",[e._v(" Meistbesuchte Seiten ")]),n("CCardBody",[n("ol",{staticClass:"list-unstyled"},e._l(e.mostVisitedPages,(function(t){return n("li",{key:t.url,staticClass:"d-flex justify-content-between align-items-center py-1"},[n("div",[n("a",{staticClass:"text-dark",attrs:{href:e.getPageUrl(t),target:"_blank",rel:"noopener"}},[e._v(" "+e._s(e.getPageTitle(t))+" ")])]),n("div",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.pageViews)+" ")])])})),0)])],1)],1),n("CCol",{attrs:{md:"6"}},[n("CCard",[n("CCardHeader",[e._v(" Browser Übersicht ")]),n("CCardBody",[n("CChartPie",{attrs:{datasets:e.topBrowsers,labels:e.topBrowserNames,options:{legend:{position:"right"}}}})],1)],1)],1)],1)],1)},he=[],ve=(n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card text-white",class:e.computedClasses},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"text-muted text-right mb-4"},[e.icon?n("CIcon",{attrs:{name:e.icon,size:"2xl"}}):e._e()],1),n("div",[n("span",{staticClass:"text-value-lg"},[e._v(e._s(e.value||"-"))]),e.diff?n("small",{staticClass:"text-muted ml-1"},[e._v("("+e._s(e.formatDiff(e.diff))+")")]):e._e()]),n("small",{staticClass:"text-muted text-uppercase font-weight-bold"},[e._v(e._s(e.title))])])])}),be=[],ge=c["default"].extend({name:"AnalyticsSingleMetric",props:["title","value","icon","bg","diff"],computed:{computedClasses:function(){return this.bg||"bg-gradient-info"}},methods:{formatDiff:function(e){var t=e>=0,n=this.$options.filters.percentage(e,2);return t?"+"+n:n}}}),we=ge,Ce=Object(g["a"])(we,ve,be,!1,null,null,null),ye=Ce.exports,Pe=n("d70b"),Se=n("f485"),je=c["default"].extend({name:"Dashboard",components:{AnalyticsSingleMetric:ye,CChartPie:Se["CChartPie"]},data:function(){return{selectedPeriod:a["DateTime"].fromJSDate(new Date)}},computed:{analytics:function(){return this.$store.state.analytics.data},requestedMonth:function(){var e;return null===(e=this.analytics)||void 0===e?void 0:e.requestedMonth},previousMonth:function(){var e;return null===(e=this.analytics)||void 0===e?void 0:e.previousMonth},visitors:function(){var e;return null===(e=this.requestedMonth)||void 0===e?void 0:e.visitors},sessions:function(){var e;return null===(e=this.requestedMonth)||void 0===e?void 0:e.sessions},bounceRate:function(){if(this.requestedMonth)return this.requestedMonth.bounceRate},avgSessionDurationInSeconds:function(){var e;return null===(e=this.requestedMonth)||void 0===e?void 0:e.avgSessionDurationInSeconds},sessionDuration:function(){var e;if(this.requestedMonth){var t=(null===(e=this.requestedMonth)||void 0===e?void 0:e.avgSessionDurationInSeconds)||0;return a["Duration"].fromMillis(1e3*t).toFormat("hh:mm:ss")}},mostVisitedPages:function(){var e;return null===(e=this.analytics)||void 0===e?void 0:e.mostVisitedPages},topReferrers:function(){var e;return null===(e=this.analytics)||void 0===e?void 0:e.topReferrers},topBrowsers:function(){var e;return[{data:null===(e=this.analytics)||void 0===e?void 0:e.topBrowsers.map((function(e){return e.sessions})),backgroundColor:["#3399ff","#f9b115","#e55353","#2eb85c","#ced2d8"],label:"Browsers"}]},topBrowserNames:function(){var e;return null===(e=this.analytics)||void 0===e?void 0:e.topBrowsers.map((function(e){return e.browser}))}},mounted:function(){this.loadData()},methods:{loadData:function(){this.$store.dispatch("analytics/load")},getPageTitle:function(e){return e.pageTitle.replace(/Gemeinde Abfaltersbach - /,"")},getPageUrl:function(e){return Pe["a"].host+e.url},getDiffToPrevMonth:function(e){if(this.previousMonth){var t=this.previousMonth[e]||0,n=this[e]-t;return n/t}}}}),ke=je,_e=Object(g["a"])(ke,pe,he,!1,null,null,null),Oe=_e.exports,Ie=n("d4ec"),xe=n("262e"),Ae=n("2caf"),De=(n("99af"),n("a15b"),n("b64b"),n("bee2")),Me=n("0431"),Te=function(){function e(){Object(Ie["a"])(this,e),this.baseUrl="/api",this.apiClient=Me["a"]}return Object(De["a"])(e,[{key:"create",value:function(e){return Me["a"].post(this.baseUrl,e).then((function(e){return e.data}))}},{key:"get",value:function(e){return Me["a"].get("".concat(this.baseUrl,"/").concat(e)).then((function(e){return e.data}))}},{key:"getAll",value:function(e){var t=this.baseUrl;if(e){var n=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");t+="?".concat(n)}return Me["a"].get(t).then((function(e){return e.data}))}},{key:"update",value:function(e){return Me["a"].put("".concat(this.baseUrl,"/").concat(e.id),e).then((function(e){return e.data}))}},{key:"partialUpdate",value:function(e){return Me["a"].patch("".concat(this.baseUrl,"/").concat(e.id),e).then((function(e){return e.data}))}},{key:"delete",value:function(e){return Me["a"].delete("".concat(this.baseUrl,"/").concat(e.id))}}]),e}(),Ne=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/analytics",e}return n}(Te),Ue=new Ne,Fe={data:null},Le={namespaced:!0,state:Fe,actions:{load:function(e){var t=e.commit;return Ue.getAll().then((function(e){return t("loadSuccess",e),Promise.resolve(e)}),(function(e){return t("loadFailure"),Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.data=t},loadFailure:function(e){e.data=null}}},Ve=n("3835"),Be={sidebarShow:"responsive",sidebarMinimize:!1},Ee={namespaced:!0,state:Be,actions:{},mutations:{toggleSidebarDesktop:function(e){var t=[!0,"responsive"].includes(e.sidebarShow);e.sidebarShow=!t&&"responsive"},toggleSidebarMobile:function(e){var t=[!1,"responsive"].includes(e.sidebarShow);e.sidebarShow=!!t||"responsive"},set:function(e,t){var n=Object(Ve["a"])(t,2),a=n[0],r=n[1];e[a]=r}}},$e=(n("a434"),n("3ca3"),n("ddb0"),n("2909")),He=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/persons",e}return Object(De["a"])(n,[{key:"deleteImage",value:function(e,t){return this.apiClient.post("".concat(this.baseUrl,"/").concat(e.id,"/delete/").concat(t.id),{}).then((function(e){return e.data}))}},{key:"loadList",value:function(e){return this.apiClient.get("".concat(this.baseUrl,"/list/").concat(e)).then((function(e){return e.data}))}},{key:"saveList",value:function(e,t){return this.apiClient.post("".concat(this.baseUrl,"/list/").concat(e),{order:t}).then((function(e){return e.data}))}}]),n}(Te),ze=new He,Re=n("10a5"),qe={all:[],councilmen:[],employees:[],selectedPerson:null},Ze=1,Je=2,Ke={namespaced:!0,state:qe,actions:{load:function(e){var t=e.commit;return ze.getAll().then((function(e){var n=e.map((function(e){return Re["a"].init(e)}));return t("loadSuccess",n),Promise.resolve(n)}),(function(e){return t("loadFailure"),Promise.reject(e)}))},select:function(e,t){var n=e.commit;n("selectPerson",t)},delete:function(e,t){var n=e.commit;return ze.delete(t).then((function(){return n("deleteSuccess",t.id),Promise.resolve()}),(function(e){return Promise.reject(e)}))},create:function(e,t){var n=e.commit;return ze.create(t).then((function(e){var t=Re["a"].init(e);return n("createSuccess",t),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},update:function(e,t){var n=e.commit;return ze.update(t).then((function(e){var t=Re["a"].init(e);return n("updateSuccess",t),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},updatePerson:function(e,t){var n=e.commit;n("updatePerson",t)},deleteImage:function(e,t){var n=e.commit,a=t.person,r=t.file;return ze.deleteImage(a,r).then((function(e){return n("deleteImageSuccess",{person:e}),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},updateList:function(e,t){var n=e.commit,a=t.collection,r=t.dropResult;n("updatePersonList",{collection:a,dropResult:r})},loadCouncil:function(e){var t=e.commit;return ze.loadList(Ze).then((function(e){var n=e.map((function(e){return Re["a"].init(e)}));return t("loadCouncilSuccess",n),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},loadEmployees:function(e){var t=e.commit;return ze.loadList(Je).then((function(e){var n=e.map((function(e){return Re["a"].init(e)}));return t("loadEmployeesSuccess",n),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},saveListOrder:function(e){var t=e.commit,n=ze.saveList(Ze,this.state.persons.councilmen.map((function(e){return e.id}))),a=ze.saveList(Je,this.state.persons.employees.map((function(e){return e.id})));return Promise.all([n,a]).then((function(e){var n=e[0].map((function(e){return Re["a"].init(e)})),a=e[1].map((function(e){return Re["a"].init(e)}));return t("saveListSuccess",{council:n,employees:a}),Promise.resolve({council:n,employees:a})}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t},loadFailure:function(e){e.all=[]},selectPerson:function(e,t){e.selectedPerson=t},deleteSuccess:function(e,t){e.all=e.all.filter((function(e){return e.id!==t})),e.councilmen=e.councilmen.filter((function(e){return e.id!==t})),e.employees=e.employees.filter((function(e){return e.id!==t}))},createSuccess:function(e,t){e.all=[t].concat(Object($e["a"])(e.all))},updateSuccess:function(e,t){e.all=e.all.map((function(e){return e.id===t.id?t:e})),e.councilmen=e.councilmen.map((function(e){return e.id===t.id?t:e})),e.employees=e.employees.map((function(e){return e.id===t.id?t:e}))},updatePerson:function(e,t){e.all=e.all.map((function(e){return e.id==t.id?Re["a"].init(t):e})),e.councilmen=e.councilmen.map((function(e){return e.id==t.id?Re["a"].init(t):e})),e.employees=e.employees.map((function(e){return e.id==t.id?Re["a"].init(t):e})),e.selectedPerson=t},deleteImageSuccess:function(e,t){var n=t.person;e.all=e.all.map((function(e){return e.id==n.id?n:e})),e.councilmen=e.councilmen.map((function(e){return e.id==n.id?n:e})),e.employees=e.employees.map((function(e){return e.id==n.id?n:e})),e.selectedPerson=n},updatePersonList:function(e,t){var n=t.collection,a=t.dropResult,r=a.removedIndex,i=a.addedIndex,s=a.payload;if(null===r&&null===i)return e;var o=Object($e["a"])(e[n]),c=s;null!==r&&(c=o.splice(r,1)[0]),null===i||o.filter((function(e){return e.id===c.id})).length||o.splice(i,0,c),e[n]=o},loadCouncilSuccess:function(e,t){e.councilmen=t},loadEmployeesSuccess:function(e,t){e.employees=t},saveListSuccess:function(e,t){var n=t.council,a=t.employees;e.councilmen=n,e.employees=a}}},Xe=n("2f62"),Ge=JSON.parse(sessionStorage.getItem("user")),Ye={status:{loggedIn:!!Ge},user:Ge||null,isAdmin:function(){return this.user&&this.user.role===y.Admin}},Qe={namespaced:!0,state:Ye,actions:{refreshCookie:function(){return A["a"].refreshCookie().then((function(){return Promise.resolve()}),(function(e){return Promise.reject(e)}))},login:function(e,t){var n=e.commit;return A["a"].login(t).then((function(e){return n("loginSuccess",e),Promise.resolve(e)}),(function(e){return n("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;return A["a"].logout().then((function(){return t("logoutSuccess"),Promise.resolve()}),(function(e){return t("logoutSuccess"),Promise.reject(e)}))}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logoutSuccess:function(e){e.status.loggedIn=!1,e.user=null}}},We=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/events",e}return n}(Te),et=new We,tt=n("04b2"),nt={all:null,selectedEvent:null},at={namespaced:!0,state:nt,actions:{loadAll:function(e,t){var n=e.commit;return et.getAll(t).then((function(e){return e.data=e.data.map(tt["a"].init),n("loadSuccess",e),Promise.resolve(e)}),(function(e){return n("loadFailure"),Promise.reject(e)}))},loadOne:function(e,t){var n=e.commit;return et.get(t).then((function(e){var t=tt["a"].init(e);return n("selectEvent",t),Promise.resolve(t)}),(function(e){return n("selectEvent",new tt["a"]),Promise.reject(e)}))},select:function(e,t){var n=e.commit;n("selectEvent",t)},delete:function(e,t){e.commit;return et.delete(t).then((function(){return Promise.resolve()}),(function(e){return Promise.reject(e)}))},create:function(e,t){e.commit;return et.create(t).then((function(e){return Promise.resolve(tt["a"].init(e))}),(function(e){return Promise.reject(e)}))},update:function(e,t){e.commit;return et.update(t).then((function(e){return Promise.resolve(tt["a"].init(e))}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t,e.selectedEvent&&(e.selectedEvent=e.all.data.find((function(t){return t.id==e.selectedEvent.id})))},loadFailure:function(e){e.all=null},selectEvent:function(e,t){e.selectedEvent=t}}},rt=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/news",e}return n}(Te),it=new rt,st=n("0758"),ot={all:null,selectedNews:null},ct={namespaced:!0,state:ot,actions:{loadAll:function(e,t){var n=e.commit;return it.getAll(t).then((function(e){return e.data=e.data.map(st["a"].init),n("loadSuccess",e),Promise.resolve(e)}),(function(e){return n("loadFailure"),Promise.reject(e)}))},loadOne:function(e,t){var n=e.commit;return it.get(t).then((function(e){var t=st["a"].init(e);return n("selectNews",t),Promise.resolve(t)}),(function(e){return n("selectNews",null),Promise.reject(e)}))},select:function(e,t){var n=e.commit;n("selectNews",t)},create:function(e,t){e.commit;return it.create(t).then((function(e){return Promise.resolve(st["a"].init(e))}),(function(e){return Promise.reject(e)}))},update:function(e,t){e.commit;return it.update(t).then((function(e){return Promise.resolve(st["a"].init(e))}),(function(e){return Promise.reject(e)}))},delete:function(e,t){e.commit;return it.delete(t).then((function(){return Promise.resolve()}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t,e.selectedNews&&(e.selectedNews=e.all.data.find((function(t){return t.id==e.selectedNews.id})))},loadFailure:function(e){e.all=null},selectNews:function(e,t){e.selectedNews=t}}},ut=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/files",e}return n}(Te),lt=new ut,dt=n("5e66"),ft={files:[],images:[]},mt={namespaced:!0,state:ft,actions:{load:function(e){var t=e.commit;return lt.getAll().then((function(e){var n=e.map((function(e){return dt["a"].init(e)}));return t("loadSuccess",n),Promise.resolve(n)}),(function(e){return t("loadFailure"),Promise.reject(e)}))},delete:function(e,t){var n=e.commit;return lt.delete(t).then((function(){return n("deleteSuccess",t.id),Promise.resolve()}),(function(e){return Promise.reject(e)}))},create:function(e,t){var n=e.commit;return lt.create(t).then((function(e){var t=dt["a"].init(e);return n("createSuccess",t),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},update:function(e,t){var n=e.commit;return lt.update(t).then((function(e){var t=dt["a"].init(e);return n("updateSuccess",t),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))},partialUpdate:function(e,t){var n=e.commit,a={id:t.id,title:t.title};return lt.partialUpdate(a).then((function(e){var t=dt["a"].init(e);return n("updateSuccess",t),Promise.resolve(t)}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.files=t},loadFailure:function(e){e.files=[]},deleteSuccess:function(e,t){e.files=e.files.filter((function(e){return e.id!==t}))},createSuccess:function(e,t){e.files=[t].concat(Object($e["a"])(e.files))},updateSuccess:function(e,t){e.files=e.files.map((function(e){return e.id===t.id?t:e}))}}},pt=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/users",e}return Object(De["a"])(n,[{key:"revoke",value:function(e){return this.apiClient.post("".concat(this.baseUrl,"/").concat(e.id,"/revoke"),{}).then((function(e){return e.data}))}}]),n}(Te),ht=new pt,vt={all:[]},bt={namespaced:!0,state:vt,actions:{load:function(e){var t=e.commit;return ht.getAll().then((function(e){return t("loadSuccess",e),Promise.resolve(e)}),(function(e){return t("loadFailure"),Promise.reject(e)}))},add:function(e,t){var n=e.commit;return ht.create(t).then((function(e){return n("addSuccess",e),Promise.resolve()}),(function(e){return Promise.reject(e)}))},update:function(e,t){var n=e.commit;return ht.update(t).then((function(e){return n("updateSuccess",e),Promise.resolve()}),(function(e){return Promise.reject(e)}))},delete:function(e,t){var n=e.commit;return ht.delete(t).then((function(){return n("deleteSuccess",t.id),Promise.resolve()}),(function(e){return Promise.reject(e)}))},revoke:function(e,t){return ht.revoke(t).then((function(){return Promise.resolve()}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t},loadFailure:function(e){e.all=[]},deleteSuccess:function(e,t){e.all=e.all.filter((function(e){return e.id!="".concat(t)}))},updateSuccess:function(e,t){e.all=e.all.map((function(e){return e.id===t.id?t:e}))},addSuccess:function(e,t){e.all=[].concat(Object($e["a"])(e.all),[t])}}},gt=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/pages",e}return n}(Te),wt=new gt,Ct=n("0255"),yt={all:null,selectedPage:null},Pt={namespaced:!0,state:yt,actions:{loadAll:function(e,t){var n=e.commit;return wt.getAll(t).then((function(e){return e.data=e.data.map(Ct["a"].init),n("loadSuccess",e),Promise.resolve(e)}),(function(e){return n("loadFailure"),Promise.reject(e)}))},loadOne:function(e,t){var n=e.commit;return wt.get(t).then((function(e){var t=Ct["a"].init(e);return n("selectPage",t),Promise.resolve(t)}),(function(e){return n("selectPage",new Ct["a"]),Promise.reject(e)}))},select:function(e,t){var n=e.commit;n("selectPage",t)},create:function(e,t){e.commit;return wt.create(t).then((function(e){return Promise.resolve(Ct["a"].init(e))}),(function(e){return Promise.reject(e)}))},update:function(e,t){e.commit;return wt.update(t).then((function(e){return Promise.resolve(Ct["a"].init(e))}),(function(e){return Promise.reject(e)}))},delete:function(e,t){e.commit;return wt.delete(t).then((function(){return Promise.resolve()}),(function(e){return Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t,e.selectedPage&&(e.selectedPage=e.all.data.find((function(t){return t.id==e.selectedPage.id})))},loadFailure:function(e){e.all=null},selectPage:function(e,t){e.selectedPage=t}}},St=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/activities",e}return Object(De["a"])(n,[{key:"load",value:function(){return this.apiClient.get(this.baseUrl).then((function(e){return e.data}))}}]),n}(Te),jt=new St,kt={all:[]},_t={namespaced:!0,state:kt,actions:{load:function(e){var t=e.commit;return jt.getAll().then((function(e){return t("loadSuccess",e),Promise.resolve(e)}),(function(e){return t("loadFailure"),Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t},loadFailure:function(e){e.all=[]}}},Ot=function(e){Object(xe["a"])(n,e);var t=Object(Ae["a"])(n);function n(){var e;return Object(Ie["a"])(this,n),e=t.apply(this,arguments),e.baseUrl="/api/navigation",e}return n}(Te),It=new Ot,xt=function(){function e(){Object(Ie["a"])(this,e)}return Object(De["a"])(e,[{key:"id",get:function(){return"".concat(this.ID)}},{key:"hasParent",get:function(){return!!this.parentId}},{key:"hasChildren",get:function(){return!!this.children.length}}],[{key:"init",value:function(t){var n=new e;return n.ID=t.ID,n.parentId=t.refID,n.pageId=t.pageId,n.position=t.position,n.level=t.level,n.name=t.name,n.linkname=t.linkname,n.children=t.children.map((function(t){return e.init(t)})),n.isVisible=t.isVisible,n}}]),e}(),At={all:null},Dt={namespaced:!0,state:At,actions:{loadAll:function(e,t){var n=e.commit;return It.getAll(t).then((function(e){return e.data=e.data.map((function(e){return xt.init(e)})),n("loadSuccess",e),Promise.resolve(e)}),(function(e){return n("loadFailure"),Promise.reject(e)}))}},mutations:{loadSuccess:function(e,t){e.all=t},loadFailure:function(e){e.all=null}}};c["default"].use(Xe["a"]);var Mt=new Xe["a"].Store({state:{},mutations:{},actions:{},modules:{auth:Qe,analytics:Le,sidebar:Ee,news:ct,events:at,files:mt,users:bt,pages:Pt,persons:Ke,activities:_t,navigation:Dt}}),Tt=[{path:"/",redirect:"/dashboard",name:"",component:me,meta:{auth:[y.Admin,y.User]},children:[{path:"dashboard",name:"dashboard",meta:{label:"Dashboard"},component:Oe},{path:"content",redirect:"/content/news",name:"content",meta:{label:"Content"},component:{render:function(e){return e("router-view")}},children:[{path:"news",redirect:"/content/news/overview",name:"news",meta:{label:"News"},component:{render:function(e){return e("router-view")}},children:[{path:"overview",name:"news-overview",meta:{label:"Overview"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("news")]).then(n.bind(null,"4b86"))}},{path:"add",name:"news-add",meta:{label:"Hinzufügen"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("news")]).then(n.bind(null,"c28d"))}},{path:":newsId",name:"news-edit",meta:{label:"Bearbeiten"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("news")]).then(n.bind(null,"c28d"))}}]},{path:"events",redirect:"/content/events/overview",name:"events",meta:{label:"Veranstaltungen"},component:{render:function(e){return e("router-view")}},children:[{path:"overview",name:"events-overview",meta:{label:"Overview"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("events")]).then(n.bind(null,"e640"))}},{path:"add",name:"events-add",meta:{label:"Hinzufügen"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("events")]).then(n.bind(null,"f7fd"))}},{path:":eventId",name:"events-edit",meta:{label:"Bearbeiten"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("events")]).then(n.bind(null,"f7fd"))}}]},{path:"pages",redirect:"/content/pages/overview",name:"pages",meta:{label:"Seiten"},component:{render:function(e){return e("router-view")}},children:[{path:"overview",name:"pages-overview",meta:{label:"Overview"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("pages")]).then(n.bind(null,"ac45"))}},{path:"add",name:"pages-add",meta:{label:"Hinzufügen"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("pages")]).then(n.bind(null,"37bb"))}},{path:":pageId",name:"pages-edit",meta:{label:"Bearbeiten"},component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("events~news~pages"),n.e("pages")]).then(n.bind(null,"37bb"))}}]},{path:"persons",name:"Personen",component:function(){return Promise.all([n.e("events~news~pages~persons"),n.e("persons")]).then(n.bind(null,"f897"))}}]},{path:"users",name:"User",component:function(){return n.e("user").then(n.bind(null,"d843"))},meta:{auth:[y.Admin]}},{path:"activities",name:"Log",component:function(){return n.e("activities").then(n.bind(null,"77ef"))},meta:{auth:[y.Admin]}}]},{path:"/login",name:"Login",component:x},{path:"/logout",beforeEnter:function(e,t,n){Mt.dispatch("auth/logout").then((function(){n("/login")}))}},{path:"*",redirect:"/login"}],Nt=new P["a"]({mode:"history",base:"/",routes:Tt});c["default"].use(P["a"]),Nt.beforeEach((function(e,t,n){var a=e.matched.map((function(e){return e.meta})).reverse(),r=a.find((function(e){return e.auth})),i=r?r.auth:null,s=A["a"].currentUser;if(i){if(!s){var o="/"==e.path?{}:{returnUrl:e.path};return n({path:"/login",query:o})}if(!i.includes(s.role))return n({path:"/"})}n()}));var Ut=Nt,Ft=n("df0c"),Lt=n("9f0e"),Vt=n("2961"),Bt=n("b356"),Et=n("94d7"),$t=n("4d7c"),Ht=n("2206"),zt=n("f041"),Rt=n("2afe"),qt=n("90d2"),Zt=n("e545"),Jt=n("114a"),Kt=n("b3de"),Xt=n("b73b"),Gt=n("91a0"),Yt=n("454f"),Qt=n("04bd"),Wt=n("eece"),en=n("8a79"),tn=n("57a5"),nn=n("f5d2"),an=n("07df"),rn=n("068c"),sn=n("b297"),on=n("0298"),cn=n("4025"),un=n("dbcf"),ln=n("1615"),dn=n("66fb"),fn=n("32dc"),mn=n("0091"),pn=n("ec97"),hn=n("091a"),vn=n("cfcf"),bn=n("0a57"),gn=n("0902"),wn=n("8eb7"),Cn=n("fd07"),yn=n("b95b"),Pn=n("3446"),Sn=n("6e0f"),jn=n("1dba"),kn=n("0bc3"),_n=n("40db"),On=n("ff4a"),In=n("13af"),xn=n("06ab"),An=n("99bf"),Dn=n("05a5"),Mn=["556 134",'\n  <g>\n    <g style="fill:#1bbd93;">\n      <path d="M347.9818,90.0869l-11.84-43.52-.0644-.1924q0-.5112.6406-.5117h1.2793a.66.66,0,0,1,.7051.5762l10.623,39.68c.042.0859.0859.1279.1289.1279.041,0,.084-.042.127-.1279l10.625-39.68a.657.657,0,0,1,.7031-.5762h1.2168a.54.54,0,0,1,.5762.7041l-11.9043,43.52a.6584.6584,0,0,1-.7041.5761h-1.4082A.6577.6577,0,0,1,347.9818,90.0869Z"/>\n      <path d="M382.2786,89.5751a10.9023,10.9023,0,0,1-4.3515-4.5439,14.4586,14.4586,0,0,1-1.5362-6.7842V46.5029a.5656.5656,0,0,1,.64-.64h1.2168a.5659.5659,0,0,1,.64.64v32a10.5488,10.5488,0,0,0,2.72,7.5527,10.36,10.36,0,0,0,14.3359,0,10.5493,10.5493,0,0,0,2.7207-7.5527v-32a.5655.5655,0,0,1,.64-.64h1.2159a.5666.5666,0,0,1,.6406.64V78.247a13.01,13.01,0,0,1-3.3926,9.376,11.8974,11.8974,0,0,1-9.0234,3.5527A12.8481,12.8481,0,0,1,382.2786,89.5751Z"/>\n      <path d="M439.5843,48.1035H419.5521a.2263.2263,0,0,0-.2559.2558V66.8554a.2259.2259,0,0,0,.2559.2559h13.8242a.5665.5665,0,0,1,.6406.64v.96a.5665.5665,0,0,1-.6406.6406H419.5521a.2263.2263,0,0,0-.2559.2559v18.56a.2259.2259,0,0,0,.2559.2559h20.0322a.5665.5665,0,0,1,.64.6406v.96a.5655.5655,0,0,1-.64.64H417.4407a.5654.5654,0,0,1-.6406-.64v-43.52a.5658.5658,0,0,1,.6406-.64h22.1436a.5659.5659,0,0,1,.64.64v.96A.5658.5658,0,0,1,439.5843,48.1035Z"/>\n      <path d="M454.5921,89.5117a2.8385,2.8385,0,0,1-.8-2.0489,2.9193,2.9193,0,0,1,.8-2.1113,2.7518,2.7518,0,0,1,2.0791-.832,2.8465,2.8465,0,0,1,2.9443,2.9433,2.7561,2.7561,0,0,1-.832,2.08,2.9208,2.9208,0,0,1-2.1123.8008A2.7521,2.7521,0,0,1,454.5921,89.5117Z"/>\n      <path d="M474.931,88.0078a11.3087,11.3087,0,0,1-3.2-8.4161v-5.44a.5655.5655,0,0,1,.64-.64h1.2158a.5662.5662,0,0,1,.6407.64v5.5039a9.1421,9.1421,0,0,0,2.5283,6.72,8.9734,8.9734,0,0,0,6.6875,2.5606,8.7916,8.7916,0,0,0,9.28-9.28V46.5029a.5655.5655,0,0,1,.64-.64h1.2158a.5656.5656,0,0,1,.64.64V79.5917a11.2541,11.2541,0,0,1-3.2315,8.4161,13.0621,13.0621,0,0,1-17.0556,0Z"/>\n      <path d="M512.8753,88.1035a10.4847,10.4847,0,0,1-3.36-8.128v-1.792a.5665.5665,0,0,1,.6406-.6406h1.0879a.5666.5666,0,0,1,.64.6406v1.6a8.5461,8.5461,0,0,0,2.752,6.6563,10.5361,10.5361,0,0,0,7.36,2.4961,9.8741,9.8741,0,0,0,6.9766-2.3682,8.2188,8.2188,0,0,0,2.56-6.3359,8.3952,8.3952,0,0,0-1.12-4.416,11.3752,11.3752,0,0,0-3.3281-3.3926,71.6866,71.6866,0,0,0-6.1758-3.7119,71.0151,71.0151,0,0,1-6.24-3.84,12.1824,12.1824,0,0,1-3.4238-3.68,10.2659,10.2659,0,0,1-1.28-5.3437,9.86,9.86,0,0,1,3.0723-7.7441,12.0126,12.0126,0,0,1,8.3193-2.752q5.6969,0,8.9609,3.1035a10.8247,10.8247,0,0,1,3.2637,8.2246v1.6a.5658.5658,0,0,1-.6406.64h-1.1514a.5651.5651,0,0,1-.64-.64V56.8076a8.8643,8.8643,0,0,0-2.6241-6.6885,9.9936,9.9936,0,0,0-7.2324-2.5274,9.37,9.37,0,0,0-6.5283,2.1436,7.8253,7.8253,0,0,0-2.3672,6.1123,7.8088,7.8088,0,0,0,1.0235,4.16,10.3978,10.3978,0,0,0,3.0078,3.039,63.0249,63.0249,0,0,0,5.9521,3.4883,70.7955,70.7955,0,0,1,6.72,4.2559,13.4613,13.4613,0,0,1,3.6485,3.9365,10.044,10.044,0,0,1,1.28,5.1836,10.7185,10.7185,0,0,1-3.2647,8.1924q-3.2637,3.0717-8.832,3.0722Q516.2342,91.1757,512.8753,88.1035Z"/>\n    </g>\n    <g style="fill:currentColor;">\n      <g>\n        <path d="M99.367,36.0577l-39-22.5167a12,12,0,0,0-12,0l-39,22.5166a12.0337,12.0337,0,0,0-6,10.3924V91.4833a12.0331,12.0331,0,0,0,6,10.3923l39,22.5167a12,12,0,0,0,12,0l39-22.5167a12.0333,12.0333,0,0,0,6-10.3923V46.45A12.0336,12.0336,0,0,0,99.367,36.0577Zm-2,55.4256a4,4,0,0,1-2,3.4641l-39,22.5167a4.0006,4.0006,0,0,1-4,0l-39-22.5167a4,4,0,0,1-2-3.4641V46.45a4,4,0,0,1,2-3.4642l39-22.5166a4,4,0,0,1,4,0l39,22.5166a4,4,0,0,1,2,3.4642Z"/>\n        <path d="M77.3886,82.0046h-2.866a4.0007,4.0007,0,0,0-1.9247.4934L55.3172,91.9833,35.367,80.4648V57.4872l19.95-11.5185L72.606,55.4236a3.9993,3.9993,0,0,0,1.9192.4906h2.8632a2,2,0,0,0,2-2V51.2024a2,2,0,0,0-1.04-1.7547L59.16,38.9521a8.0389,8.0389,0,0,0-7.8427.09L31.3665,50.56a8.0245,8.0245,0,0,0-3.9995,6.9287v22.976a8,8,0,0,0,4,6.9283l19.95,11.5186a8.0427,8.0427,0,0,0,7.8432.0879l19.19-10.5312a2,2,0,0,0,1.0378-1.7533v-2.71A2,2,0,0,0,77.3886,82.0046Z"/>\n      </g>\n      <g>\n        <path d="M172.1117,45.3618a15.0166,15.0166,0,0,0-15,14.9995V77.6387a15,15,0,0,0,30,0V60.3613A15.0167,15.0167,0,0,0,172.1117,45.3618Zm7,32.2769a7,7,0,0,1-14,0V60.3613a7,7,0,0,1,14,0Z"/>\n        <path d="M135.4458,53.4211a7.01,7.01,0,0,1,7.8681,6.0752.9892.9892,0,0,0,.9842.865h6.03a1.0108,1.0108,0,0,0,.9987-1.0971,15.0182,15.0182,0,0,0-15.7161-13.8837A15.2881,15.2881,0,0,0,121.367,60.7968V77.2037A15.288,15.288,0,0,0,135.6112,92.62a15.0182,15.0182,0,0,0,15.7161-13.8842,1.0107,1.0107,0,0,0-.9987-1.0971h-6.03a.9892.9892,0,0,0-.9842.865,7.0106,7.0106,0,0,1-7.868,6.0757,7.1642,7.1642,0,0,1-6.0789-7.1849V60.6057A7.1638,7.1638,0,0,1,135.4458,53.4211Z"/>\n        <path d="M218.2891,72.9277a12.1584,12.1584,0,0,0,7.1843-11.0771V58.1494A12.1494,12.1494,0,0,0,213.324,46H196.367a1,1,0,0,0-1,1V91a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V74h6.6215l7.9154,17.4138a1,1,0,0,0,.91.5862h6.5912a1,1,0,0,0,.91-1.4138Zm-.8157-11.0771A4.1538,4.1538,0,0,1,213.3245,66h-9.8511V54h9.8511a4.1538,4.1538,0,0,1,4.1489,4.1494Z"/>\n        <path d="M260.367,46h-26a1,1,0,0,0-1,1V91a1,1,0,0,0,1,1h26a1,1,0,0,0,1-1V85a1,1,0,0,0-1-1h-19V72h13a1,1,0,0,0,1-1V65a1,1,0,0,0-1-1h-13V54h19a1,1,0,0,0,1-1V47A1,1,0,0,0,260.367,46Z"/>\n        <path d="M298.367,46h-6a1,1,0,0,0-1,1V69.6475a7.0066,7.0066,0,1,1-14,0V47a1,1,0,0,0-1-1h-6a1,1,0,0,0-1,1V69.6475a15.0031,15.0031,0,1,0,30,0V47A1,1,0,0,0,298.367,46Z"/>\n        <rect x="307.367" y="46" width="8" height="38" rx="1"/>\n      </g>\n    </g>\n  </g>\n'],Tn=Object.assign({},{logo:Mn},{cilBan:fn["a"],cilCalendar:mn["a"],cilCloudUpload:pn["a"],cilCheckCircle:hn["a"],cilContact:vn["a"],cilCursorMove:bn["a"],cilExitToApp:gn["a"],cilFile:wn["a"],cilFilter:Cn["a"],cilLowVision:yn["a"],cilNewspaper:Pn["a"],cilNotes:Sn["a"],cilPencil:jn["a"],cilPeople:kn["a"],cilSettings:_n["a"],cilSpeech:On["a"],cilSpeedometer:In["a"],cilTrash:xn["a"],cilUser:An["a"],cilUserFollow:Dn["a"]},{cifUs:sn["a"],cifBr:on["a"],cifIn:cn["a"],cifFr:un["a"],cifEs:ln["a"],cifPl:dn["a"]},{cibFacebook:Ft["a"],cibTwitter:Lt["a"],cibLinkedin:Vt["a"],cibFlickr:Bt["a"],cibTumblr:Et["a"],cibXing:$t["a"],cibGithub:Ht["a"],cibStackoverflow:zt["a"],cibYoutube:Rt["a"],cibDribbble:qt["a"],cibInstagram:Zt["a"],cibPinterest:Jt["a"],cibVk:Kt["a"],cibYahoo:Xt["a"],cibBehance:Gt["a"],cibReddit:Yt["a"],cibVimeo:Qt["a"],cibCcMastercard:Wt["a"],cibCcVisa:en["a"],cibStripe:tn["a"],cibPaypal:nn["a"],cibGooglePay:an["a"],cibCcAmex:rn["a"]});c["default"].config.productionTip=!1,c["default"].config.performance=!0,c["default"].use(o.a,{locale:"de"});var Nn={toast:{position:m["a"].rightBottom}};c["default"].use(m["b"],Nn),c["default"].use(f.a),c["default"].prototype.$log=console.log.bind(console),u["a"]({dsn:"https://a9635e891e99429b93755c8b2822d9bd@o442304.ingest.sentry.io/5413876",integrations:[new l["a"]({Vue:c["default"],attachProps:!0})],attachStacktrace:!0}),c["default"].filter("percentage",i),c["default"].filter("date",r);var Un=c["default"];new Un({el:"#app",router:Ut,store:Mt,icons:Tn,template:"<App/>",components:{App:C}})},ce8f:function(e,t,n){},d70b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("99af");var a=n("d4ec"),r=n("2cbb"),i=function e(){Object(a["a"])(this,e)};i.isProduction=!0,i.host=i.isProduction?"//abfaltersbach.at":"//localhost",i.editorApiKey="6jjm4jham8ufq2x8fg8ogve4cbyxshwh5d3ijcuplwk6a5dp",i.defaultEditorConfig={height:300,menubar:!1,language:"de",content_css:"/content.css",file_picker_types:"image",images_reuse_filename:!0,images_upload_handler:function(e,t,n,a){r["a"].refreshCookie().then((function(r){var s=r.config.headers["X-XSRF-TOKEN"],o=new XMLHttpRequest;o.withCredentials=!0,o.open("POST","".concat(i.host,"/api/files")),o.setRequestHeader("X-XSRF-TOKEN",s),o.upload.onprogress=function(e){a(e.loaded/e.total*100)},o.onload=function(){if(o.status<200||o.status>=300)n("HTTP Error: "+o.status);else{var e=JSON.parse(o.responseText);e?(e.location="".concat(i.host,"/files/").concat(e.title),t(e.location)):n("Invalid JSON: "+o.responseText)}},o.onerror=function(){n("Das Bild konnte nicht hochgeladen werden. Code: "+o.status)};var c=new FormData;c.append("file",e.blob(),e.filename()),o.send(c)})).catch((function(e){n(e)}))},plugins:["autolink lists link image","media"],toolbar:"undo | formatselect | bold italic |             bullist numlist | link image | removeformat"}}});
//# sourceMappingURL=app.2e0d4f98.js.map