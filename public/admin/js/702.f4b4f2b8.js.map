{"version":3,"file":"js/702.f4b4f2b8.js","mappings":"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","sources":["webpack://easyadmin/./node_modules/@transloadit/prettier-bytes/prettierBytes.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/AuthError.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/Provider.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/RequestClient.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/SearchProvider.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/Socket.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/index.js","webpack://easyadmin/./node_modules/@uppy/companion-client/lib/tokenStorage.js","webpack://easyadmin/./node_modules/@uppy/core/lib/Plugin.js","webpack://easyadmin/./node_modules/@uppy/core/lib/index.js","webpack://easyadmin/./node_modules/@uppy/core/lib/loggers.js","webpack://easyadmin/./node_modules/@uppy/core/lib/supportsUploadProgress.js","webpack://easyadmin/./node_modules/@uppy/file-input/lib/index.js","webpack://easyadmin/./node_modules/@uppy/locales/lib/de_DE.js","webpack://easyadmin/./node_modules/@uppy/progress-bar/lib/index.js","webpack://easyadmin/./node_modules/@uppy/store-default/lib/index.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/EventTracker.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/NetworkError.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/ProgressTimeout.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/RateLimitedQueue.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/Translator.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/emitSocketProgress.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/fetchWithNetworkError.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/findDOMElement.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/findIndex.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/generateFileID.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/getFileNameAndExtension.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/getFileType.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/getSocketHost.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/getTimeStamp.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/hasProperty.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/isDOMElement.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/isNetworkError.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/mimeTypes.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/settle.js","webpack://easyadmin/./node_modules/@uppy/utils/lib/toArray.js","webpack://easyadmin/./node_modules/@uppy/xhr-upload/lib/index.js","webpack://easyadmin/./src/components/FileInput.vue","webpack://easyadmin/./src/helpers/csrf.ts","webpack://easyadmin/./src/components/FileInput.vue?1d3c","webpack://easyadmin/./src/components/FileInput.vue?912d","webpack://easyadmin/./src/components/FileInput.vue?6dc1","webpack://easyadmin/./src/components/LoadingIndicator.vue","webpack://easyadmin/./src/components/LoadingIndicator.vue?f33f","webpack://easyadmin/./src/components/LoadingIndicator.vue?7604","webpack://easyadmin/./src/components/LoadingIndicator.vue?0302","webpack://easyadmin/./src/components/PageHeader.vue","webpack://easyadmin/./src/components/PageHeader.vue?4a41","webpack://easyadmin/./src/components/PageHeader.vue?f78e","webpack://easyadmin/./src/components/PageHeader.vue?06a6","webpack://easyadmin/./node_modules/cuid/index.js","webpack://easyadmin/./node_modules/cuid/lib/fingerprint.browser.js","webpack://easyadmin/./node_modules/cuid/lib/getRandomValue.browser.js","webpack://easyadmin/./node_modules/cuid/lib/pad.js","webpack://easyadmin/./node_modules/lodash.throttle/index.js","webpack://easyadmin/./node_modules/mime-match/index.js","webpack://easyadmin/./node_modules/namespace-emitter/index.js","webpack://easyadmin/./node_modules/preact/dist/preact.esm.js","webpack://easyadmin/./node_modules/qs-stringify/index.js","webpack://easyadmin/./node_modules/querystringify/index.js","webpack://easyadmin/./node_modules/requires-port/index.js","webpack://easyadmin/./node_modules/url-parse/index.js","webpack://easyadmin/./node_modules/vue-property-decorator/lib/vue-property-decorator.js","webpack://easyadmin/./node_modules/wildcard/index.js"],"sourcesContent":["// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError('Expected a number, got ' + typeof num)\n  }\n\n  var neg = num < 0\n  var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return (neg ? '-' : '') + num + ' B'\n  }\n\n  var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  var unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit\n  } else {\n    return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit\n  }\n}\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar AuthError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(AuthError, _Error);\n\n  function AuthError() {\n    var _this;\n\n    _this = _Error.call(this, 'Authorization required') || this;\n    _this.name = 'AuthError';\n    _this.isAuthError = true;\n    return _this;\n  }\n\n  return AuthError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nmodule.exports = AuthError;","'use strict';\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar qsStringify = require('qs-stringify');\n\nvar URL = require('url-parse');\n\nvar RequestClient = require('./RequestClient');\n\nvar tokenStorage = require('./tokenStorage');\n\nvar _getName = function _getName(id) {\n  return id.split('-').map(function (s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }).join(' ');\n};\n\nmodule.exports = /*#__PURE__*/function (_RequestClient) {\n  _inheritsLoose(Provider, _RequestClient);\n\n  function Provider(uppy, opts) {\n    var _this;\n\n    _this = _RequestClient.call(this, uppy, opts) || this;\n    _this.provider = opts.provider;\n    _this.id = _this.provider;\n    _this.name = _this.opts.name || _getName(_this.id);\n    _this.pluginId = _this.opts.pluginId;\n    _this.tokenKey = \"companion-\" + _this.pluginId + \"-auth-token\";\n    _this.companionKeysParams = _this.opts.companionKeysParams;\n    _this.preAuthToken = null;\n    return _this;\n  }\n\n  var _proto = Provider.prototype;\n\n  _proto.headers = function headers() {\n    var _this2 = this;\n\n    return Promise.all([_RequestClient.prototype.headers.call(this), this.getAuthToken()]).then(function (_ref) {\n      var headers = _ref[0],\n          token = _ref[1];\n      var authHeaders = {};\n\n      if (token) {\n        authHeaders['uppy-auth-token'] = token;\n      }\n\n      if (_this2.companionKeysParams) {\n        authHeaders['uppy-credentials-params'] = btoa(JSON.stringify({\n          params: _this2.companionKeysParams\n        }));\n      }\n\n      return _extends({}, headers, authHeaders);\n    });\n  };\n\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    response = _RequestClient.prototype.onReceiveResponse.call(this, response);\n    var plugin = this.uppy.getPlugin(this.pluginId);\n    var oldAuthenticated = plugin.getPluginState().authenticated;\n    var authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;\n    plugin.setPluginState({\n      authenticated: authenticated\n    });\n    return response;\n  } // @todo(i.olarewaju) consider whether or not this method should be exposed\n  ;\n\n  _proto.setAuthToken = function setAuthToken(token) {\n    return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);\n  };\n\n  _proto.getAuthToken = function getAuthToken() {\n    return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);\n  };\n\n  _proto.authUrl = function authUrl(queries) {\n    if (queries === void 0) {\n      queries = {};\n    }\n\n    if (this.preAuthToken) {\n      queries.uppyPreAuthToken = this.preAuthToken;\n    }\n\n    var strigifiedQueries = qsStringify(queries);\n    strigifiedQueries = strigifiedQueries ? \"?\" + strigifiedQueries : strigifiedQueries;\n    return this.hostname + \"/\" + this.id + \"/connect\" + strigifiedQueries;\n  };\n\n  _proto.fileUrl = function fileUrl(id) {\n    return this.hostname + \"/\" + this.id + \"/get/\" + id;\n  };\n\n  _proto.fetchPreAuthToken = function fetchPreAuthToken() {\n    var _this3 = this;\n\n    if (!this.companionKeysParams) {\n      return Promise.resolve();\n    }\n\n    return this.post(this.id + \"/preauth/\", {\n      params: this.companionKeysParams\n    }).then(function (res) {\n      _this3.preAuthToken = res.token;\n    }).catch(function (err) {\n      _this3.uppy.log(\"[CompanionClient] unable to fetch preAuthToken \" + err, 'warning');\n    });\n  };\n\n  _proto.list = function list(directory) {\n    return this.get(this.id + \"/list/\" + (directory || ''));\n  };\n\n  _proto.logout = function logout() {\n    var _this4 = this;\n\n    return this.get(this.id + \"/logout\").then(function (response) {\n      return Promise.all([response, _this4.uppy.getPlugin(_this4.pluginId).storage.removeItem(_this4.tokenKey)]);\n    }).then(function (_ref2) {\n      var response = _ref2[0];\n      return response;\n    });\n  };\n\n  Provider.initPlugin = function initPlugin(plugin, opts, defaultOpts) {\n    plugin.type = 'acquirer';\n    plugin.files = [];\n\n    if (defaultOpts) {\n      plugin.opts = _extends({}, defaultOpts, opts);\n    }\n\n    if (opts.serverUrl || opts.serverPattern) {\n      throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');\n    }\n\n    if (opts.companionAllowedHosts) {\n      var pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param\n\n      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n        throw new TypeError(plugin.id + \": the option \\\"companionAllowedHosts\\\" must be one of string, Array, RegExp\");\n      }\n\n      plugin.opts.companionAllowedHosts = pattern;\n    } else {\n      // does not start with https://\n      if (/^(?!https?:\\/\\/).*$/i.test(opts.companionUrl)) {\n        plugin.opts.companionAllowedHosts = \"https://\" + opts.companionUrl.replace(/^\\/\\//, '');\n      } else {\n        plugin.opts.companionAllowedHosts = new URL(opts.companionUrl).origin;\n      }\n    }\n\n    plugin.storage = plugin.opts.storage || tokenStorage;\n  };\n\n  return Provider;\n}(RequestClient);","'use strict';\n\nvar _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AuthError = require('./AuthError');\n\nvar fetchWithNetworkError = require('@uppy/utils/lib/fetchWithNetworkError'); // Remove the trailing slash so we can always safely append /xyz.\n\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  function RequestClient(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n    this.preflightDone = false;\n  }\n\n  var _proto = RequestClient.prototype;\n\n  _proto.headers = function headers() {\n    var userHeaders = this.opts.companionHeaders || this.opts.serverHeaders || {};\n    return Promise.resolve(_extends({}, this.defaultHeaders, userHeaders));\n  };\n\n  _proto._getPostResponseFunc = function _getPostResponseFunc(skip) {\n    var _this = this;\n\n    return function (response) {\n      if (!skip) {\n        return _this.onReceiveResponse(response);\n      }\n\n      return response;\n    };\n  };\n\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    var state = this.uppy.getState();\n    var companion = state.companion || {};\n    var host = this.opts.companionUrl;\n    var headers = response.headers; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      var _extends2;\n\n      this.uppy.setState({\n        companion: _extends({}, companion, (_extends2 = {}, _extends2[host] = headers.get('i-am'), _extends2))\n      });\n    }\n\n    return response;\n  };\n\n  _proto._getUrl = function _getUrl(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n\n    return this.hostname + \"/\" + url;\n  };\n\n  _proto._json = function _json(res) {\n    if (res.status === 401) {\n      throw new AuthError();\n    }\n\n    if (res.status < 200 || res.status > 300) {\n      var errMsg = \"Failed request with status: \" + res.status + \". \" + res.statusText;\n      return res.json().then(function (errData) {\n        errMsg = errData.message ? errMsg + \" message: \" + errData.message : errMsg;\n        errMsg = errData.requestId ? errMsg + \" request-Id: \" + errData.requestId : errMsg;\n        throw new Error(errMsg);\n      }).catch(function () {\n        throw new Error(errMsg);\n      });\n    }\n\n    return res.json();\n  };\n\n  _proto.preflight = function preflight(path) {\n    var _this2 = this;\n\n    if (this.preflightDone) {\n      return Promise.resolve(this.allowedHeaders.slice());\n    }\n\n    return fetch(this._getUrl(path), {\n      method: 'OPTIONS'\n    }).then(function (response) {\n      if (response.headers.has('access-control-allow-headers')) {\n        _this2.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(function (headerName) {\n          return headerName.trim().toLowerCase();\n        });\n      }\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    }).catch(function (err) {\n      _this2.uppy.log(\"[CompanionClient] unable to make preflight request \" + err, 'warning');\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    });\n  };\n\n  _proto.preflightAndHeaders = function preflightAndHeaders(path) {\n    var _this3 = this;\n\n    return Promise.all([this.preflight(path), this.headers()]).then(function (_ref) {\n      var allowedHeaders = _ref[0],\n          headers = _ref[1];\n      // filter to keep only allowed Headers\n      Object.keys(headers).forEach(function (header) {\n        if (allowedHeaders.indexOf(header.toLowerCase()) === -1) {\n          _this3.uppy.log(\"[CompanionClient] excluding unallowed header \" + header);\n\n          delete headers[header];\n        }\n      });\n      return headers;\n    });\n  };\n\n  _proto.get = function get(path, skipPostResponse) {\n    var _this4 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this4._getUrl(path), {\n        method: 'get',\n        headers: headers,\n        credentials: _this4.opts.companionCookiesRule || 'same-origin'\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this4._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not get \" + _this4._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.post = function post(path, data, skipPostResponse) {\n    var _this5 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this5._getUrl(path), {\n        method: 'post',\n        headers: headers,\n        credentials: _this5.opts.companionCookiesRule || 'same-origin',\n        body: JSON.stringify(data)\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this5._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not post \" + _this5._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.delete = function _delete(path, data, skipPostResponse) {\n    var _this6 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this6.hostname + \"/\" + path, {\n        method: 'delete',\n        headers: headers,\n        credentials: _this6.opts.companionCookiesRule || 'same-origin',\n        body: data ? JSON.stringify(data) : null\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this6._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not delete \" + _this6._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _createClass(RequestClient, [{\n    key: \"hostname\",\n    get: function get() {\n      var _this$uppy$getState = this.uppy.getState(),\n          companion = _this$uppy$getState.companion;\n\n      var host = this.opts.companionUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n  }, {\n    key: \"defaultHeaders\",\n    get: function get() {\n      return {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Uppy-Versions': \"@uppy/companion-client=\" + RequestClient.VERSION\n      };\n    }\n  }]);\n\n  return RequestClient;\n}(), _class.VERSION = \"1.10.2\", _temp);","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar RequestClient = require('./RequestClient');\n\nvar _getName = function _getName(id) {\n  return id.split('-').map(function (s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }).join(' ');\n};\n\nmodule.exports = /*#__PURE__*/function (_RequestClient) {\n  _inheritsLoose(SearchProvider, _RequestClient);\n\n  function SearchProvider(uppy, opts) {\n    var _this;\n\n    _this = _RequestClient.call(this, uppy, opts) || this;\n    _this.provider = opts.provider;\n    _this.id = _this.provider;\n    _this.name = _this.opts.name || _getName(_this.id);\n    _this.pluginId = _this.opts.pluginId;\n    return _this;\n  }\n\n  var _proto = SearchProvider.prototype;\n\n  _proto.fileUrl = function fileUrl(id) {\n    return this.hostname + \"/search/\" + this.id + \"/get/\" + id;\n  };\n\n  _proto.search = function search(text, queries) {\n    queries = queries ? \"&\" + queries : '';\n    return this.get(\"search/\" + this.id + \"/list?q=\" + encodeURIComponent(text) + queries);\n  };\n\n  return SearchProvider;\n}(RequestClient);","var ee = require('namespace-emitter');\n\nmodule.exports = /*#__PURE__*/function () {\n  function UppySocket(opts) {\n    this.opts = opts;\n    this._queued = [];\n    this.isOpen = false;\n    this.emitter = ee();\n    this._handleMessage = this._handleMessage.bind(this);\n    this.close = this.close.bind(this);\n    this.emit = this.emit.bind(this);\n    this.on = this.on.bind(this);\n    this.once = this.once.bind(this);\n    this.send = this.send.bind(this);\n\n    if (!opts || opts.autoOpen !== false) {\n      this.open();\n    }\n  }\n\n  var _proto = UppySocket.prototype;\n\n  _proto.open = function open() {\n    var _this = this;\n\n    this.socket = new WebSocket(this.opts.target);\n\n    this.socket.onopen = function (e) {\n      _this.isOpen = true;\n\n      while (_this._queued.length > 0 && _this.isOpen) {\n        var first = _this._queued[0];\n\n        _this.send(first.action, first.payload);\n\n        _this._queued = _this._queued.slice(1);\n      }\n    };\n\n    this.socket.onclose = function (e) {\n      _this.isOpen = false;\n    };\n\n    this.socket.onmessage = this._handleMessage;\n  };\n\n  _proto.close = function close() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  };\n\n  _proto.send = function send(action, payload) {\n    // attach uuid\n    if (!this.isOpen) {\n      this._queued.push({\n        action: action,\n        payload: payload\n      });\n\n      return;\n    }\n\n    this.socket.send(JSON.stringify({\n      action: action,\n      payload: payload\n    }));\n  };\n\n  _proto.on = function on(action, handler) {\n    this.emitter.on(action, handler);\n  };\n\n  _proto.emit = function emit(action, payload) {\n    this.emitter.emit(action, payload);\n  };\n\n  _proto.once = function once(action, handler) {\n    this.emitter.once(action, handler);\n  };\n\n  _proto._handleMessage = function _handleMessage(e) {\n    try {\n      var message = JSON.parse(e.data);\n      this.emit(message.action, message.payload);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return UppySocket;\n}();","'use strict';\n/**\n * Manages communications with Companion\n */\n\nvar RequestClient = require('./RequestClient');\n\nvar Provider = require('./Provider');\n\nvar SearchProvider = require('./SearchProvider');\n\nvar Socket = require('./Socket');\n\nmodule.exports = {\n  RequestClient: RequestClient,\n  Provider: Provider,\n  SearchProvider: SearchProvider,\n  Socket: Socket\n};","'use strict';\n/**\n * This module serves as an Async wrapper for LocalStorage\n */\n\nmodule.exports.setItem = function (key, value) {\n  return new Promise(function (resolve) {\n    localStorage.setItem(key, value);\n    resolve();\n  });\n};\n\nmodule.exports.getItem = function (key) {\n  return Promise.resolve(localStorage.getItem(key));\n};\n\nmodule.exports.removeItem = function (key) {\n  return new Promise(function (resolve) {\n    localStorage.removeItem(key);\n    resolve();\n  });\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar preact = require('preact');\n\nvar findDOMElement = require('@uppy/utils/lib/findDOMElement');\n/**\n * Defer a frequent call to the microtask queue.\n */\n\n\nfunction debounce(fn) {\n  var calling = null;\n  var latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(function () {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn.apply(void 0, latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * Boilerplate that all Plugins share - and should not be used\n * directly. It also shows which methods final plugins should implement/override,\n * this deciding on structure.\n *\n * @param {object} main Uppy core object\n * @param {object} object with plugin options\n * @returns {Array|string} files or success/fail message\n */\n\n\nmodule.exports = /*#__PURE__*/function () {\n  function Plugin(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts || {};\n    this.update = this.update.bind(this);\n    this.mount = this.mount.bind(this);\n    this.install = this.install.bind(this);\n    this.uninstall = this.uninstall.bind(this);\n  }\n\n  var _proto = Plugin.prototype;\n\n  _proto.getPluginState = function getPluginState() {\n    var _this$uppy$getState = this.uppy.getState(),\n        plugins = _this$uppy$getState.plugins;\n\n    return plugins[this.id] || {};\n  };\n\n  _proto.setPluginState = function setPluginState(update) {\n    var _extends2;\n\n    var _this$uppy$getState2 = this.uppy.getState(),\n        plugins = _this$uppy$getState2.plugins;\n\n    this.uppy.setState({\n      plugins: _extends({}, plugins, (_extends2 = {}, _extends2[this.id] = _extends({}, plugins[this.id], update), _extends2))\n    });\n  };\n\n  _proto.setOptions = function setOptions(newOpts) {\n    this.opts = _extends({}, this.opts, newOpts);\n    this.setPluginState(); // so that UI re-renders with new options\n  };\n\n  _proto.update = function update(state) {\n    if (typeof this.el === 'undefined') {\n      return;\n    }\n\n    if (this._updateUI) {\n      this._updateUI(state);\n    }\n  } // Called after every state update, after everything's mounted. Debounced.\n  ;\n\n  _proto.afterUpdate = function afterUpdate() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n  ;\n\n  _proto.onMount = function onMount() {}\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it’s an object — target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   *\n   * @param {string|object} target\n   *\n   */\n  ;\n\n  _proto.mount = function mount(target, plugin) {\n    var _this = this;\n\n    var callerPluginName = plugin.id;\n    var targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // API for plugins that require a synchronous rerender.\n\n      this.rerender = function (state) {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!_this.uppy.getPlugin(_this.id)) return;\n        _this.el = preact.render(_this.render(state), targetElement, _this.el);\n\n        _this.afterUpdate();\n      };\n\n      this._updateUI = debounce(this.rerender);\n      this.uppy.log(\"Installing \" + callerPluginName + \" to a DOM element '\" + target + \"'\"); // clear everything inside the target container\n\n      if (this.opts.replaceTargetContent) {\n        targetElement.innerHTML = '';\n      }\n\n      this.el = preact.render(this.render(this.uppy.getState()), targetElement);\n      this.onMount();\n      return this.el;\n    }\n\n    var targetPlugin;\n\n    if (typeof target === 'object' && target instanceof Plugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      var Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(function (plugin) {\n        if (plugin instanceof Target) {\n          targetPlugin = plugin;\n          return false;\n        }\n      });\n    }\n\n    if (targetPlugin) {\n      this.uppy.log(\"Installing \" + callerPluginName + \" to \" + targetPlugin.id);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(\"Not installing \" + callerPluginName);\n    var message = \"Invalid target option given to \" + callerPluginName + \".\";\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  };\n\n  _proto.render = function render(state) {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  };\n\n  _proto.addTarget = function addTarget(plugin) {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  };\n\n  _proto.unmount = function unmount() {\n    if (this.isTargetDOMEl && this.el && this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n    }\n  };\n\n  _proto.install = function install() {};\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return Plugin;\n}();","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/* global AggregateError */\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar ee = require('namespace-emitter');\n\nvar cuid = require('cuid');\n\nvar throttle = require('lodash.throttle');\n\nvar prettierBytes = require('@transloadit/prettier-bytes');\n\nvar match = require('mime-match');\n\nvar DefaultStore = require('@uppy/store-default');\n\nvar getFileType = require('@uppy/utils/lib/getFileType');\n\nvar getFileNameAndExtension = require('@uppy/utils/lib/getFileNameAndExtension');\n\nvar generateFileID = require('@uppy/utils/lib/generateFileID');\n\nvar findIndex = require('@uppy/utils/lib/findIndex');\n\nvar supportsUploadProgress = require('./supportsUploadProgress');\n\nvar _require = require('./loggers'),\n    justErrorsLogger = _require.justErrorsLogger,\n    debugLogger = _require.debugLogger;\n\nvar Plugin = require('./Plugin'); // Exported from here.\n\n\nvar RestrictionError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(RestrictionError, _Error);\n\n  function RestrictionError() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Error.call.apply(_Error, [this].concat(args)) || this;\n    _this.isRestriction = true;\n    return _this;\n  }\n\n  return RestrictionError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nif (typeof AggregateError === 'undefined') {\n  // eslint-disable-next-line no-global-assign\n  AggregateError = /*#__PURE__*/function (_Error2) {\n    _inheritsLoose(AggregateError, _Error2);\n\n    function AggregateError(message, errors) {\n      var _this2;\n\n      _this2 = _Error2.call(this, message) || this;\n      _this2.errors = errors;\n      return _this2;\n    }\n\n    return AggregateError;\n  }( /*#__PURE__*/_wrapNativeSuper(Error));\n}\n\nvar AggregateRestrictionError = /*#__PURE__*/function (_AggregateError) {\n  _inheritsLoose(AggregateRestrictionError, _AggregateError);\n\n  function AggregateRestrictionError() {\n    var _this3;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this3 = _AggregateError.call.apply(_AggregateError, [this].concat(args)) || this;\n    _this3.isRestriction = true;\n    return _this3;\n  }\n\n  return AggregateRestrictionError;\n}(AggregateError);\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\n\nvar Uppy = /*#__PURE__*/function () {\n  // eslint-disable-next-line global-require\n\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts — Uppy options\n   */\n  function Uppy(opts) {\n    var _this4 = this;\n\n    this.defaultLocale = {\n      strings: {\n        addBulkFilesFailed: {\n          0: 'Failed to add %{smart_count} file due to an internal error',\n          1: 'Failed to add %{smart_count} files due to internal errors'\n        },\n        youCanOnlyUploadX: {\n          0: 'You can only upload %{smart_count} file',\n          1: 'You can only upload %{smart_count} files'\n        },\n        youHaveToAtLeastSelectX: {\n          0: 'You have to select at least %{smart_count} file',\n          1: 'You have to select at least %{smart_count} files'\n        },\n        missingRequiredMetaField: 'Missing required meta fields',\n        missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n        // The default `exceedsSize2` string only combines the `exceedsSize` string (%{backwardsCompat}) with the size.\n        // Locales can override `exceedsSize2` to specify a different word order. This is for backwards compat with\n        // Uppy 1.9.x and below which did a naive concatenation of `exceedsSize2 + size` instead of using a locale-specific\n        // substitution.\n        // TODO: In 2.0 `exceedsSize2` should be removed in and `exceedsSize` updated to use substitution.\n        exceedsSize2: '%{backwardsCompat} %{size}',\n        exceedsSize: '%{file} exceeds maximum allowed size of',\n        inferiorSize: 'This file is smaller than the allowed size of %{size}',\n        youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n        noNewAlreadyUploading: 'Cannot add new files: already uploading',\n        noDuplicates: 'Cannot add the duplicate file \\'%{fileName}\\', it already exists',\n        companionError: 'Connection with Companion failed',\n        companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n        failedToUpload: 'Failed to upload %{file}',\n        noInternetConnection: 'No Internet connection',\n        connectedToInternet: 'Connected to the Internet',\n        // Strings for remote providers\n        noFilesFound: 'You have no files or folders here',\n        selectX: {\n          0: 'Select %{smart_count}',\n          1: 'Select %{smart_count}'\n        },\n        selectAllFilesFromFolderNamed: 'Select all files from folder %{name}',\n        unselectAllFilesFromFolderNamed: 'Unselect all files from folder %{name}',\n        selectFileNamed: 'Select file %{name}',\n        unselectFileNamed: 'Unselect file %{name}',\n        openFolderNamed: 'Open folder %{name}',\n        cancel: 'Cancel',\n        logOut: 'Log out',\n        filter: 'Filter',\n        resetFilter: 'Reset filter',\n        loading: 'Loading...',\n        authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n        authenticateWith: 'Connect to %{pluginName}',\n        searchImages: 'Search for images',\n        enterTextToSearch: 'Enter text to search for images',\n        backToSearch: 'Back to Search',\n        emptyFolderAdded: 'No files were added from empty folder',\n        folderAdded: {\n          0: 'Added %{smart_count} file from %{folder}',\n          1: 'Added %{smart_count} files from %{folder}'\n        }\n      }\n    };\n    var defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploads: true,\n      debug: false,\n      restrictions: {\n        maxFileSize: null,\n        minFileSize: null,\n        maxTotalFileSize: null,\n        maxNumberOfFiles: null,\n        minNumberOfFiles: null,\n        allowedFileTypes: null,\n        requiredMetaFields: []\n      },\n      meta: {},\n      onBeforeFileAdded: function onBeforeFileAdded(currentFile) {\n        return currentFile;\n      },\n      onBeforeUpload: function onBeforeUpload(files) {\n        return files;\n      },\n      store: DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = _extends({}, defaultOptions, opts, {\n      restrictions: _extends({}, defaultOptions.restrictions, opts && opts.restrictions)\n    }); // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions\n\n    if (opts && opts.logger && opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (opts && opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n\n    this.log(\"Using Core v\" + this.constructor.VERSION);\n\n    if (this.opts.restrictions.allowedFileTypes && this.opts.restrictions.allowedFileTypes !== null && !Array.isArray(this.opts.restrictions.allowedFileTypes)) {\n      throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n    }\n\n    this.i18nInit(); // Container for different types of plugins\n\n    this.plugins = {};\n    this.getState = this.getState.bind(this);\n    this.getPlugin = this.getPlugin.bind(this);\n    this.setFileMeta = this.setFileMeta.bind(this);\n    this.setFileState = this.setFileState.bind(this);\n    this.log = this.log.bind(this);\n    this.info = this.info.bind(this);\n    this.hideInfo = this.hideInfo.bind(this);\n    this.addFile = this.addFile.bind(this);\n    this.removeFile = this.removeFile.bind(this);\n    this.pauseResume = this.pauseResume.bind(this);\n    this.validateRestrictions = this.validateRestrictions.bind(this); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this.calculateProgress = throttle(this.calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.updateOnlineStatus = this.updateOnlineStatus.bind(this);\n    this.resetProgress = this.resetProgress.bind(this);\n    this.pauseAll = this.pauseAll.bind(this);\n    this.resumeAll = this.resumeAll.bind(this);\n    this.retryAll = this.retryAll.bind(this);\n    this.cancelAll = this.cancelAll.bind(this);\n    this.retryUpload = this.retryUpload.bind(this);\n    this.upload = this.upload.bind(this);\n    this.emitter = ee();\n    this.on = this.on.bind(this);\n    this.off = this.off.bind(this);\n    this.once = this.emitter.once.bind(this.emitter);\n    this.emit = this.emitter.emit.bind(this.emitter);\n    this.preProcessors = [];\n    this.uploaders = [];\n    this.postProcessors = [];\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: _extends({}, this.opts.meta),\n      info: {\n        isHidden: true,\n        type: 'info',\n        message: ''\n      },\n      recoveredState: null\n    });\n    this.storeUnsubscribe = this.store.subscribe(function (prevState, nextState, patch) {\n      _this4.emit('state-update', prevState, nextState, patch);\n\n      _this4.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    this.addListeners(); // Re-enable if we’ll need some capabilities on boot, like isMobileDevice\n    // this._setCapabilities()\n  } // _setCapabilities = () => {\n  //   const capabilities = {\n  //     isMobileDevice: isMobileDevice()\n  //   }\n  //   this.setState({\n  //     ...this.getState().capabilities,\n  //     capabilities\n  //   })\n  // }\n\n\n  var _proto = Uppy.prototype;\n\n  _proto.on = function on(event, callback) {\n    this.emitter.on(event, callback);\n    return this;\n  };\n\n  _proto.off = function off(event, callback) {\n    this.emitter.off(event, callback);\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n  ;\n\n  _proto.updateAll = function updateAll(state) {\n    this.iteratePlugins(function (plugin) {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n  ;\n\n  _proto.setState = function setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n  ;\n\n  _proto.getState = function getState() {\n    return this.store.getState();\n  }\n  /**\n   * Back compat for when uppy.state is used instead of uppy.getState().\n   * @deprecated\n   */\n  ;\n\n  /**\n   * Shorthand to set state for a specific file.\n   */\n  _proto.setFileState = function setFileState(fileID, state) {\n    var _extends2;\n\n    if (!this.getState().files[fileID]) {\n      throw new Error(\"Can\\u2019t set state for \" + fileID + \" (the file could have been removed)\");\n    }\n\n    this.setState({\n      files: _extends({}, this.getState().files, (_extends2 = {}, _extends2[fileID] = _extends({}, this.getState().files[fileID], state), _extends2))\n    });\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.locale = this.translator.locale;\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.i18nArray = this.translator.translateArray.bind(this.translator);\n  };\n\n  _proto.setOptions = function setOptions(newOpts) {\n    this.opts = _extends({}, this.opts, newOpts, {\n      restrictions: _extends({}, this.opts.restrictions, newOpts && newOpts.restrictions)\n    });\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(function (plugin) {\n        plugin.setOptions();\n      });\n    } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n    this.setState(); // so that UI re-renders with new options\n  };\n\n  _proto.resetProgress = function resetProgress() {\n    var defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n\n    var files = _extends({}, this.getState().files);\n\n    var updatedFiles = {};\n    Object.keys(files).forEach(function (fileID) {\n      var updatedFile = _extends({}, files[fileID]);\n\n      updatedFile.progress = _extends({}, updatedFile.progress, defaultProgress);\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  };\n\n  _proto.addPreProcessor = function addPreProcessor(fn) {\n    this.preProcessors.push(fn);\n  };\n\n  _proto.removePreProcessor = function removePreProcessor(fn) {\n    var i = this.preProcessors.indexOf(fn);\n\n    if (i !== -1) {\n      this.preProcessors.splice(i, 1);\n    }\n  };\n\n  _proto.addPostProcessor = function addPostProcessor(fn) {\n    this.postProcessors.push(fn);\n  };\n\n  _proto.removePostProcessor = function removePostProcessor(fn) {\n    var i = this.postProcessors.indexOf(fn);\n\n    if (i !== -1) {\n      this.postProcessors.splice(i, 1);\n    }\n  };\n\n  _proto.addUploader = function addUploader(fn) {\n    this.uploaders.push(fn);\n  };\n\n  _proto.removeUploader = function removeUploader(fn) {\n    var i = this.uploaders.indexOf(fn);\n\n    if (i !== -1) {\n      this.uploaders.splice(i, 1);\n    }\n  };\n\n  _proto.setMeta = function setMeta(data) {\n    var updatedMeta = _extends({}, this.getState().meta, data);\n\n    var updatedFiles = _extends({}, this.getState().files);\n\n    Object.keys(updatedFiles).forEach(function (fileID) {\n      updatedFiles[fileID] = _extends({}, updatedFiles[fileID], {\n        meta: _extends({}, updatedFiles[fileID].meta, data)\n      });\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  };\n\n  _proto.setFileMeta = function setFileMeta(fileID, data) {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    var newMeta = _extends({}, updatedFiles[fileID].meta, data);\n\n    updatedFiles[fileID] = _extends({}, updatedFiles[fileID], {\n      meta: newMeta\n    });\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n  ;\n\n  _proto.getFile = function getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n  ;\n\n  _proto.getFiles = function getFiles() {\n    var _this$getState = this.getState(),\n        files = _this$getState.files;\n\n    return Object.keys(files).map(function (fileID) {\n      return files[fileID];\n    });\n  }\n  /**\n   * A public wrapper for _checkRestrictions — checks if a file passes a set of restrictions.\n   * For use in UI pluigins (like Providers), to disallow selecting files that won’t pass restrictions.\n   *\n   * @param {object} file object to check\n   * @param {Array} [files] array to check maxNumberOfFiles and maxTotalFileSize\n   * @returns {object} { result: true/false, reason: why file didn’t pass restrictions }\n   */\n  ;\n\n  _proto.validateRestrictions = function validateRestrictions(file, files) {\n    try {\n      this.checkRestrictions(file, files);\n      return {\n        result: true\n      };\n    } catch (err) {\n      return {\n        result: false,\n        reason: err.message\n      };\n    }\n  }\n  /**\n   * Check if file passes a set of restrictions set in options: maxFileSize, minFileSize,\n   * maxNumberOfFiles and allowedFileTypes.\n   *\n   * @param {object} file object to check\n   * @param {Array} [files] array to check maxNumberOfFiles and maxTotalFileSize\n   * @private\n   */\n  ;\n\n  _proto.checkRestrictions = function checkRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    var _this$opts$restrictio = this.opts.restrictions,\n        maxFileSize = _this$opts$restrictio.maxFileSize,\n        minFileSize = _this$opts$restrictio.minFileSize,\n        maxTotalFileSize = _this$opts$restrictio.maxTotalFileSize,\n        maxNumberOfFiles = _this$opts$restrictio.maxNumberOfFiles,\n        allowedFileTypes = _this$opts$restrictio.allowedFileTypes;\n\n    if (maxNumberOfFiles) {\n      if (files.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(\"\" + this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        }));\n      }\n    }\n\n    if (allowedFileTypes) {\n      var isCorrectFileType = allowedFileTypes.some(function (type) {\n        // check if this is a mime-type\n        if (type.indexOf('/') > -1) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.substr(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        var allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      var totalFilesSize = 0;\n      totalFilesSize += file.size;\n      files.forEach(function (f) {\n        totalFilesSize += f.size;\n      });\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize2', {\n          backwardsCompat: this.i18n('exceedsSize'),\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null) {\n      if (file.size > maxFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize2', {\n          backwardsCompat: this.i18n('exceedsSize'),\n          size: prettierBytes(maxFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null) {\n      if (file.size < minFileSize) {\n        throw new RestrictionError(this.i18n('inferiorSize', {\n          size: prettierBytes(minFileSize)\n        }));\n      }\n    }\n  }\n  /**\n   * Check if minNumberOfFiles restriction is reached before uploading.\n   *\n   * @private\n   */\n  ;\n\n  _proto.checkMinNumberOfFiles = function checkMinNumberOfFiles(files) {\n    var minNumberOfFiles = this.opts.restrictions.minNumberOfFiles;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(\"\" + this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n  /**\n   * Check if requiredMetaField restriction is met before uploading.\n   *\n   * @private\n   */\n  ;\n\n  _proto.checkRequiredMetaFields = function checkRequiredMetaFields(files) {\n    var requiredMetaFields = this.opts.restrictions.requiredMetaFields;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var errors = [];\n    var fileIDs = Object.keys(files);\n\n    for (var i = 0; i < fileIDs.length; i++) {\n      var file = this.getFile(fileIDs[i]);\n\n      for (var _i = 0; _i < requiredMetaFields.length; _i++) {\n        if (!hasOwnProperty.call(file.meta, requiredMetaFields[_i]) || file.meta[requiredMetaFields[_i]] === '') {\n          var err = new RestrictionError(\"\" + this.i18n('missingRequiredMetaFieldOnFile', {\n            fileName: file.name\n          }));\n          errors.push(err);\n          this.showOrLogErrorAndThrow(err, {\n            file: file,\n            throwErr: false\n          });\n        }\n      }\n    }\n\n    if (errors.length) {\n      throw new AggregateRestrictionError(\"\" + this.i18n('missingRequiredMetaField'), errors);\n    }\n  }\n  /**\n   * Logs an error, sets Informer message, then throws the error.\n   * Emits a 'restriction-failed' event if it’s a restriction error\n   *\n   * @param {object | string} err — Error object or plain string message\n   * @param {object} [options]\n   * @param {boolean} [options.showInformer=true] — Sometimes developer might want to show Informer manually\n   * @param {object} [options.file=null] — File object used to emit the restriction error\n   * @param {boolean} [options.throwErr=true] — Errors shouldn’t be thrown, for example, in `upload-error` event\n   * @private\n   */\n  ;\n\n  _proto.showOrLogErrorAndThrow = function showOrLogErrorAndThrow(err, _temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$showInformer = _ref.showInformer,\n        showInformer = _ref$showInformer === void 0 ? true : _ref$showInformer,\n        _ref$file = _ref.file,\n        file = _ref$file === void 0 ? null : _ref$file,\n        _ref$throwErr = _ref.throwErr,\n        throwErr = _ref$throwErr === void 0 ? true : _ref$throwErr;\n\n    var message = typeof err === 'object' ? err.message : err;\n    var details = typeof err === 'object' && err.details ? err.details : ''; // Restriction errors should be logged, but not as errors,\n    // as they are expected and shown in the UI.\n\n    var logMessageWithDetails = message;\n\n    if (details) {\n      logMessageWithDetails += \" \" + details;\n    }\n\n    if (err.isRestriction) {\n      this.log(logMessageWithDetails);\n      this.emit('restriction-failed', file, err);\n    } else {\n      this.log(logMessageWithDetails, 'error');\n    } // Sometimes informer has to be shown manually by the developer,\n    // for example, in `onBeforeFileAdded`.\n\n\n    if (showInformer) {\n      this.info({\n        message: message,\n        details: details\n      }, 'error', this.opts.infoTimeout);\n    }\n\n    if (throwErr) {\n      throw typeof err === 'object' ? err : new Error(err);\n    }\n  };\n\n  _proto.assertNewUploadAllowed = function assertNewUploadAllowed(file) {\n    var _this$getState2 = this.getState(),\n        allowNewUpload = _this$getState2.allowNewUpload;\n\n    if (allowNewUpload === false) {\n      this.showOrLogErrorAndThrow(new RestrictionError(this.i18n('noNewAlreadyUploading')), {\n        file: file\n      });\n    }\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n  ;\n\n  _proto.checkAndCreateFileStateObject = function checkAndCreateFileStateObject(files, f) {\n    var fileType = getFileType(f);\n    var file = f;\n    file.type = fileType;\n    var onBeforeFileAddedResult = this.opts.onBeforeFileAdded(file, files);\n\n    if (onBeforeFileAddedResult === false) {\n      // Don’t show UI info for this error, as it should be done by the developer\n      this.showOrLogErrorAndThrow(new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.'), {\n        showInformer: false,\n        file: file\n      });\n    }\n\n    if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult) {\n      file = onBeforeFileAddedResult;\n    }\n\n    var fileName;\n\n    if (file.name) {\n      fileName = file.name;\n    } else if (fileType.split('/')[0] === 'image') {\n      fileName = fileType.split('/')[0] + \".\" + fileType.split('/')[1];\n    } else {\n      fileName = 'noname';\n    }\n\n    var fileExtension = getFileNameAndExtension(fileName).extension;\n    var isRemote = file.isRemote || false;\n    var fileID = generateFileID(file);\n\n    if (files[fileID] && !files[fileID].isGhost) {\n      this.showOrLogErrorAndThrow(new RestrictionError(this.i18n('noDuplicates', {\n        fileName: fileName\n      })), {\n        file: file\n      });\n    }\n\n    var meta = file.meta || {};\n    meta.name = fileName;\n    meta.type = fileType; // `null` means the size is unknown.\n\n    var size = isFinite(file.data.size) ? file.data.size : null;\n    var newFile = {\n      source: file.source || '',\n      id: fileID,\n      name: fileName,\n      extension: fileExtension || '',\n      meta: _extends({}, this.getState().meta, meta),\n      type: fileType,\n      data: file.data,\n      progress: {\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: size,\n        uploadComplete: false,\n        uploadStarted: null\n      },\n      size: size,\n      isRemote: isRemote,\n      remote: file.remote || '',\n      preview: file.preview\n    };\n\n    try {\n      var filesArray = Object.keys(files).map(function (i) {\n        return files[i];\n      });\n      this.checkRestrictions(newFile, filesArray);\n    } catch (err) {\n      this.showOrLogErrorAndThrow(err, {\n        file: newFile\n      });\n    }\n\n    return newFile;\n  } // Schedule an upload if `autoProceed` is enabled.\n  ;\n\n  _proto.startIfAutoProceed = function startIfAutoProceed() {\n    var _this5 = this;\n\n    if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n      this.scheduledAutoProceed = setTimeout(function () {\n        _this5.scheduledAutoProceed = null;\n\n        _this5.upload().catch(function (err) {\n          if (!err.isRestriction) {\n            _this5.log(err.stack || err.message || err);\n          }\n        });\n      }, 4);\n    }\n  }\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  ;\n\n  _proto.addFile = function addFile(file) {\n    var _extends3;\n\n    this.assertNewUploadAllowed(file);\n\n    var _this$getState3 = this.getState(),\n        files = _this$getState3.files;\n\n    var newFile = this.checkAndCreateFileStateObject(files, file); // Users are asked to re-select recovered files without data,\n    // and to keep the progress, meta and everthing else, we only replace said data\n\n    if (files[newFile.id] && files[newFile.id].isGhost) {\n      newFile = _extends({}, files[newFile.id], {\n        data: file.data,\n        isGhost: false\n      });\n      this.log(\"Replaced the blob in the restored ghost file: \" + newFile.name + \", \" + newFile.id);\n    }\n\n    this.setState({\n      files: _extends({}, files, (_extends3 = {}, _extends3[newFile.id] = newFile, _extends3))\n    });\n    this.emit('file-added', newFile);\n    this.emit('files-added', [newFile]);\n    this.log(\"Added file: \" + newFile.name + \", \" + newFile.id + \", mime type: \" + newFile.type);\n    this.startIfAutoProceed();\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n  ;\n\n  _proto.addFiles = function addFiles(fileDescriptors) {\n    var _this6 = this;\n\n    this.assertNewUploadAllowed(); // create a copy of the files object only once\n\n    var files = _extends({}, this.getState().files);\n\n    var newFiles = [];\n    var errors = [];\n\n    for (var i = 0; i < fileDescriptors.length; i++) {\n      try {\n        var newFile = this.checkAndCreateFileStateObject(files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n        // and to keep the progress, meta and everthing else, we only replace said data\n\n        if (files[newFile.id] && files[newFile.id].isGhost) {\n          newFile = _extends({}, files[newFile.id], {\n            data: fileDescriptors[i].data,\n            isGhost: false\n          });\n          this.log(\"Replaced blob in a ghost file: \" + newFile.name + \", \" + newFile.id);\n        }\n\n        files[newFile.id] = newFile;\n        newFiles.push(newFile);\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files: files\n    });\n    newFiles.forEach(function (newFile) {\n      _this6.emit('file-added', newFile);\n    });\n    this.emit('files-added', newFiles);\n\n    if (newFiles.length > 5) {\n      this.log(\"Added batch of \" + newFiles.length + \" files\");\n    } else {\n      Object.keys(newFiles).forEach(function (fileID) {\n        _this6.log(\"Added file: \" + newFiles[fileID].name + \"\\n id: \" + newFiles[fileID].id + \"\\n type: \" + newFiles[fileID].type);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      this.startIfAutoProceed();\n    }\n\n    if (errors.length > 0) {\n      var message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(function (subError) {\n        message += \"\\n * \" + subError.message;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(errors, message);\n      } else {\n        var err = new Error(message);\n        err.errors = errors;\n        throw err;\n      }\n    }\n  };\n\n  _proto.removeFiles = function removeFiles(fileIDs, reason) {\n    var _this7 = this;\n\n    var _this$getState4 = this.getState(),\n        files = _this$getState4.files,\n        currentUploads = _this$getState4.currentUploads;\n\n    var updatedFiles = _extends({}, files);\n\n    var updatedUploads = _extends({}, currentUploads);\n\n    var removedFiles = Object.create(null);\n    fileIDs.forEach(function (fileID) {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    Object.keys(updatedUploads).forEach(function (uploadID) {\n      var newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n\n      updatedUploads[uploadID] = _extends({}, currentUploads[uploadID], {\n        fileIDs: newFileIDs\n      });\n    });\n    var stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads,\n    // and clear recoveredState\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    var removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(function (fileID) {\n      _this7.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(\"Removed \" + removedFileIDs.length + \" files\");\n    } else {\n      this.log(\"Removed files: \" + removedFileIDs.join(', '));\n    }\n  };\n\n  _proto.removeFile = function removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  };\n\n  _proto.pauseResume = function pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n\n    var wasPaused = this.getFile(fileID).isPaused || false;\n    var isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused: isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  };\n\n  _proto.pauseAll = function pauseAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var inProgressUpdatedFiles = Object.keys(updatedFiles).filter(function (file) {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: true\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  };\n\n  _proto.resumeAll = function resumeAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var inProgressUpdatedFiles = Object.keys(updatedFiles).filter(function (file) {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: false,\n        error: null\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  };\n\n  _proto.retryAll = function retryAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var filesToRetry = Object.keys(updatedFiles).filter(function (file) {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: false,\n        error: null\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    var uploadID = this.createUpload(filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n    return this.runUpload(uploadID);\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    this.emit('cancel-all');\n\n    var _this$getState5 = this.getState(),\n        files = _this$getState5.files;\n\n    var fileIDs = Object.keys(files);\n\n    if (fileIDs.length) {\n      this.removeFiles(fileIDs, 'cancel-all');\n    }\n\n    this.setState({\n      totalProgress: 0,\n      error: null,\n      recoveredState: null\n    });\n  };\n\n  _proto.retryUpload = function retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n    var uploadID = this.createUpload([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n    return this.runUpload(uploadID);\n  };\n\n  _proto.reset = function reset() {\n    this.cancelAll();\n  };\n\n  _proto.logout = function logout() {\n    this.iteratePlugins(function (plugin) {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  };\n\n  _proto.calculateProgress = function calculateProgress(file, data) {\n    if (!this.getFile(file.id)) {\n      this.log(\"Not setting progress for a file that has been removed: \" + file.id);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    var canHavePercentage = isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: _extends({}, this.getFile(file.id).progress, {\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage // TODO(goto-bus-stop) flooring this should probably be the choice of the UI?\n        // we get more accurate calculations if we don't round this at all.\n        ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      })\n    });\n    this.calculateTotalProgress();\n  };\n\n  _proto.calculateTotalProgress = function calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    var files = this.getFiles();\n    var inProgress = files.filter(function (file) {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    var sizedFiles = inProgress.filter(function (file) {\n      return file.progress.bytesTotal != null;\n    });\n    var unsizedFiles = inProgress.filter(function (file) {\n      return file.progress.bytesTotal == null;\n    });\n\n    if (sizedFiles.length === 0) {\n      var progressMax = inProgress.length * 100;\n      var currentProgress = unsizedFiles.reduce(function (acc, file) {\n        return acc + file.progress.percentage;\n      }, 0);\n\n      var _totalProgress = Math.round(currentProgress / progressMax * 100);\n\n      this.setState({\n        totalProgress: _totalProgress\n      });\n      return;\n    }\n\n    var totalSize = sizedFiles.reduce(function (acc, file) {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    var averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    var uploadedSize = 0;\n    sizedFiles.forEach(function (file) {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(function (file) {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    var totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress: totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n  ;\n\n  _proto.addListeners = function addListeners() {\n    var _this8 = this;\n\n    /**\n     * @param {Error} error\n     * @param {object} [file]\n     * @param {object} [response]\n     */\n    var errorHandler = function errorHandler(error, file, response) {\n      var errorMsg = error.message || 'Unknown error';\n\n      if (error.details) {\n        errorMsg += \" \" + error.details;\n      }\n\n      _this8.setState({\n        error: errorMsg\n      }); // When a file is also given, we store the error on the file object.\n\n\n      if (file != null && typeof file.id === 'string') {\n        _this8.setFileState(file.id, {\n          error: errorMsg,\n          response: response\n        });\n      }\n    };\n\n    this.on('error', errorHandler);\n    this.on('upload-error', function (file, error, response) {\n      errorHandler(error, file, response);\n\n      if (typeof error === 'object' && error.message) {\n        var newError = new Error(error.message);\n        newError.details = error.message;\n\n        if (error.details) {\n          newError.details += \" \" + error.details;\n        }\n\n        newError.message = _this8.i18n('failedToUpload', {\n          file: file.name\n        });\n\n        _this8.showOrLogErrorAndThrow(newError, {\n          throwErr: false\n        });\n      } else {\n        _this8.showOrLogErrorAndThrow(error, {\n          throwErr: false\n        });\n      }\n    });\n    this.on('upload', function () {\n      _this8.setState({\n        error: null\n      });\n    });\n    this.on('upload-started', function (file) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this8.setFileState(file.id, {\n        progress: {\n          uploadStarted: Date.now(),\n          uploadComplete: false,\n          percentage: 0,\n          bytesUploaded: 0,\n          bytesTotal: file.size\n        }\n      });\n    });\n    this.on('upload-progress', this.calculateProgress);\n    this.on('upload-success', function (file, uploadResp) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var currentProgress = _this8.getFile(file.id).progress;\n\n      _this8.setFileState(file.id, {\n        progress: _extends({}, currentProgress, {\n          postprocess: _this8.postProcessors.length > 0 ? {\n            mode: 'indeterminate'\n          } : null,\n          uploadComplete: true,\n          percentage: 100,\n          bytesUploaded: currentProgress.bytesTotal\n        }),\n        response: uploadResp,\n        uploadURL: uploadResp.uploadURL,\n        isPaused: false\n      }); // Remote providers sometimes don't tell us the file size,\n      // but we can know how many bytes we uploaded once the upload is complete.\n\n\n      if (file.size == null) {\n        _this8.setFileState(file.id, {\n          size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n        });\n      }\n\n      _this8.calculateTotalProgress();\n    });\n    this.on('preprocess-progress', function (file, progress) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this8.setFileState(file.id, {\n        progress: _extends({}, _this8.getFile(file.id).progress, {\n          preprocess: progress\n        })\n      });\n    });\n    this.on('preprocess-complete', function (file) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var files = _extends({}, _this8.getState().files);\n\n      files[file.id] = _extends({}, files[file.id], {\n        progress: _extends({}, files[file.id].progress)\n      });\n      delete files[file.id].progress.preprocess;\n\n      _this8.setState({\n        files: files\n      });\n    });\n    this.on('postprocess-progress', function (file, progress) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this8.setFileState(file.id, {\n        progress: _extends({}, _this8.getState().files[file.id].progress, {\n          postprocess: progress\n        })\n      });\n    });\n    this.on('postprocess-complete', function (file) {\n      if (!_this8.getFile(file.id)) {\n        _this8.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var files = _extends({}, _this8.getState().files);\n\n      files[file.id] = _extends({}, files[file.id], {\n        progress: _extends({}, files[file.id].progress)\n      });\n      delete files[file.id].progress.postprocess; // TODO should we set some kind of `fullyComplete` property on the file object\n      // so it's easier to see that the file is upload…fully complete…rather than\n      // what we have to do now (`uploadComplete && !postprocess`)\n\n      _this8.setState({\n        files: files\n      });\n    });\n    this.on('restored', function () {\n      // Files may have changed--ensure progress is still accurate.\n      _this8.calculateTotalProgress();\n    }); // show informer if offline\n\n    if (typeof window !== 'undefined' && window.addEventListener) {\n      window.addEventListener('online', function () {\n        return _this8.updateOnlineStatus();\n      });\n      window.addEventListener('offline', function () {\n        return _this8.updateOnlineStatus();\n      });\n      setTimeout(function () {\n        return _this8.updateOnlineStatus();\n      }, 3000);\n    }\n  };\n\n  _proto.updateOnlineStatus = function updateOnlineStatus() {\n    var online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  };\n\n  _proto.getID = function getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n  ;\n\n  _proto.use = function use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      var msg = \"Expected a plugin class, but got \" + (Plugin === null ? 'null' : typeof Plugin) + \".\" + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    var plugin = new Plugin(this, opts);\n    var pluginId = plugin.id;\n    this.plugins[plugin.type] = this.plugins[plugin.type] || [];\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    var existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      var _msg = \"Already found a plugin named '\" + existsPluginAlready.id + \"'. \" + (\"Tried to use: '\" + pluginId + \"'.\\n\") + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n\n      throw new Error(_msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(\"Using \" + pluginId + \" v\" + Plugin.VERSION);\n    }\n\n    this.plugins[plugin.type].push(plugin);\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {object|boolean}\n   */\n  ;\n\n  _proto.getPlugin = function getPlugin(id) {\n    var foundPlugin = null;\n    this.iteratePlugins(function (plugin) {\n      if (plugin.id === id) {\n        foundPlugin = plugin;\n        return false;\n      }\n    });\n    return foundPlugin;\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n  ;\n\n  _proto.iteratePlugins = function iteratePlugins(method) {\n    var _this9 = this;\n\n    Object.keys(this.plugins).forEach(function (pluginType) {\n      _this9.plugins[pluginType].forEach(method);\n    });\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n  ;\n\n  _proto.removePlugin = function removePlugin(instance) {\n    var _extends4;\n\n    this.log(\"Removing plugin \" + instance.id);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    var list = this.plugins[instance.type].slice(); // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n\n    var index = findIndex(list, function (item) {\n      return item.id === instance.id;\n    });\n\n    if (index !== -1) {\n      list.splice(index, 1);\n      this.plugins[instance.type] = list;\n    }\n\n    var state = this.getState();\n    var updatedState = {\n      plugins: _extends({}, state.plugins, (_extends4 = {}, _extends4[instance.id] = undefined, _extends4))\n    };\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n  ;\n\n  _proto.close = function close() {\n    var _this10 = this;\n\n    this.log(\"Closing Uppy instance \" + this.opts.id + \": removing all files and uninstalling plugins\");\n    this.reset();\n    this.storeUnsubscribe();\n    this.iteratePlugins(function (plugin) {\n      _this10.removePlugin(plugin);\n    });\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n  ;\n\n  _proto.info = function info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    var isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: {\n        isHidden: false,\n        type: type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }\n    });\n    this.emit('info-visible');\n    clearTimeout(this.infoTimeoutID);\n\n    if (duration === 0) {\n      this.infoTimeoutID = undefined;\n      return;\n    } // hide the informer after `duration` milliseconds\n\n\n    this.infoTimeoutID = setTimeout(this.hideInfo, duration);\n  };\n\n  _proto.hideInfo = function hideInfo() {\n    var newInfo = _extends({}, this.getState().info, {\n      isHidden: true\n    });\n\n    this.setState({\n      info: newInfo\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n  ;\n\n  _proto.log = function log(message, type) {\n    var logger = this.opts.logger;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Obsolete, event listeners are now added in the constructor.\n   */\n  ;\n\n  _proto.run = function run() {\n    this.log('Calling run() is no longer necessary.', 'warning');\n    return this;\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n  ;\n\n  _proto.restore = function restore(uploadID) {\n    this.log(\"Core: attempting to restore upload \\\"\" + uploadID + \"\\\"\");\n\n    if (!this.getState().currentUploads[uploadID]) {\n      this.removeUpload(uploadID);\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return this.runUpload(uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n  ;\n\n  _proto.createUpload = function createUpload(fileIDs, opts) {\n    var _extends5;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    // uppy.retryAll sets this to true — when retrying we want to ignore `allowNewUpload: false`\n    var _opts = opts,\n        _opts$forceAllowNewUp = _opts.forceAllowNewUpload,\n        forceAllowNewUpload = _opts$forceAllowNewUp === void 0 ? false : _opts$forceAllowNewUp;\n\n    var _this$getState6 = this.getState(),\n        allowNewUpload = _this$getState6.allowNewUpload,\n        currentUploads = _this$getState6.currentUploads;\n\n    if (!allowNewUpload && !forceAllowNewUpload) {\n      throw new Error('Cannot create a new upload: already uploading.');\n    }\n\n    var uploadID = cuid();\n    this.emit('upload', {\n      id: uploadID,\n      fileIDs: fileIDs\n    });\n    this.setState({\n      allowNewUpload: this.opts.allowMultipleUploads !== false,\n      currentUploads: _extends({}, currentUploads, (_extends5 = {}, _extends5[uploadID] = {\n        fileIDs: fileIDs,\n        step: 0,\n        result: {}\n      }, _extends5))\n    });\n    return uploadID;\n  };\n\n  _proto.getUpload = function getUpload(uploadID) {\n    var _this$getState7 = this.getState(),\n        currentUploads = _this$getState7.currentUploads;\n\n    return currentUploads[uploadID];\n  }\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  ;\n\n  _proto.addResultData = function addResultData(uploadID, data) {\n    var _extends6;\n\n    if (!this.getUpload(uploadID)) {\n      this.log(\"Not setting result for an upload that has been removed: \" + uploadID);\n      return;\n    }\n\n    var _this$getState8 = this.getState(),\n        currentUploads = _this$getState8.currentUploads;\n\n    var currentUpload = _extends({}, currentUploads[uploadID], {\n      result: _extends({}, currentUploads[uploadID].result, data)\n    });\n\n    this.setState({\n      currentUploads: _extends({}, currentUploads, (_extends6 = {}, _extends6[uploadID] = currentUpload, _extends6))\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n  ;\n\n  _proto.removeUpload = function removeUpload(uploadID) {\n    var currentUploads = _extends({}, this.getState().currentUploads);\n\n    delete currentUploads[uploadID];\n    this.setState({\n      currentUploads: currentUploads\n    });\n  }\n  /**\n   * Run an upload. This picks up where it left off in case the upload is being restored.\n   *\n   * @private\n   */\n  ;\n\n  _proto.runUpload = function runUpload(uploadID) {\n    var _this11 = this;\n\n    var uploadData = this.getState().currentUploads[uploadID];\n    var restoreStep = uploadData.step;\n    var steps = [].concat(this.preProcessors, this.uploaders, this.postProcessors);\n    var lastStep = Promise.resolve();\n    steps.forEach(function (fn, step) {\n      // Skip this step if we are restoring and have already completed this step before.\n      if (step < restoreStep) {\n        return;\n      }\n\n      lastStep = lastStep.then(function () {\n        var _extends7;\n\n        var _this11$getState = _this11.getState(),\n            currentUploads = _this11$getState.currentUploads;\n\n        var currentUpload = currentUploads[uploadID];\n\n        if (!currentUpload) {\n          return;\n        }\n\n        var updatedUpload = _extends({}, currentUpload, {\n          step: step\n        });\n\n        _this11.setState({\n          currentUploads: _extends({}, currentUploads, (_extends7 = {}, _extends7[uploadID] = updatedUpload, _extends7))\n        }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n        // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n        // eslint-disable-next-line consistent-return\n\n\n        return fn(updatedUpload.fileIDs, uploadID);\n      }).then(function () {\n        return null;\n      });\n    }); // Not returning the `catch`ed promise, because we still want to return a rejected\n    // promise from this method if the upload failed.\n\n    lastStep.catch(function (err) {\n      _this11.emit('error', err);\n\n      _this11.removeUpload(uploadID);\n    });\n    return lastStep.then(function () {\n      // Set result data.\n      var _this11$getState2 = _this11.getState(),\n          currentUploads = _this11$getState2.currentUploads;\n\n      var currentUpload = currentUploads[uploadID];\n\n      if (!currentUpload) {\n        return;\n      } // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n      // stuck in the postprocessing UI while the upload is fully complete.\n      // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n      // all, and never mark the postprocessing as complete. This is fine on its own but we\n      // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n      // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n      // before the postprocessing plugins can emit events.\n      //\n      // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n      // postprocessing completion, we do it instead.\n\n\n      currentUpload.fileIDs.forEach(function (fileID) {\n        var file = _this11.getFile(fileID);\n\n        if (file && file.progress.postprocess) {\n          _this11.emit('postprocess-complete', file);\n        }\n      });\n      var files = currentUpload.fileIDs.map(function (fileID) {\n        return _this11.getFile(fileID);\n      });\n      var successful = files.filter(function (file) {\n        return !file.error;\n      });\n      var failed = files.filter(function (file) {\n        return file.error;\n      });\n\n      _this11.addResultData(uploadID, {\n        successful: successful,\n        failed: failed,\n        uploadID: uploadID\n      });\n    }).then(function () {\n      // Emit completion events.\n      // This is in a separate function so that the `currentUploads` variable\n      // always refers to the latest state. In the handler right above it refers\n      // to an outdated object without the `.result` property.\n      var _this11$getState3 = _this11.getState(),\n          currentUploads = _this11$getState3.currentUploads;\n\n      if (!currentUploads[uploadID]) {\n        return;\n      }\n\n      var currentUpload = currentUploads[uploadID];\n      var result = currentUpload.result;\n\n      _this11.emit('complete', result);\n\n      _this11.removeUpload(uploadID); // eslint-disable-next-line consistent-return\n\n\n      return result;\n    }).then(function (result) {\n      if (result == null) {\n        _this11.log(\"Not setting result for an upload that has been removed: \" + uploadID);\n      }\n\n      return result;\n    });\n  }\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  ;\n\n  _proto.upload = function upload() {\n    var _this12 = this;\n\n    if (!this.plugins.uploader) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    var _this$getState9 = this.getState(),\n        files = _this$getState9.files;\n\n    var onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files: files\n      });\n    }\n\n    return Promise.resolve().then(function () {\n      _this12.checkMinNumberOfFiles(files);\n\n      _this12.checkRequiredMetaFields(files);\n    }).catch(function (err) {\n      _this12.showOrLogErrorAndThrow(err);\n    }).then(function () {\n      var _this12$getState = _this12.getState(),\n          currentUploads = _this12$getState.currentUploads; // get a list of files that are currently assigned to uploads\n\n\n      var currentlyUploadingFiles = Object.keys(currentUploads).reduce(function (prev, curr) {\n        return prev.concat(currentUploads[curr].fileIDs);\n      }, []);\n      var waitingFileIDs = [];\n      Object.keys(files).forEach(function (fileID) {\n        var file = _this12.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      var uploadID = _this12.createUpload(waitingFileIDs);\n\n      return _this12.runUpload(uploadID);\n    }).catch(function (err) {\n      _this12.showOrLogErrorAndThrow(err, {\n        showInformer: false\n      });\n    });\n  };\n\n  _createClass(Uppy, [{\n    key: \"state\",\n    get: function get() {\n      // Here, state is a non-enumerable property.\n      return this.getState();\n    }\n  }]);\n\n  return Uppy;\n}();\n\nUppy.VERSION = \"1.20.1\";\n\nmodule.exports = function core(opts) {\n  return new Uppy(opts);\n}; // Expose class constructor.\n\n\nmodule.exports.Uppy = Uppy;\nmodule.exports.Plugin = Plugin;\nmodule.exports.debugLogger = debugLogger;","var getTimeStamp = require('@uppy/utils/lib/getTimeStamp'); // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\n\nvar justErrorsLogger = {\n  debug: function debug() {},\n  warn: function warn() {},\n  error: function error() {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_console = console).error.apply(_console, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nvar debugLogger = {\n  debug: function debug() {\n    // IE 10 doesn’t support console.debug\n    var debug = console.debug || console.log;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    debug.call.apply(debug, [console, \"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  },\n  warn: function warn() {\n    var _console2;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return (_console2 = console).warn.apply(_console2, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  },\n  error: function error() {\n    var _console3;\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return (_console3 = console).error.apply(_console3, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  }\n};\nmodule.exports = {\n  justErrorsLogger: justErrorsLogger,\n  debugLogger: debugLogger\n};","// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nmodule.exports = function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null) {\n    userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : null;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  var m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  var edgeVersion = m[1];\n\n  var _edgeVersion$split = edgeVersion.split('.'),\n      major = _edgeVersion$split[0],\n      minor = _edgeVersion$split[1];\n\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n};","var _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar toArray = require('@uppy/utils/lib/toArray');\n\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar _require2 = require('preact'),\n    h = _require2.h;\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(FileInput, _Plugin);\n\n  function FileInput(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.id = _this.opts.id || 'FileInput';\n    _this.title = 'File Input';\n    _this.type = 'acquirer';\n    _this.defaultLocale = {\n      strings: {\n        // The same key is used for the same purpose by @uppy/robodog's `form()` API, but our\n        // locale pack scripts can't access it in Robodog. If it is updated here, it should\n        // also be updated there!\n        chooseFiles: 'Choose files'\n      }\n    }; // Default options\n\n    var defaultOptions = {\n      target: null,\n      pretty: true,\n      inputName: 'files[]'\n    }; // Merge default options with the ones set by user\n\n    _this.opts = _extends({}, defaultOptions, opts);\n\n    _this.i18nInit();\n\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = FileInput.prototype;\n\n  _proto.setOptions = function setOptions(newOpts) {\n    _Plugin.prototype.setOptions.call(this, newOpts);\n\n    this.i18nInit();\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.i18nArray = this.translator.translateArray.bind(this.translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  };\n\n  _proto.addFiles = function addFiles(files) {\n    var _this2 = this;\n\n    var descriptors = files.map(function (file) {\n      return {\n        source: _this2.id,\n        name: file.name,\n        type: file.type,\n        data: file\n      };\n    });\n\n    try {\n      this.uppy.addFiles(descriptors);\n    } catch (err) {\n      this.uppy.log(err);\n    }\n  };\n\n  _proto.handleInputChange = function handleInputChange(event) {\n    this.uppy.log('[FileInput] Something selected through input...');\n    var files = toArray(event.target.files);\n    this.addFiles(files); // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n\n    event.target.value = null;\n  };\n\n  _proto.handleClick = function handleClick(ev) {\n    this.input.click();\n  };\n\n  _proto.render = function render(state) {\n    var _this3 = this;\n\n    /* http://tympanus.net/codrops/2015/09/15/styling-customizing-file-inputs-smart-way/ */\n    var hiddenInputStyle = {\n      width: '0.1px',\n      height: '0.1px',\n      opacity: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      zIndex: -1\n    };\n    var restrictions = this.uppy.opts.restrictions;\n    var accept = restrictions.allowedFileTypes ? restrictions.allowedFileTypes.join(',') : null;\n    return h(\"div\", {\n      className: \"uppy-Root uppy-FileInput-container\"\n    }, h(\"input\", {\n      className: \"uppy-FileInput-input\",\n      style: this.opts.pretty && hiddenInputStyle,\n      type: \"file\",\n      name: this.opts.inputName,\n      onChange: this.handleInputChange,\n      multiple: restrictions.maxNumberOfFiles !== 1,\n      accept: accept,\n      ref: function ref(input) {\n        _this3.input = input;\n      }\n    }), this.opts.pretty && h(\"button\", {\n      className: \"uppy-FileInput-btn\",\n      type: \"button\",\n      onClick: this.handleClick\n    }, this.i18n('chooseFiles')));\n  };\n\n  _proto.install = function install() {\n    var target = this.opts.target;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  };\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return FileInput;\n}(Plugin), _class.VERSION = \"1.5.2\", _temp);","var de_DE = {};\nde_DE.strings = {\n  addMoreFiles: 'Dateien hinzufügen',\n  addingMoreFiles: 'Dateien hinzufügen',\n  allowAccessDescription: 'Um Bilder oder Videos mit Ihrer Kamera aufzunehmen, erlauben Sie dieser Website bitte Zugriff auf Ihre Kamera.',\n  allowAccessTitle: 'Bitte erlauben Sie Zugriff auf Ihre Kamera',\n  authenticateWith: 'Mit %{pluginName} verbinden',\n  authenticateWithTitle: 'Bitte authentifizieren Sie sich mit %{pluginName}, um Dateien auszuwählen',\n  back: 'Zurück',\n  addMore: 'Dateien hinzufügen',\n  browse: 'Suche',\n  browseFiles: 'Suche',\n  cancel: 'Abbrechen',\n  cancelUpload: 'Upload abbrechen',\n  chooseFiles: 'Dateien auswählen',\n  closeModal: 'Modal schließen',\n  companionError: 'Verbindung zu Companion fehlgeschlagen',\n  complete: 'Fertig',\n  connectedToInternet: 'Verbunden mit dem Internet',\n  copyLink: 'Link kopieren',\n  copyLinkToClipboardFallback: 'Untenstehenden URL kopieren',\n  copyLinkToClipboardSuccess: 'Link in die Zwischenablage kopiert',\n  creatingAssembly: 'Upload vorbereiten...',\n  creatingAssemblyFailed: 'Transloadit: Konnte Assembly nicht erstellen',\n  dashboardTitle: 'Datei Uploader',\n  dashboardWindowTitle: 'Datei Uploader Fenster (Esc drücken zum Schließen)',\n  dataUploadedOfTotal: '%{complete} von %{total}',\n  done: 'Abgeschlossen',\n  dropHereOr: 'Dateien können über Drag/Drop oder per %{browse} hinzugefügt werden',\n  dropHint: 'Dateien können über Drag/Drop hinzugefügt werden',\n  dropPasteBoth: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteFiles: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteFolders: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteImportBoth: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  dropPasteImportFiles: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  dropPasteImportFolders: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  editFile: 'Datei bearbeiten',\n  editing: '%{file} bearbeiten',\n  emptyFolderAdded: 'Keine Dateien konnten hinzugefügt werden, da der Ordner leer war',\n  encoding: 'Enkodieren...',\n  enterCorrectUrl: 'Falsche URL: Bitte stellen Sie sicher, dass Sie einen direkten Link zu einer Datei eingeben',\n  enterUrlToImport: 'URL zum Importieren einer Datei eingeben',\n  exceedsSize: 'Diese Datei ist größer als die maximal erlaubte Dateigröße',\n  failedToFetch: 'Companion konnte diese URL nicht verarbeiten - stellen Sie bitte sicher, dass sie korrekt ist',\n  failedToUpload: 'Fehler beim Upload von Datei %{file}',\n  fileSource: 'Dateiquelle: %{name}',\n  filesUploadedOfTotal: {\n    '0': '%{complete} von %{smart_count} Datei hochgeladen',\n    '1': '%{complete} von %{smart_count} Dateien hochgeladen',\n    '2': '%{complete} von %{smart_count} Dateien hochgeladen'\n  },\n  filter: 'Filter',\n  finishEditingFile: 'Dateibearbeitung beenden',\n  folderAdded: {\n    '0': '%{smart_count} Datei von %{folder} hinzugefügt',\n    '1': '%{smart_count} Dateien von %{folder} hinzugefügt',\n    '2': '%{smart_count} Dateien von %{folder} hinzugefügt'\n  },\n  import: 'Import',\n  importFrom: 'Importieren von %{name}',\n  loading: 'Laden...',\n  logOut: 'Ausloggen',\n  myDevice: 'Mein Gerät',\n  noCameraDescription: 'Bitte Kamera anschließen, um Bilder oder Videos aufzunehmen',\n  noCameraTitle: 'Kamera nicht verfügbar',\n  noDuplicates: 'Datei \\'%{fileName}\\' existiert bereits und kann nicht erneut hinzugefügt werden',\n  noFilesFound: 'Sie haben keine Dateien oder Ordner hier',\n  noInternetConnection: 'Keine Internetverbindung',\n  noNewAlreadyUploading: 'Während der Upload läuft, können keine weiteren Dateien hinzugefügt werden',\n  pause: 'Pausieren',\n  pauseUpload: 'Upload pausieren',\n  paused: 'Pausiert',\n  poweredBy: 'Angetrieben von',\n  processingXFiles: {\n    '0': '%{smart_count} Datei verarbeiten',\n    '1': '%{smart_count} Dateien verarbeiten',\n    '2': '%{smart_count} Dateien verarbeiten'\n  },\n  recordingLength: 'Aufnahmedauer %{recording_length}',\n  removeFile: 'Datei entfernen',\n  resetFilter: 'Filter zurücksetzen',\n  resume: 'Fortsetzen',\n  resumeUpload: 'Upload fortsetzen',\n  retry: 'Erneut versuchen',\n  retryUpload: 'Upload erneut versuchen',\n  saveChanges: 'Änderungen speichern',\n  selectX: {\n    '0': 'Wählen Sie %{smart_count}',\n    '1': 'Wählen Sie %{smart_count}',\n    '2': 'Wählen Sie %{smart_count}'\n  },\n  smile: 'Bitte lächeln!',\n  startRecording: 'Videoaufnahme starten',\n  stopRecording: 'Videoaufnahme beenden',\n  takePicture: 'Ein Foto machen',\n  timedOut: 'Upload für %{seconds} Sekunden stehen geblieben, breche ab.',\n  upload: 'Upload',\n  uploadComplete: 'Upload beendet',\n  uploadFailed: 'Upload fehlgeschlagen',\n  uploadPaused: 'Upload pausiert',\n  uploadXFiles: {\n    '0': '%{smart_count} Datei hochladen',\n    '1': '%{smart_count} Dateien hochladen',\n    '2': '%{smart_count} Dateien hochladen'\n  },\n  uploadXNewFiles: {\n    '0': '+%{smart_count} Datei hochladen',\n    '1': '+%{smart_count} Dateien hochladen',\n    '2': '+%{smart_count} Dateien hochladen'\n  },\n  uploading: 'Wird hochgeladen',\n  uploadingXFiles: {\n    '0': '%{smart_count} Datei wird hochgeladen',\n    '1': '%{smart_count} Dateien werden hochgeladen',\n    '2': '%{smart_count} Dateien werden hochgeladen'\n  },\n  xFilesSelected: {\n    '0': '%{smart_count} Datei ausgewählt',\n    '1': '%{smart_count} Dateien ausgewählt',\n    '2': '%{smart_count} Dateien ausgewählt'\n  },\n  xMoreFilesAdded: {\n    '0': '%{smart_count} weitere Datei hinzugefügt',\n    '1': '%{smart_count} weitere Dateien hinzugefügt',\n    '2': '%{smart_count} weitere Dateien hinzugefügt'\n  },\n  xTimeLeft: '%{time} verbleibend',\n  youCanOnlyUploadFileTypes: 'Sie können nur folgende Dateitypen hochladen: %{types}',\n  youCanOnlyUploadX: {\n    '0': 'Sie können nur %{smart_count} Datei hochladen',\n    '1': 'Sie können nur %{smart_count} Dateien hochladen',\n    '2': 'Sie können nur %{smart_count} Dateien hochladen'\n  },\n  youHaveToAtLeastSelectX: {\n    '0': 'Sie müssen mindestens %{smart_count} Datei auswählen',\n    '1': 'Sie müssen mindestens %{smart_count} Dateien auswählen',\n    '2': 'Sie müssen mindestens %{smart_count} Dateien auswählen'\n  },\n  selectAllFilesFromFolderNamed: 'Wählen Sie alle Dateien aus dem Ordner %{name}',\n  unselectAllFilesFromFolderNamed: 'Heben Sie die Auswahl aller Dateien aus dem Ordner auf %{name}',\n  selectFileNamed: 'Datei aussuchen %{name}',\n  unselectFileNamed: 'Datei abwählen %{name}',\n  openFolderNamed: 'Ordner öffnen %{name}'\n};\n\nde_DE.pluralize = function (n) {\n  if (n === 1) {\n    return 0;\n  }\n\n  return 1;\n};\n\nif (typeof window !== 'undefined' && typeof window.Uppy !== 'undefined') {\n  window.Uppy.locales.de_DE = de_DE;\n}\n\nmodule.exports = de_DE;","var _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar _require2 = require('preact'),\n    h = _require2.h;\n/**\n * Progress bar\n *\n */\n\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(ProgressBar, _Plugin);\n\n  function ProgressBar(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.id = _this.opts.id || 'ProgressBar';\n    _this.title = 'Progress Bar';\n    _this.type = 'progressindicator'; // set default options\n\n    var defaultOptions = {\n      target: 'body',\n      replaceTargetContent: false,\n      fixed: false,\n      hideAfterFinish: true\n    }; // merge default options with the ones set by user\n\n    _this.opts = _extends({}, defaultOptions, opts);\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ProgressBar.prototype;\n\n  _proto.render = function render(state) {\n    var progress = state.totalProgress || 0; // before starting and after finish should be hidden if specified in the options\n\n    var isHidden = (progress === 0 || progress === 100) && this.opts.hideAfterFinish;\n    return h(\"div\", {\n      className: \"uppy uppy-ProgressBar\",\n      style: {\n        position: this.opts.fixed ? 'fixed' : 'initial'\n      },\n      \"aria-hidden\": isHidden\n    }, h(\"div\", {\n      className: \"uppy-ProgressBar-inner\",\n      style: {\n        width: progress + \"%\"\n      }\n    }), h(\"div\", {\n      className: \"uppy-ProgressBar-percentage\"\n    }, progress));\n  };\n\n  _proto.install = function install() {\n    var target = this.opts.target;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  };\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return ProgressBar;\n}(Plugin), _class.VERSION = \"1.3.30\", _temp);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Default store that keeps state in a simple object.\n */\nvar DefaultStore = /*#__PURE__*/function () {\n  function DefaultStore() {\n    this.state = {};\n    this.callbacks = [];\n  }\n\n  var _proto = DefaultStore.prototype;\n\n  _proto.getState = function getState() {\n    return this.state;\n  };\n\n  _proto.setState = function setState(patch) {\n    var prevState = _extends({}, this.state);\n\n    var nextState = _extends({}, this.state, patch);\n\n    this.state = nextState;\n\n    this._publish(prevState, nextState, patch);\n  };\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    this.callbacks.push(listener);\n    return function () {\n      // Remove the listener.\n      _this.callbacks.splice(_this.callbacks.indexOf(listener), 1);\n    };\n  };\n\n  _proto._publish = function _publish() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.callbacks.forEach(function (listener) {\n      listener.apply(void 0, args);\n    });\n  };\n\n  return DefaultStore;\n}();\n\nDefaultStore.VERSION = \"1.2.7\";\n\nmodule.exports = function defaultStore() {\n  return new DefaultStore();\n};","/**\n * Create a wrapper around an event emitter with a `remove` method to remove\n * all events that were added using the wrapped emitter.\n */\nmodule.exports = /*#__PURE__*/function () {\n  function EventTracker(emitter) {\n    this._events = [];\n    this._emitter = emitter;\n  }\n\n  var _proto = EventTracker.prototype;\n\n  _proto.on = function on(event, fn) {\n    this._events.push([event, fn]);\n\n    return this._emitter.on(event, fn);\n  };\n\n  _proto.remove = function remove() {\n    var _this = this;\n\n    this._events.forEach(function (_ref) {\n      var event = _ref[0],\n          fn = _ref[1];\n\n      _this._emitter.off(event, fn);\n    });\n  };\n\n  return EventTracker;\n}();","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar NetworkError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(NetworkError, _Error);\n\n  function NetworkError(error, xhr) {\n    var _this;\n\n    if (xhr === void 0) {\n      xhr = null;\n    }\n\n    _this = _Error.call(this, \"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\\n\\nSource error: [\" + error + \"]\") || this;\n    _this.isNetworkError = true;\n    _this.request = xhr;\n    return _this;\n  }\n\n  return NetworkError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nmodule.exports = NetworkError;","/**\n * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n * Call `timer.progress()` to signal that there has been progress of any kind.\n * Call `timer.done()` when the upload has completed.\n */\nvar ProgressTimeout = /*#__PURE__*/function () {\n  function ProgressTimeout(timeout, timeoutHandler) {\n    this._timeout = timeout;\n    this._onTimedOut = timeoutHandler;\n    this._isDone = false;\n    this._aliveTimer = null;\n    this._onTimedOut = this._onTimedOut.bind(this);\n  }\n\n  var _proto = ProgressTimeout.prototype;\n\n  _proto.progress = function progress() {\n    // Some browsers fire another progress event when the upload is\n    // cancelled, so we have to ignore progress after the timer was\n    // told to stop.\n    if (this._isDone) return;\n\n    if (this._timeout > 0) {\n      if (this._aliveTimer) clearTimeout(this._aliveTimer);\n      this._aliveTimer = setTimeout(this._onTimedOut, this._timeout);\n    }\n  };\n\n  _proto.done = function done() {\n    if (this._aliveTimer) {\n      clearTimeout(this._aliveTimer);\n      this._aliveTimer = null;\n    }\n\n    this._isDone = true;\n  };\n\n  return ProgressTimeout;\n}();\n\nmodule.exports = ProgressTimeout;","var findIndex = require('./findIndex');\n\nfunction createCancelError() {\n  return new Error('Cancelled');\n}\n\nmodule.exports = /*#__PURE__*/function () {\n  function RateLimitedQueue(limit) {\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n\n    this.activeRequests = 0;\n    this.queuedHandlers = [];\n  }\n\n  var _proto = RateLimitedQueue.prototype;\n\n  _proto._call = function _call(fn) {\n    var _this = this;\n\n    this.activeRequests += 1;\n    var _done = false;\n    var cancelActive;\n\n    try {\n      cancelActive = fn();\n    } catch (err) {\n      this.activeRequests -= 1;\n      throw err;\n    }\n\n    return {\n      abort: function abort() {\n        if (_done) return;\n        _done = true;\n        _this.activeRequests -= 1;\n        cancelActive();\n\n        _this._queueNext();\n      },\n      done: function done() {\n        if (_done) return;\n        _done = true;\n        _this.activeRequests -= 1;\n\n        _this._queueNext();\n      }\n    };\n  };\n\n  _proto._queueNext = function _queueNext() {\n    var _this2 = this;\n\n    // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n    // one by one without continuously _advancing_ it (and starting new tasks before immediately\n    // aborting them)\n    Promise.resolve().then(function () {\n      _this2._next();\n    });\n  };\n\n  _proto._next = function _next() {\n    if (this.activeRequests >= this.limit) {\n      return;\n    }\n\n    if (this.queuedHandlers.length === 0) {\n      return;\n    } // Dispatch the next request, and update the abort/done handlers\n    // so that cancelling it does the Right Thing (and doesn't just try\n    // to dequeue an already-running request).\n\n\n    var next = this.queuedHandlers.shift();\n\n    var handler = this._call(next.fn);\n\n    next.abort = handler.abort;\n    next.done = handler.done;\n  };\n\n  _proto._queue = function _queue(fn, options) {\n    var _this3 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var handler = {\n      fn: fn,\n      priority: options.priority || 0,\n      abort: function abort() {\n        _this3._dequeue(handler);\n      },\n      done: function done() {\n        throw new Error('Cannot mark a queued request as done: this indicates a bug');\n      }\n    };\n    var index = findIndex(this.queuedHandlers, function (other) {\n      return handler.priority > other.priority;\n    });\n\n    if (index === -1) {\n      this.queuedHandlers.push(handler);\n    } else {\n      this.queuedHandlers.splice(index, 0, handler);\n    }\n\n    return handler;\n  };\n\n  _proto._dequeue = function _dequeue(handler) {\n    var index = this.queuedHandlers.indexOf(handler);\n\n    if (index !== -1) {\n      this.queuedHandlers.splice(index, 1);\n    }\n  };\n\n  _proto.run = function run(fn, queueOptions) {\n    if (this.activeRequests < this.limit) {\n      return this._call(fn);\n    }\n\n    return this._queue(fn, queueOptions);\n  };\n\n  _proto.wrapPromiseFunction = function wrapPromiseFunction(fn, queueOptions) {\n    var _this4 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var queuedRequest;\n      var outerPromise = new Promise(function (resolve, reject) {\n        queuedRequest = _this4.run(function () {\n          var cancelError;\n          var innerPromise;\n\n          try {\n            innerPromise = Promise.resolve(fn.apply(void 0, args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n\n          innerPromise.then(function (result) {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, function (err) {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return function () {\n            cancelError = createCancelError();\n          };\n        }, queueOptions);\n      });\n\n      outerPromise.abort = function () {\n        queuedRequest.abort();\n      };\n\n      return outerPromise;\n    };\n  };\n\n  return RateLimitedQueue;\n}();","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar has = require('./hasProperty');\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nmodule.exports = /*#__PURE__*/function () {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  function Translator(locales) {\n    var _this = this;\n\n    this.locale = {\n      strings: {},\n      pluralize: function pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(function (locale) {\n        return _this._apply(locale);\n      });\n    } else {\n      this._apply(locales);\n    }\n  }\n\n  var _proto = Translator.prototype;\n\n  _proto._apply = function _apply(locale) {\n    if (!locale || !locale.strings) {\n      return;\n    }\n\n    var prevLocale = this.locale;\n    this.locale = _extends({}, prevLocale, {\n      strings: _extends({}, prevLocale.strings, locale.strings)\n    });\n    this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n  }\n  /**\n   * Takes a string with placeholder variables like `%{smart_count} file selected`\n   * and replaces it with values from options `{smart_count: 5}`\n   *\n   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n   *\n   * @param {string} phrase that needs interpolation, with placeholders\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {any[]} interpolated\n   */\n  ;\n\n  _proto.interpolate = function interpolate(phrase, options) {\n    var _String$prototype = String.prototype,\n        split = _String$prototype.split,\n        replace = _String$prototype.replace;\n    var dollarRegex = /\\$/g;\n    var dollarBillsYall = '$$$$';\n    var interpolated = [phrase];\n\n    for (var arg in options) {\n      if (arg !== '_' && has(options, arg)) {\n        // Ensure replacement value is escaped to prevent special $-prefixed\n        // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n        // be escaped with \"$\" itself, and we need two in the resulting output.\n        var replacement = options[arg];\n\n        if (typeof replacement === 'string') {\n          replacement = replace.call(options[arg], dollarRegex, dollarBillsYall);\n        } // We create a new `RegExp` each time instead of using a more-efficient\n        // string replace so that the same argument can be replaced multiple times\n        // in the same phrase.\n\n\n        interpolated = insertReplacement(interpolated, new RegExp(\"%\\\\{\" + arg + \"\\\\}\", 'g'), replacement);\n      }\n    }\n\n    return interpolated;\n\n    function insertReplacement(source, rx, replacement) {\n      var newParts = [];\n      source.forEach(function (chunk) {\n        // When the source contains multiple placeholders for interpolation,\n        // we should ignore chunks that are not strings, because those\n        // can be JSX objects and will be otherwise incorrectly turned into strings.\n        // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n        if (typeof chunk !== 'string') {\n          return newParts.push(chunk);\n        }\n\n        split.call(chunk, rx).forEach(function (raw, i, list) {\n          if (raw !== '') {\n            newParts.push(raw);\n          } // Interlace with the `replacement` value\n\n\n          if (i < list.length - 1) {\n            newParts.push(replacement);\n          }\n        });\n      });\n      return newParts;\n    }\n  }\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  ;\n\n  _proto.translate = function translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n  ;\n\n  _proto.translateArray = function translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(\"missing string: \" + key);\n    }\n\n    var string = this.locale.strings[key];\n    var hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        var plural = this.locale.pluralize(options.smart_count);\n        return this.interpolate(string[plural], options);\n      }\n\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n\n    return this.interpolate(string, options);\n  };\n\n  return Translator;\n}();","var throttle = require('lodash.throttle');\n\nfunction _emitSocketProgress(uploader, progressData, file) {\n  var progress = progressData.progress,\n      bytesUploaded = progressData.bytesUploaded,\n      bytesTotal = progressData.bytesTotal;\n\n  if (progress) {\n    uploader.uppy.log(\"Upload progress: \" + progress);\n    uploader.uppy.emit('upload-progress', file, {\n      uploader: uploader,\n      bytesUploaded: bytesUploaded,\n      bytesTotal: bytesTotal\n    });\n  }\n}\n\nmodule.exports = throttle(_emitSocketProgress, 300, {\n  leading: true,\n  trailing: true\n});","var NetworkError = require('./NetworkError');\n/**\n * Wrapper around window.fetch that throws a NetworkError when appropriate\n */\n\n\nmodule.exports = function fetchWithNetworkError() {\n  return fetch.apply(void 0, arguments).catch(function (err) {\n    if (err.name === 'AbortError') {\n      throw err;\n    } else {\n      throw new NetworkError(err);\n    }\n  });\n};","var isDOMElement = require('./isDOMElement');\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\n\nmodule.exports = function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n};","/**\n * Array.prototype.findIndex ponyfill for old browsers.\n *\n * @param {Array} array\n * @param {Function} predicate\n * @returns {number}\n */\nmodule.exports = function findIndex(array, predicate) {\n  for (var i = 0; i < array.length; i++) {\n    if (predicate(array[i])) return i;\n  }\n\n  return -1;\n};","/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\nmodule.exports = function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  var id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += \"-\" + encodeFilename(file.name.toLowerCase());\n  }\n\n  if (file.type !== undefined) {\n    id += \"-\" + file.type;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += \"-\" + encodeFilename(file.meta.relativePath.toLowerCase());\n  }\n\n  if (file.data.size !== undefined) {\n    id += \"-\" + file.data.size;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += \"-\" + file.data.lastModified;\n  }\n\n  return id;\n};\n\nfunction encodeFilename(name) {\n  var suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, function (character) {\n    suffix += \"-\" + encodeCharacter(character);\n    return '/';\n  }) + suffix;\n}\n\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}","/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nmodule.exports = function getFileNameAndExtension(fullFileName) {\n  var lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n};","var getFileNameAndExtension = require('./getFileNameAndExtension');\n\nvar mimeTypes = require('./mimeTypes');\n\nmodule.exports = function getFileType(file) {\n  var fileExtension = file.name ? getFileNameAndExtension(file.name).extension : null;\n  fileExtension = fileExtension ? fileExtension.toLowerCase() : null;\n\n  if (file.type) {\n    // if mime type is set in the file object already, use that\n    return file.type;\n  }\n\n  if (fileExtension && mimeTypes[fileExtension]) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } // if all fails, fall back to a generic byte stream type\n\n\n  return 'application/octet-stream';\n};","module.exports = function getSocketHost(url) {\n  // get the host domain\n  var regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i;\n  var host = regex.exec(url)[1];\n  var socketProtocol = /^http:\\/\\//i.test(url) ? 'ws' : 'wss';\n  return socketProtocol + \"://\" + host;\n};","/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\nmodule.exports = function getTimeStamp() {\n  var date = new Date();\n  var hours = pad(date.getHours().toString());\n  var minutes = pad(date.getMinutes().toString());\n  var seconds = pad(date.getSeconds().toString());\n  return hours + \":\" + minutes + \":\" + seconds;\n};\n/**\n * Adds zero to strings shorter than two characters\n */\n\n\nfunction pad(str) {\n  return str.length !== 2 ? 0 + str : str;\n}","module.exports = function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n};","/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nmodule.exports = function isDOMElement(obj) {\n  return obj && typeof obj === 'object' && obj.nodeType === Node.ELEMENT_NODE;\n};","function isNetworkError(xhr) {\n  if (!xhr) {\n    return false;\n  }\n\n  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n}\n\nmodule.exports = isNetworkError;","// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nmodule.exports = {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};","module.exports = function settle(promises) {\n  var resolutions = [];\n  var rejections = [];\n\n  function resolved(value) {\n    resolutions.push(value);\n  }\n\n  function rejected(error) {\n    rejections.push(error);\n  }\n\n  var wait = Promise.all(promises.map(function (promise) {\n    return promise.then(resolved, rejected);\n  }));\n  return wait.then(function () {\n    return {\n      successful: resolutions,\n      failed: rejections\n    };\n  });\n};","/**\n * Converts list into array\n */\nmodule.exports = function toArray(list) {\n  return Array.prototype.slice.call(list || [], 0);\n};","var _class, _temp;\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar cuid = require('cuid');\n\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar _require2 = require('@uppy/companion-client'),\n    Provider = _require2.Provider,\n    RequestClient = _require2.RequestClient,\n    Socket = _require2.Socket;\n\nvar emitSocketProgress = require('@uppy/utils/lib/emitSocketProgress');\n\nvar getSocketHost = require('@uppy/utils/lib/getSocketHost');\n\nvar settle = require('@uppy/utils/lib/settle');\n\nvar EventTracker = require('@uppy/utils/lib/EventTracker');\n\nvar ProgressTimeout = require('@uppy/utils/lib/ProgressTimeout');\n\nvar RateLimitedQueue = require('@uppy/utils/lib/RateLimitedQueue');\n\nvar NetworkError = require('@uppy/utils/lib/NetworkError');\n\nvar isNetworkError = require('@uppy/utils/lib/isNetworkError');\n\nfunction buildResponseError(xhr, error) {\n  // No error message\n  if (!error) error = new Error('Upload error'); // Got an error message string\n\n  if (typeof error === 'string') error = new Error(error); // Got something else\n\n  if (!(error instanceof Error)) {\n    error = _extends(new Error('Upload error'), {\n      data: error\n    });\n  }\n\n  if (isNetworkError(xhr)) {\n    error = new NetworkError(error, xhr);\n    return error;\n  }\n\n  error.request = xhr;\n  return error;\n}\n/**\n * Set `data.type` in the blob to `file.meta.type`,\n * because we might have detected a more accurate file type in Uppy\n * https://stackoverflow.com/a/50875615\n *\n * @param {object} file File object with `data`, `size` and `meta` properties\n * @returns {object} blob updated with the new `type` set from `file.meta.type`\n */\n\n\nfunction setTypeInBlob(file) {\n  var dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n  return dataWithUpdatedType;\n}\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(XHRUpload, _Plugin);\n\n  function XHRUpload(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.type = 'uploader';\n    _this.id = _this.opts.id || 'XHRUpload';\n    _this.title = 'XHRUpload';\n    _this.defaultLocale = {\n      strings: {\n        timedOut: 'Upload stalled for %{seconds} seconds, aborting.'\n      }\n    }; // Default options\n\n    var defaultOptions = {\n      formData: true,\n      fieldName: 'files[]',\n      method: 'post',\n      metaFields: null,\n      responseUrlFieldName: 'url',\n      bundle: false,\n      headers: {},\n      timeout: 30 * 1000,\n      limit: 0,\n      withCredentials: false,\n      responseType: '',\n\n      /**\n       * @typedef respObj\n       * @property {string} responseText\n       * @property {number} status\n       * @property {string} statusText\n       * @property {object.<string, string>} headers\n       *\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      getResponseData: function getResponseData(responseText, response) {\n        var parsedResponse = {};\n\n        try {\n          parsedResponse = JSON.parse(responseText);\n        } catch (err) {\n          console.log(err);\n        }\n\n        return parsedResponse;\n      },\n\n      /**\n       *\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      getResponseError: function getResponseError(responseText, response) {\n        var error = new Error('Upload error');\n\n        if (isNetworkError(response)) {\n          error = new NetworkError(error, response);\n        }\n\n        return error;\n      },\n\n      /**\n       * Check if the response from the upload endpoint indicates that the upload was successful.\n       *\n       * @param {number} status the response status code\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      validateStatus: function validateStatus(status, responseText, response) {\n        return status >= 200 && status < 300;\n      }\n    };\n    _this.opts = _extends({}, defaultOptions, opts);\n\n    _this.i18nInit();\n\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_this)); // Simultaneous upload limiting is shared across all uploads with this plugin.\n    // __queue is for internal Uppy use only!\n\n    if (_this.opts.__queue instanceof RateLimitedQueue) {\n      _this.requests = _this.opts.__queue;\n    } else {\n      _this.requests = new RateLimitedQueue(_this.opts.limit);\n    }\n\n    if (_this.opts.bundle && !_this.opts.formData) {\n      throw new Error('`opts.formData` must be true when `opts.bundle` is enabled.');\n    }\n\n    _this.uploaderEvents = Object.create(null);\n    return _this;\n  }\n\n  var _proto = XHRUpload.prototype;\n\n  _proto.setOptions = function setOptions(newOpts) {\n    _Plugin.prototype.setOptions.call(this, newOpts);\n\n    this.i18nInit();\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  };\n\n  _proto.getOptions = function getOptions(file) {\n    var overrides = this.uppy.getState().xhrUpload;\n    var headers = this.opts.headers;\n\n    var opts = _extends({}, this.opts, overrides || {}, file.xhrUpload || {}, {\n      headers: {}\n    }); // Support for `headers` as a function, only in the XHRUpload settings.\n    // Options set by other plugins in Uppy state or on the files themselves are still merged in afterward.\n    //\n    // ```js\n    // headers: (file) => ({ expires: file.meta.expires })\n    // ```\n\n\n    if (typeof headers === 'function') {\n      opts.headers = headers(file);\n    } else {\n      _extends(opts.headers, this.opts.headers);\n    }\n\n    if (overrides) {\n      _extends(opts.headers, overrides.headers);\n    }\n\n    if (file.xhrUpload) {\n      _extends(opts.headers, file.xhrUpload.headers);\n    }\n\n    return opts;\n  };\n\n  _proto.addMetadata = function addMetadata(formData, meta, opts) {\n    var metaFields = Array.isArray(opts.metaFields) ? opts.metaFields // Send along all fields by default.\n    : Object.keys(meta);\n    metaFields.forEach(function (item) {\n      formData.append(item, meta[item]);\n    });\n  };\n\n  _proto.createFormDataUpload = function createFormDataUpload(file, opts) {\n    var formPost = new FormData();\n    this.addMetadata(formPost, file.meta, opts);\n    var dataWithUpdatedType = setTypeInBlob(file);\n\n    if (file.name) {\n      formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n    } else {\n      formPost.append(opts.fieldName, dataWithUpdatedType);\n    }\n\n    return formPost;\n  };\n\n  _proto.createBundledUpload = function createBundledUpload(files, opts) {\n    var _this2 = this;\n\n    var formPost = new FormData();\n\n    var _this$uppy$getState = this.uppy.getState(),\n        meta = _this$uppy$getState.meta;\n\n    this.addMetadata(formPost, meta, opts);\n    files.forEach(function (file) {\n      var opts = _this2.getOptions(file);\n\n      var dataWithUpdatedType = setTypeInBlob(file);\n\n      if (file.name) {\n        formPost.append(opts.fieldName, dataWithUpdatedType, file.name);\n      } else {\n        formPost.append(opts.fieldName, dataWithUpdatedType);\n      }\n    });\n    return formPost;\n  };\n\n  _proto.createBareUpload = function createBareUpload(file, opts) {\n    return file.data;\n  };\n\n  _proto.upload = function upload(file, current, total) {\n    var _this3 = this;\n\n    var opts = this.getOptions(file);\n    this.uppy.log(\"uploading \" + current + \" of \" + total);\n    return new Promise(function (resolve, reject) {\n      _this3.uppy.emit('upload-started', file);\n\n      var data = opts.formData ? _this3.createFormDataUpload(file, opts) : _this3.createBareUpload(file, opts);\n      var xhr = new XMLHttpRequest();\n      _this3.uploaderEvents[file.id] = new EventTracker(_this3.uppy);\n      var timer = new ProgressTimeout(opts.timeout, function () {\n        xhr.abort();\n        queuedRequest.done();\n        var error = new Error(_this3.i18n('timedOut', {\n          seconds: Math.ceil(opts.timeout / 1000)\n        }));\n\n        _this3.uppy.emit('upload-error', file, error);\n\n        reject(error);\n      });\n      var id = cuid();\n      xhr.upload.addEventListener('loadstart', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" started\");\n      });\n      xhr.upload.addEventListener('progress', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" progress: \" + ev.loaded + \" / \" + ev.total); // Begin checking for timeouts when progress starts, instead of loading,\n        // to avoid timing out requests on browser concurrency queue\n\n\n        timer.progress();\n\n        if (ev.lengthComputable) {\n          _this3.uppy.emit('upload-progress', file, {\n            uploader: _this3,\n            bytesUploaded: ev.loaded,\n            bytesTotal: ev.total\n          });\n        }\n      });\n      xhr.addEventListener('load', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" finished\");\n\n        timer.done();\n        queuedRequest.done();\n\n        if (_this3.uploaderEvents[file.id]) {\n          _this3.uploaderEvents[file.id].remove();\n\n          _this3.uploaderEvents[file.id] = null;\n        }\n\n        if (opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n          var _body = opts.getResponseData(xhr.responseText, xhr);\n\n          var uploadURL = _body[opts.responseUrlFieldName];\n          var uploadResp = {\n            status: ev.target.status,\n            body: _body,\n            uploadURL: uploadURL\n          };\n\n          _this3.uppy.emit('upload-success', file, uploadResp);\n\n          if (uploadURL) {\n            _this3.uppy.log(\"Download \" + file.name + \" from \" + uploadURL);\n          }\n\n          return resolve(file);\n        }\n\n        var body = opts.getResponseData(xhr.responseText, xhr);\n        var error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n        var response = {\n          status: ev.target.status,\n          body: body\n        };\n\n        _this3.uppy.emit('upload-error', file, error, response);\n\n        return reject(error);\n      });\n      xhr.addEventListener('error', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" errored\");\n\n        timer.done();\n        queuedRequest.done();\n\n        if (_this3.uploaderEvents[file.id]) {\n          _this3.uploaderEvents[file.id].remove();\n\n          _this3.uploaderEvents[file.id] = null;\n        }\n\n        var error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n\n        _this3.uppy.emit('upload-error', file, error);\n\n        return reject(error);\n      });\n      xhr.open(opts.method.toUpperCase(), opts.endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = opts.withCredentials;\n\n      if (opts.responseType !== '') {\n        xhr.responseType = opts.responseType;\n      }\n\n      var queuedRequest = _this3.requests.run(function () {\n        // When using an authentication system like JWT, the bearer token goes as a header. This\n        // header needs to be fresh each time the token is refreshed so computing and setting the\n        // headers just before the upload starts enables this kind of authentication to work properly.\n        // Otherwise, half-way through the list of uploads the token could be stale and the upload would fail.\n        var currentOpts = _this3.getOptions(file);\n\n        Object.keys(currentOpts.headers).forEach(function (header) {\n          xhr.setRequestHeader(header, currentOpts.headers[header]);\n        });\n        xhr.send(data);\n        return function () {\n          timer.done();\n          xhr.abort();\n        };\n      });\n\n      _this3.onFileRemove(file.id, function () {\n        queuedRequest.abort();\n        reject(new Error('File removed'));\n      });\n\n      _this3.onCancelAll(file.id, function () {\n        queuedRequest.abort();\n        reject(new Error('Upload cancelled'));\n      });\n    });\n  };\n\n  _proto.uploadRemote = function uploadRemote(file, current, total) {\n    var _this4 = this;\n\n    var opts = this.getOptions(file);\n    return new Promise(function (resolve, reject) {\n      _this4.uppy.emit('upload-started', file);\n\n      var fields = {};\n      var metaFields = Array.isArray(opts.metaFields) ? opts.metaFields // Send along all fields by default.\n      : Object.keys(file.meta);\n      metaFields.forEach(function (name) {\n        fields[name] = file.meta[name];\n      });\n      var Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n      var client = new Client(_this4.uppy, file.remote.providerOptions);\n      client.post(file.remote.url, _extends({}, file.remote.body, {\n        endpoint: opts.endpoint,\n        size: file.data.size,\n        fieldname: opts.fieldName,\n        metadata: fields,\n        httpMethod: opts.method,\n        useFormData: opts.formData,\n        headers: opts.headers\n      })).then(function (res) {\n        var token = res.token;\n        var host = getSocketHost(file.remote.companionUrl);\n        var socket = new Socket({\n          target: host + \"/api/\" + token,\n          autoOpen: false\n        });\n        _this4.uploaderEvents[file.id] = new EventTracker(_this4.uppy);\n\n        _this4.onFileRemove(file.id, function () {\n          socket.send('pause', {});\n          queuedRequest.abort();\n          resolve(\"upload \" + file.id + \" was removed\");\n        });\n\n        _this4.onCancelAll(file.id, function () {\n          socket.send('pause', {});\n          queuedRequest.abort();\n          resolve(\"upload \" + file.id + \" was canceled\");\n        });\n\n        _this4.onRetry(file.id, function () {\n          socket.send('pause', {});\n          socket.send('resume', {});\n        });\n\n        _this4.onRetryAll(file.id, function () {\n          socket.send('pause', {});\n          socket.send('resume', {});\n        });\n\n        socket.on('progress', function (progressData) {\n          return emitSocketProgress(_this4, progressData, file);\n        });\n        socket.on('success', function (data) {\n          var body = opts.getResponseData(data.response.responseText, data.response);\n          var uploadURL = body[opts.responseUrlFieldName];\n          var uploadResp = {\n            status: data.response.status,\n            body: body,\n            uploadURL: uploadURL\n          };\n\n          _this4.uppy.emit('upload-success', file, uploadResp);\n\n          queuedRequest.done();\n\n          if (_this4.uploaderEvents[file.id]) {\n            _this4.uploaderEvents[file.id].remove();\n\n            _this4.uploaderEvents[file.id] = null;\n          }\n\n          return resolve();\n        });\n        socket.on('error', function (errData) {\n          var resp = errData.response;\n          var error = resp ? opts.getResponseError(resp.responseText, resp) : _extends(new Error(errData.error.message), {\n            cause: errData.error\n          });\n\n          _this4.uppy.emit('upload-error', file, error);\n\n          queuedRequest.done();\n\n          if (_this4.uploaderEvents[file.id]) {\n            _this4.uploaderEvents[file.id].remove();\n\n            _this4.uploaderEvents[file.id] = null;\n          }\n\n          reject(error);\n        });\n\n        var queuedRequest = _this4.requests.run(function () {\n          socket.open();\n\n          if (file.isPaused) {\n            socket.send('pause', {});\n          }\n\n          return function () {\n            return socket.close();\n          };\n        });\n      }).catch(function (err) {\n        _this4.uppy.emit('upload-error', file, err);\n\n        reject(err);\n      });\n    });\n  };\n\n  _proto.uploadBundle = function uploadBundle(files) {\n    var _this5 = this;\n\n    return new Promise(function (resolve, reject) {\n      var endpoint = _this5.opts.endpoint;\n      var method = _this5.opts.method;\n\n      var optsFromState = _this5.uppy.getState().xhrUpload;\n\n      var formData = _this5.createBundledUpload(files, _extends({}, _this5.opts, optsFromState || {}));\n\n      var xhr = new XMLHttpRequest();\n      var timer = new ProgressTimeout(_this5.opts.timeout, function () {\n        xhr.abort();\n        var error = new Error(_this5.i18n('timedOut', {\n          seconds: Math.ceil(_this5.opts.timeout / 1000)\n        }));\n        emitError(error);\n        reject(error);\n      });\n\n      var emitError = function emitError(error) {\n        files.forEach(function (file) {\n          _this5.uppy.emit('upload-error', file, error);\n        });\n      };\n\n      xhr.upload.addEventListener('loadstart', function (ev) {\n        _this5.uppy.log('[XHRUpload] started uploading bundle');\n\n        timer.progress();\n      });\n      xhr.upload.addEventListener('progress', function (ev) {\n        timer.progress();\n        if (!ev.lengthComputable) return;\n        files.forEach(function (file) {\n          _this5.uppy.emit('upload-progress', file, {\n            uploader: _this5,\n            bytesUploaded: ev.loaded / ev.total * file.size,\n            bytesTotal: file.size\n          });\n        });\n      });\n      xhr.addEventListener('load', function (ev) {\n        timer.done();\n\n        if (_this5.opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n          var body = _this5.opts.getResponseData(xhr.responseText, xhr);\n\n          var uploadResp = {\n            status: ev.target.status,\n            body: body\n          };\n          files.forEach(function (file) {\n            _this5.uppy.emit('upload-success', file, uploadResp);\n          });\n          return resolve();\n        }\n\n        var error = _this5.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        error.request = xhr;\n        emitError(error);\n        return reject(error);\n      });\n      xhr.addEventListener('error', function (ev) {\n        timer.done();\n        var error = _this5.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        emitError(error);\n        return reject(error);\n      });\n\n      _this5.uppy.on('cancel-all', function () {\n        timer.done();\n        xhr.abort();\n      });\n\n      xhr.open(method.toUpperCase(), endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = _this5.opts.withCredentials;\n\n      if (_this5.opts.responseType !== '') {\n        xhr.responseType = _this5.opts.responseType;\n      }\n\n      Object.keys(_this5.opts.headers).forEach(function (header) {\n        xhr.setRequestHeader(header, _this5.opts.headers[header]);\n      });\n      xhr.send(formData);\n      files.forEach(function (file) {\n        _this5.uppy.emit('upload-started', file);\n      });\n    });\n  };\n\n  _proto.uploadFiles = function uploadFiles(files) {\n    var _this6 = this;\n\n    var promises = files.map(function (file, i) {\n      var current = parseInt(i, 10) + 1;\n      var total = files.length;\n\n      if (file.error) {\n        return Promise.reject(new Error(file.error));\n      }\n\n      if (file.isRemote) {\n        return _this6.uploadRemote(file, current, total);\n      }\n\n      return _this6.upload(file, current, total);\n    });\n    return settle(promises);\n  };\n\n  _proto.onFileRemove = function onFileRemove(fileID, cb) {\n    this.uploaderEvents[fileID].on('file-removed', function (file) {\n      if (fileID === file.id) cb(file.id);\n    });\n  };\n\n  _proto.onRetry = function onRetry(fileID, cb) {\n    this.uploaderEvents[fileID].on('upload-retry', function (targetFileID) {\n      if (fileID === targetFileID) {\n        cb();\n      }\n    });\n  };\n\n  _proto.onRetryAll = function onRetryAll(fileID, cb) {\n    var _this7 = this;\n\n    this.uploaderEvents[fileID].on('retry-all', function (filesToRetry) {\n      if (!_this7.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  _proto.onCancelAll = function onCancelAll(fileID, cb) {\n    var _this8 = this;\n\n    this.uploaderEvents[fileID].on('cancel-all', function () {\n      if (!_this8.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  _proto.handleUpload = function handleUpload(fileIDs) {\n    var _this9 = this;\n\n    if (fileIDs.length === 0) {\n      this.uppy.log('[XHRUpload] No files to upload!');\n      return Promise.resolve();\n    } // no limit configured by the user, and no RateLimitedQueue passed in by a \"parent\" plugin (basically just AwsS3) using the top secret `__queue` option\n\n\n    if (this.opts.limit === 0 && !this.opts.__queue) {\n      this.uppy.log('[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0', 'warning');\n    }\n\n    this.uppy.log('[XHRUpload] Uploading...');\n    var files = fileIDs.map(function (fileID) {\n      return _this9.uppy.getFile(fileID);\n    });\n\n    if (this.opts.bundle) {\n      // if bundle: true, we don’t support remote uploads\n      var isSomeFileRemote = files.some(function (file) {\n        return file.isRemote;\n      });\n\n      if (isSomeFileRemote) {\n        throw new Error('Can’t upload remote files when the `bundle: true` option is set');\n      }\n\n      if (typeof this.opts.headers === 'function') {\n        throw new TypeError('`headers` may not be a function when the `bundle: true` option is set');\n      }\n\n      return this.uploadBundle(files);\n    }\n\n    return this.uploadFiles(files).then(function () {\n      return null;\n    });\n  };\n\n  _proto.install = function install() {\n    if (this.opts.bundle) {\n      var _this$uppy$getState2 = this.uppy.getState(),\n          capabilities = _this$uppy$getState2.capabilities;\n\n      this.uppy.setState({\n        capabilities: _extends({}, capabilities, {\n          individualCancellation: false\n        })\n      });\n    }\n\n    this.uppy.addUploader(this.handleUpload);\n  };\n\n  _proto.uninstall = function uninstall() {\n    if (this.opts.bundle) {\n      var _this$uppy$getState3 = this.uppy.getState(),\n          capabilities = _this$uppy$getState3.capabilities;\n\n      this.uppy.setState({\n        capabilities: _extends({}, capabilities, {\n          individualCancellation: true\n        })\n      });\n    }\n\n    this.uppy.removeUploader(this.handleUpload);\n  };\n\n  return XHRUpload;\n}(Plugin), _class.VERSION = \"1.7.5\", _temp);","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file-input\"},[_c('div',{staticClass:\"uppy-progress-bar\"}),_c('div',{staticClass:\"uppy-form\"})])\n}]\n\nexport { render, staticRenderFns }","import authService from \"@/services/auth.service\";\nimport { Plugin } from \"@uppy/core\";\n\nclass CsrfToken extends Plugin {\n    constructor(uppy, opts) {\n        super(uppy, opts);\n        this.id = \"CsrfToken\";\n        this.type = \"modifier\";\n\n        this.prepareUpload = this.prepareUpload.bind(this);\n    }\n\n    prepareUpload() {\n        return new Promise<void>((resolve, reject) => {\n            authService\n                .refreshCookie()\n                .then(resp => {\n                    const uploader = this.uppy.getPlugin(\"XHRUpload\");\n                    const token = resp.config.headers[\"X-XSRF-TOKEN\"];\n\n                    uploader.setOptions({\n                        headers: {\n                            \"X-XSRF-TOKEN\": token,\n                            Accept: \"application/json\",\n                        },\n                    });\n\n                    resolve();\n                })\n                .catch(error => {\n                    reject(error);\n                });\n        });\n    }\n\n    install() {\n        this.uppy.addPreProcessor(this.prepareUpload);\n    }\n\n    uninstall() {\n        this.uppy.removePreProcessor(this.prepareUpload);\n    }\n}\n\nexport default CsrfToken;\n","\nimport Uppy from \"@uppy/core\";\nimport German from \"@uppy/locales/lib/de_DE\";\nimport XHRUpload from \"@uppy/xhr-upload\";\nimport FileInput from \"@uppy/file-input\";\nimport ProgressBar from \"@uppy/progress-bar\";\nimport CsrfToken from \"../helpers/csrf\";\n\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/file-input/dist/style.css\";\nimport \"@uppy/progress-bar/dist/style.css\";\nimport Config from \"../config\";\n\nexport default {\n    name: \"FileInput\",\n    props: {\n        maxFileSizeInBytes: {\n            type: Number,\n            default: 10 * 1024 * 1024,\n        },\n        route: {\n            type: String,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            previewPath: null,\n            disabled: true,\n            retryCount: 0,\n        };\n    },\n    mounted() {\n        this.instantiateUppy();\n    },\n    beforeDestroy() {\n        this.uppy.close();\n    },\n    methods: {\n        instantiateUppy() {\n            this.uppy = Uppy({\n                debug: !Config.isProduction,\n                locale: German,\n                autoProceed: true,\n                restrictions: {\n                    maxFileSize: this.maxFileSizeInBytes,\n                    minNumberOfFiles: 1,\n                    maxNumberOfFiles: 1,\n                    allowedFileTypes: [\"image/*\", \"application/pdf\"],\n                },\n                onBeforeFileAdded: currentFile => {\n                    if (currentFile.data.size > this.maxFileSizeInBytes) {\n                        this.$emit(\n                            \"onUploadFailed\",\n                            \"Die Datei ist zu groß. Max. 10MB\"\n                        );\n                        return false;\n                    }\n\n                    return true;\n                },\n            })\n                .use(FileInput, {\n                    target: \".uppy-form\",\n                    replaceTargetContent: true,\n                    inputName: \"file\",\n                    pretty: true,\n                })\n                .use(ProgressBar, {\n                    target: \".uppy-progress-bar\",\n                    hideAfterFinish: false,\n                })\n                .use(CsrfToken)\n                .use(XHRUpload, {\n                    limit: 10,\n                    endpoint: this.route,\n                    formData: true,\n                    fieldName: \"file\",\n                    withCredentials: true,\n                })\n                .on(\"complete\", event => {\n                    this.disabled = false;\n\n                    const { failed, successful } = event;\n\n                    // Handle success\n                    if (successful && successful.length > 0) {\n                        const files = successful.map(\n                            data => data.response.body\n                        );\n                        this.$emit(\"onUploadSuccessful\", files);\n                        this.uppy.reset();\n                        return;\n                    }\n\n                    // Handle errors\n                    if (failed && failed.length > 0) {\n                        if (this.retryCount < 2) {\n                            // Try reloading\n                            this.uppy.retryAll();\n                            this.retryCount++;\n                        } else if (\n                            failed[0].response &&\n                            failed[0].response.status &&\n                            failed[0].response.status == 401\n                        ) {\n                            // Check if error is caused by authentication\n                            this.uppy.reset();\n                            this.retryCount = 0;\n\n                            this.$store.dispatch(\"auth/logout\");\n                            this.$router.push(\"/login\");\n\n                            this.$emit(\"onUploadFailed\", failed);\n                        } else {\n                            // Default handling\n                            this.$emit(\"onUploadFailed\", failed);\n                            this.retryCount = 0;\n                            this.uppy.reset();\n                        }\n                    }\n                });\n        },\n    },\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileInput.vue?vue&type=template&id=10c22005&scoped=true&\"\nimport script from \"./FileInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileInput.vue?vue&type=style&index=0&id=10c22005&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10c22005\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex justify-content-center align-items-center mt-5 mb-5\"},[_c('CSpinner',{staticClass:\"mr-2\",attrs:{\"color\":\"warning\",\"grow\":\"\",\"size\":\"sm\"}}),_vm._v(\" lädt... \")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n    name: \"LoadingIndicator\",\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadingIndicator.vue?vue&type=template&id=360f0c01&\"\nimport script from \"./LoadingIndicator.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadingIndicator.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('CCard',{staticClass:\"sticky-header\"},[_c('CCardHeader',[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('CIcon',{staticClass:\"mr-2\",attrs:{\"name\":_vm.icon}}),_c('h4',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.title))])],1),(_vm.route)?_c('div',{staticClass:\"card-header-actions\"},[_c('RouterLink',{staticClass:\"btn btn-primary\",attrs:{\"to\":_vm.route}},[_vm._v(\"Erstellen\")])],1):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nexport default Vue.extend({\n    name: \"PageHeader\",\n\n    props: [\"title\", \"route\", \"icon\"],\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PageHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageHeader.vue?vue&type=template&id=5a5147ce&\"\nimport script from \"./PageHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageHeader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\nvar getRandomValue = require('./lib/getRandomValue.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((getRandomValue() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.slug = function slug () {\n  var date = new Date().getTime().toString(36),\n    counter = safeCounter().toString(36).slice(-4),\n    print = fingerprint().slice(0, 1) +\n      fingerprint().slice(-1),\n    random = randomBlock().slice(-2);\n\n  return date.slice(-2) +\n    counter + print + random;\n};\n\ncuid.isCuid = function isCuid (stringToCheck) {\n  if (typeof stringToCheck !== 'string') return false;\n  if (stringToCheck.startsWith('c')) return true;\n  return false;\n};\n\ncuid.isSlug = function isSlug (stringToCheck) {\n  if (typeof stringToCheck !== 'string') return false;\n  var stringLength = stringToCheck.length;\n  if (stringLength >= 7 && stringLength <= 10) return true;\n  return false;\n};\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = Object.keys(env).length;\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","\nvar getRandomValue;\n\nvar crypto = typeof window !== 'undefined' &&\n  (window.crypto || window.msCrypto) ||\n  typeof self !== 'undefined' &&\n  self.crypto;\n\nif (crypto) {\n    var lim = Math.pow(2, 32) - 1;\n    getRandomValue = function () {\n        return Math.abs(crypto.getRandomValues(new Uint32Array(1))[0] / lim);\n    };\n} else {\n    getRandomValue = Math.random;\n}\n\nmodule.exports = getRandomValue;\n","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event – the name of the event, with optional namespace\n  * @param {...*} data – up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] – the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n","/** Virtual DOM Node */\nfunction VNode() {}\n\n/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nvar options = {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n  *\t@name syncComponentUpdates\n  *\t@type Boolean\n  *\t@default true\n  */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n  *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n  */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\n/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virtual DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\n// DOM properties that should NOT have \"px\" added when numeric\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n/** Managed queue of dirty components to be re-rendered */\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hydrating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nfunction isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined;\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName;\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nfunction isNamedNode(node, nodeName) {\n  return node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nfunction getNodeProps(vnode) {\n  var props = extend({}, vnode.attributes);\n  props.children = vnode.children;\n\n  var defaultProps = vnode.nodeName.defaultProps;\n  if (defaultProps !== undefined) {\n    for (var i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i];\n      }\n    }\n  }\n\n  return props;\n}\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {\n\t\t// ignore\n\t} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value == null ? '' : value);\n\t\tif (value == null || value === false) node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) {}\n}\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nvar mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nvar diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nvar isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nvar hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\t// If the VNode represents a Component, perform a component diff:\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t} // if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t} else {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nvar components = {};\n\n/** Reclaim a component for later re-use by the recycler. */\nfunction collectComponent(component) {\n\tvar name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nfunction createComponent(Ctor, props, context) {\n\tvar list = components[Ctor.name],\n\t    inst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\tif (list) {\n\t\tfor (var i = list.length; i--;) {\n\t\t\tif (list[i].constructor === Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nfunction setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif (component.__ref = props.ref) delete props.ref;\n\tif (component.__key = props.key) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t} else if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts !== 0) {\n\t\tif (opts === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nfunction renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\t\t\t// set up high order component link\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks != null) {\n\t\twhile (component._renderCallbacks.length) {\n\t\t\tcomponent._renderCallbacks.pop().call(component);\n\t\t}\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.context = context;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.props = props;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n  *\t@param {object} nextProps\n  *\t@param {object} nextState\n  *\t@param {object} nextContext\n  *\t@returns {Boolean} should the component re-render\n  *\t@name shouldComponentUpdate\n  *\t@function\n  */\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n  *\t@param {object} state\t\tA hash of state properties to update with new values\n  *\t@param {function} callback\tA function to be called once component state is updated\n  */\n\tsetState: function setState(state, callback) {\n\t\tvar s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state === 'function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n  *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n  *\t@private\n  */\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n  *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n  *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n  *\t@param {object} state\t\tThe component's current state\n  *\t@param {object} context\t\tContext object (if a parent component has provided context)\n  *\t@returns VNode\n  */\n\trender: function render() {}\n});\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.esm.js.map\n","var has = Object.prototype.hasOwnProperty\n\n/**\n * Stringify an object for use in a query string.\n *\n * @param {Object} obj - The object.\n * @param {string} prefix - When nesting, the parent key.\n *     keys in `obj` will be stringified as `prefix[key]`.\n * @returns {string}\n */\n\nmodule.exports = function queryStringify (obj, prefix) {\n  var pairs = []\n  for (var key in obj) {\n    if (!has.call(obj, key)) {\n      continue\n    }\n\n    var value = obj[key]\n    var enkey = encodeURIComponent(key)\n    var pair\n    if (typeof value === 'object') {\n      pair = queryStringify(value, prefix ? prefix + '[' + enkey + ']' : enkey)\n    } else {\n      pair = (prefix ? prefix + '[' + enkey + ']' : enkey) + '=' + encodeURIComponent(value)\n    }\n    pairs.push(pair)\n  }\n  return pairs.join('&')\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","/** vue-property-decorator verson 8.5.1 MIT LICENSE copyright 2020 kaorun343 */\n/// <reference types='reflect-metadata'/>\n'use strict';\nimport Vue from 'vue';\nimport Component, { createDecorator, mixins } from 'vue-class-component';\nexport { Component, Vue, mixins as Mixins };\n/** Used for keying reactive provide/inject properties */\nvar reactiveInjectKey = '__reactiveInject__';\n/**\n * decorator of an inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function Inject(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject[key] = options || key;\n        }\n    });\n}\n/**\n * decorator of a reactive inject\n * @param from key\n * @return PropertyDecorator\n */\nexport function InjectReactive(options) {\n    return createDecorator(function (componentOptions, key) {\n        if (typeof componentOptions.inject === 'undefined') {\n            componentOptions.inject = {};\n        }\n        if (!Array.isArray(componentOptions.inject)) {\n            var fromKey_1 = !!options ? options.from || options : key;\n            var defaultVal_1 = (!!options && options.default) || undefined;\n            if (!componentOptions.computed)\n                componentOptions.computed = {};\n            componentOptions.computed[key] = function () {\n                var obj = this[reactiveInjectKey];\n                return obj ? obj[fromKey_1] : defaultVal_1;\n            };\n            componentOptions.inject[reactiveInjectKey] = reactiveInjectKey;\n        }\n    });\n}\nfunction produceProvide(original) {\n    var provide = function () {\n        var _this = this;\n        var rv = typeof original === 'function' ? original.call(this) : original;\n        rv = Object.create(rv || null);\n        // set reactive services (propagates previous services if necessary)\n        rv[reactiveInjectKey] = this[reactiveInjectKey] || {};\n        for (var i in provide.managed) {\n            rv[provide.managed[i]] = this[i];\n        }\n        var _loop_1 = function (i) {\n            rv[provide.managedReactive[i]] = this_1[i]; // Duplicates the behavior of `@Provide`\n            Object.defineProperty(rv[reactiveInjectKey], provide.managedReactive[i], {\n                enumerable: true,\n                get: function () { return _this[i]; },\n            });\n        };\n        var this_1 = this;\n        for (var i in provide.managedReactive) {\n            _loop_1(i);\n        }\n        return rv;\n    };\n    provide.managed = {};\n    provide.managedReactive = {};\n    return provide;\n}\nfunction needToProduceProvide(original) {\n    return (typeof original !== 'function' ||\n        (!original.managed && !original.managedReactive));\n}\n/**\n * decorator of a provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function Provide(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managed[k] = key || k;\n    });\n}\n/**\n * decorator of a reactive provide\n * @param key key\n * @return PropertyDecorator | void\n */\nexport function ProvideReactive(key) {\n    return createDecorator(function (componentOptions, k) {\n        var provide = componentOptions.provide;\n        // inject parent reactive services (if any)\n        if (!Array.isArray(componentOptions.inject)) {\n            componentOptions.inject = componentOptions.inject || {};\n            componentOptions.inject[reactiveInjectKey] = {\n                from: reactiveInjectKey,\n                default: {},\n            };\n        }\n        if (needToProduceProvide(provide)) {\n            provide = componentOptions.provide = produceProvide(provide);\n        }\n        provide.managedReactive[k] = key || k;\n    });\n}\n/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nfunction applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n/**\n * decorator of model\n * @param  event event name\n * @param options options\n * @return PropertyDecorator\n */\nexport function Model(event, options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n            componentOptions.model = { prop: k, event: event || k };\n        })(target, key);\n    };\n}\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n/**\n * decorator of a synced prop\n * @param propName the name to interface with from outside, must be different from decorated property\n * @param options the options for the synced prop\n * @return PropertyDecorator | void\n */\nexport function PropSync(propName, options) {\n    if (options === void 0) { options = {}; }\n    // @ts-ignore\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[propName] = options;\n            (componentOptions.computed || (componentOptions.computed = {}))[k] = {\n                get: function () {\n                    return this[propName];\n                },\n                set: function (value) {\n                    // @ts-ignore\n                    this.$emit(\"update:\" + propName, value);\n                },\n            };\n        })(target, key);\n    };\n}\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n// Code copied from Vue/src/shared/util.js\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = function (str) { return str.replace(hyphenateRE, '-$1').toLowerCase(); };\n/**\n * decorator of an event-emitter function\n * @param  event The name of the event\n * @return MethodDecorator\n */\nexport function Emit(event) {\n    return function (_target, propertyKey, descriptor) {\n        var key = hyphenate(propertyKey);\n        var original = descriptor.value;\n        descriptor.value = function emitter() {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var emit = function (returnValue) {\n                var emitName = event || key;\n                if (returnValue === undefined) {\n                    if (args.length === 0) {\n                        _this.$emit(emitName);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName].concat(args));\n                    }\n                }\n                else {\n                    if (args.length === 0) {\n                        _this.$emit(emitName, returnValue);\n                    }\n                    else if (args.length === 1) {\n                        _this.$emit(emitName, returnValue, args[0]);\n                    }\n                    else {\n                        _this.$emit.apply(_this, [emitName, returnValue].concat(args));\n                    }\n                }\n            };\n            var returnValue = original.apply(this, args);\n            if (isPromise(returnValue)) {\n                returnValue.then(emit);\n            }\n            else {\n                emit(returnValue);\n            }\n            return returnValue;\n        };\n    };\n}\n/**\n * decorator of a ref prop\n * @param refKey the ref key defined in template\n */\nexport function Ref(refKey) {\n    return createDecorator(function (options, key) {\n        options.computed = options.computed || {};\n        options.computed[key] = {\n            cache: false,\n            get: function () {\n                return this.$refs[refKey || key];\n            },\n        };\n    });\n}\nfunction isPromise(obj) {\n    return obj instanceof Promise || (obj && typeof obj.then === 'function');\n}\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n"],"names":["module","exports","num","isNaN","TypeError","neg","units","exponent","Math","min","floor","log","length","Number","pow","unit","toFixed","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","this","value","enumerable","writable","configurable","Parent","args","_isNativeReflectConstruct","Reflect","construct","a","push","apply","Constructor","Function","bind","instance","sham","Proxy","Boolean","valueOf","call","e","fn","toString","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","AuthError","_Error","_this","name","isAuthError","Error","_extends","assign","target","i","source","key","hasOwnProperty","qsStringify","URL","RequestClient","tokenStorage","_getName","id","split","map","s","charAt","toUpperCase","slice","join","_RequestClient","Provider","uppy","opts","provider","pluginId","tokenKey","companionKeysParams","preAuthToken","_proto","headers","_this2","Promise","all","getAuthToken","then","_ref","token","authHeaders","btoa","JSON","stringify","params","onReceiveResponse","response","plugin","getPlugin","oldAuthenticated","getPluginState","authenticated","status","setPluginState","setAuthToken","storage","setItem","getItem","authUrl","queries","uppyPreAuthToken","strigifiedQueries","hostname","fileUrl","fetchPreAuthToken","_this3","post","res","catch","err","resolve","list","directory","logout","_this4","removeItem","_ref2","initPlugin","defaultOpts","type","files","serverUrl","serverPattern","companionAllowedHosts","pattern","Array","isArray","RegExp","test","companionUrl","replace","origin","_class","_temp","_defineProperties","props","descriptor","defineProperty","_createClass","protoProps","staticProps","fetchWithNetworkError","stripSlash","url","allowedHeaders","preflightDone","userHeaders","companionHeaders","serverHeaders","defaultHeaders","_getPostResponseFunc","skip","_extends2","state","getState","companion","host","setState","_getUrl","_json","errMsg","statusText","json","errData","message","requestId","preflight","path","fetch","method","headerName","trim","toLowerCase","preflightAndHeaders","keys","forEach","header","skipPostResponse","credentials","companionCookiesRule","reject","data","_this5","body","delete","_this6","_this$uppy$getState","Accept","VERSION","SearchProvider","search","text","encodeURIComponent","ee","UppySocket","_queued","isOpen","emitter","_handleMessage","close","emit","on","once","send","autoOpen","open","socket","WebSocket","onopen","first","action","payload","onclose","onmessage","handler","parse","console","Socket","localStorage","preact","findDOMElement","debounce","calling","latestArgs","_len","_key","Plugin","update","mount","install","uninstall","plugins","_this$uppy$getState2","setOptions","newOpts","el","_updateUI","afterUpdate","onMount","targetPlugin","callerPluginName","targetElement","isTargetDOMEl","rerender","render","replaceTargetContent","innerHTML","Target","iteratePlugins","parent","addTarget","unmount","parentNode","removeChild","Translator","cuid","throttle","prettierBytes","match","DefaultStore","getFileType","getFileNameAndExtension","generateFileID","findIndex","supportsUploadProgress","_require","justErrorsLogger","debugLogger","RestrictionError","concat","isRestriction","AggregateError","_Error2","errors","AggregateRestrictionError","_AggregateError","_len2","_key2","Uppy","defaultLocale","strings","addBulkFilesFailed","youCanOnlyUploadX","youHaveToAtLeastSelectX","missingRequiredMetaField","missingRequiredMetaFieldOnFile","exceedsSize2","exceedsSize","inferiorSize","youCanOnlyUploadFileTypes","noNewAlreadyUploading","noDuplicates","companionError","companionUnauthorizeHint","failedToUpload","noInternetConnection","connectedToInternet","noFilesFound","selectX","selectAllFilesFromFolderNamed","unselectAllFilesFromFolderNamed","selectFileNamed","unselectFileNamed","openFolderNamed","cancel","logOut","filter","resetFilter","loading","authenticateWithTitle","authenticateWith","searchImages","enterTextToSearch","backToSearch","emptyFolderAdded","folderAdded","defaultOptions","autoProceed","allowMultipleUploads","debug","restrictions","maxFileSize","minFileSize","maxTotalFileSize","maxNumberOfFiles","minNumberOfFiles","allowedFileTypes","requiredMetaFields","meta","onBeforeFileAdded","currentFile","onBeforeUpload","store","logger","infoTimeout","i18nInit","setFileMeta","setFileState","info","hideInfo","addFile","removeFile","pauseResume","validateRestrictions","calculateProgress","leading","trailing","updateOnlineStatus","resetProgress","pauseAll","resumeAll","retryAll","cancelAll","retryUpload","upload","off","preProcessors","uploaders","postProcessors","currentUploads","allowNewUpload","capabilities","uploadProgress","individualCancellation","resumableUploads","totalProgress","isHidden","recoveredState","storeUnsubscribe","subscribe","prevState","nextState","patch","updateAll","window","addListeners","event","callback","fileID","translator","locale","i18n","translate","i18nArray","translateArray","setMeta","defaultProgress","percentage","bytesUploaded","uploadComplete","uploadStarted","updatedFiles","updatedFile","progress","addPreProcessor","removePreProcessor","splice","addPostProcessor","removePostProcessor","addUploader","removeUploader","updatedMeta","newMeta","getFile","getFiles","_this$getState","file","checkRestrictions","result","reason","_this$opts$restrictio","smart_count","isCorrectFileType","some","extension","substr","allowedFileTypesString","types","size","totalFilesSize","f","backwardsCompat","checkMinNumberOfFiles","checkRequiredMetaFields","fileIDs","_i","fileName","showOrLogErrorAndThrow","throwErr","_ref$showInformer","showInformer","_ref$file","_ref$throwErr","details","logMessageWithDetails","assertNewUploadAllowed","_this$getState2","checkAndCreateFileStateObject","fileType","onBeforeFileAddedResult","fileExtension","isRemote","isGhost","isFinite","newFile","bytesTotal","remote","preview","filesArray","startIfAutoProceed","scheduledAutoProceed","setTimeout","stack","_extends3","_this$getState3","addFiles","fileDescriptors","newFiles","subError","removeFiles","_this7","_this$getState4","updatedUploads","removedFiles","fileIsNotRemoved","uploadFileID","uploadID","newFileIDs","stateUpdate","error","calculateTotalProgress","removedFileIDs","wasPaused","isPaused","inProgressUpdatedFiles","filesToRetry","successful","failed","createUpload","forceAllowNewUpload","runUpload","_this$getState5","reset","canHavePercentage","round","inProgress","preprocess","postprocess","sizedFiles","unsizedFiles","totalSize","reduce","acc","averageSize","uploadedSize","progressMax","currentProgress","_totalProgress","_this8","errorHandler","errorMsg","newError","Date","now","uploadResp","mode","uploadURL","addEventListener","online","navigator","onLine","wasOffline","getID","use","msg","existsPluginAlready","_msg","foundPlugin","_this9","pluginType","removePlugin","_extends4","index","item","updatedState","_this10","duration","isComplexMessage","clearTimeout","infoTimeoutID","newInfo","warn","run","restore","removeUpload","_extends5","_opts","_opts$forceAllowNewUp","_this$getState6","step","getUpload","_this$getState7","addResultData","_extends6","_this$getState8","currentUpload","_this11","uploadData","restoreStep","steps","lastStep","_extends7","_this11$getState","updatedUpload","_this11$getState2","_this11$getState3","_this12","uploader","_this$getState9","onBeforeUploadResult","_this12$getState","currentlyUploadingFiles","prev","curr","waitingFileIDs","getTimeStamp","_console","_console2","_len3","_key3","_console3","_len4","_key4","userAgent","m","exec","edgeVersion","_edgeVersion$split","major","minor","parseInt","_assertThisInitialized","self","ReferenceError","toArray","_require2","h","_Plugin","FileInput","title","chooseFiles","pretty","inputName","handleInputChange","handleClick","descriptors","ev","input","click","hiddenInputStyle","width","height","opacity","overflow","position","zIndex","accept","className","style","onChange","multiple","ref","onClick","de_DE","addMoreFiles","addingMoreFiles","allowAccessDescription","allowAccessTitle","back","addMore","browse","browseFiles","cancelUpload","closeModal","complete","copyLink","copyLinkToClipboardFallback","copyLinkToClipboardSuccess","creatingAssembly","creatingAssemblyFailed","dashboardTitle","dashboardWindowTitle","dataUploadedOfTotal","done","dropHereOr","dropHint","dropPasteBoth","dropPasteFiles","dropPasteFolders","dropPasteImportBoth","dropPasteImportFiles","dropPasteImportFolders","editFile","editing","encoding","enterCorrectUrl","enterUrlToImport","failedToFetch","fileSource","filesUploadedOfTotal","finishEditingFile","import","importFrom","myDevice","noCameraDescription","noCameraTitle","pause","pauseUpload","paused","poweredBy","processingXFiles","recordingLength","resume","resumeUpload","retry","saveChanges","smile","startRecording","stopRecording","takePicture","timedOut","uploadFailed","uploadPaused","uploadXFiles","uploadXNewFiles","uploading","uploadingXFiles","xFilesSelected","xMoreFilesAdded","xTimeLeft","n","locales","ProgressBar","fixed","hideAfterFinish","callbacks","_publish","listener","EventTracker","_events","_emitter","remove","NetworkError","xhr","isNetworkError","request","ProgressTimeout","timeout","timeoutHandler","_timeout","_onTimedOut","_isDone","_aliveTimer","createCancelError","RateLimitedQueue","limit","Infinity","activeRequests","queuedHandlers","_call","cancelActive","_done","abort","_queueNext","_next","next","shift","_queue","options","priority","_dequeue","other","queueOptions","wrapPromiseFunction","queuedRequest","outerPromise","cancelError","innerPromise","pluralize","_apply","prevLocale","interpolate","phrase","_String$prototype","String","dollarRegex","dollarBillsYall","interpolated","arg","replacement","insertReplacement","rx","newParts","chunk","raw","string","hasPluralForms","plural","_emitSocketProgress","progressData","isDOMElement","element","context","document","querySelector","array","predicate","encodeFilename","suffix","character","encodeCharacter","charCodeAt","relativePath","lastModified","fullFileName","lastDot","lastIndexOf","mimeTypes","regex","socketProtocol","pad","str","date","hours","getHours","minutes","getMinutes","seconds","getSeconds","object","obj","nodeType","Node","ELEMENT_NODE","readyState","md","markdown","mp4","mp3","svg","jpg","png","gif","heic","heif","yaml","yml","csv","tsv","tab","avi","mks","mkv","mov","doc","docm","docx","dot","dotm","dotx","xla","xlam","xlc","xlf","xlm","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xlw","txt","conf","pdf","zip","rar","tar","gz","dmg","promises","resolutions","rejections","resolved","rejected","wait","promise","emitSocketProgress","getSocketHost","settle","buildResponseError","setTypeInBlob","dataWithUpdatedType","XHRUpload","formData","fieldName","metaFields","responseUrlFieldName","bundle","withCredentials","responseType","getResponseData","responseText","parsedResponse","getResponseError","validateStatus","handleUpload","__queue","requests","uploaderEvents","getOptions","overrides","xhrUpload","addMetadata","append","createFormDataUpload","formPost","FormData","createBundledUpload","createBareUpload","current","total","XMLHttpRequest","timer","ceil","loaded","lengthComputable","_body","endpoint","currentOpts","setRequestHeader","onFileRemove","onCancelAll","uploadRemote","fields","Client","providerOptions","client","fieldname","metadata","httpMethod","useFormData","onRetry","onRetryAll","resp","cause","uploadBundle","optsFromState","emitError","uploadFiles","cb","targetFileID","isSomeFileRemote","_this$uppy$getState3","_vm","_self","_c","_m","staticRenderFns","staticClass","CsrfToken","super","prepareUpload","authService","config","maxFileSizeInBytes","default","route","required","previewPath","disabled","retryCount","mounted","instantiateUppy","beforeDestroy","methods","Config","German","$emit","$store","dispatch","$router","component","_setupProxy","attrs","_v","Vue","icon","_s","_e","fingerprint","getRandomValue","c","blockSize","base","discreteValues","randomBlock","safeCounter","letter","timestamp","getTime","counter","print","random","slug","isCuid","stringToCheck","startsWith","isSlug","stringLength","env","globalCount","mimeTypesLength","clientId","crypto","msCrypto","lim","abs","getRandomValues","Uint32Array","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","g","freeSelf","root","objectProto","objectToString","nativeMax","max","nativeMin","func","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","flush","debounced","isInvoking","toNumber","isObject","isObjectLike","isSymbol","isBinary","wildcard","reMimePartSplit","_fns","getListeners","out","idx","substring","l","emitAll","fns","arg1","arg2","arg3","arg4","arg5","arg6","toEmit","one","keep","VNode","EMPTY_CHILDREN","nodeName","attributes","lastSimple","child","simple","children","pop","vnode","extend","defer","cloneElement","IS_NON_DIMENSIONAL","items","enqueueRender","_dirty","debounceRendering","renderComponent","isSameNodeType","node","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","getNodeProps","defaultProps","createNode","isSvg","createElementNS","createElement","removeNode","setAccessor","old","cssText","__html","useCapture","eventProxy","removeEventListener","_listeners","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","mounts","diffLevel","isSvgMode","flushMounts","afterMount","componentDidMount","diff","dom","mountAll","componentRoot","ownerSVGElement","ret","idiff","appendChild","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","recollectNodeTree","vnodeName","buildComponentFromVNode","firstChild","fc","vchildren","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","isHydrating","j","vchild","originalChildren","childNodes","keyed","keyedLen","len","childrenLen","vlen","_child","__key","insertBefore","unmountOnly","unmountComponent","removeChildren","lastChild","previousSibling","components","collectComponent","createComponent","Ctor","inst","Component","doRender","nextBase","setComponentProps","_disable","__ref","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","previousContext","isUpdate","initialBase","initialChildComponent","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","_parentComponent","baseParent","componentRef","t","unshift","componentDidUpdate","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","beforeUnmount","componentWillUnmount","inner","merge","forceUpdate","queryStringify","prefix","pairs","pair","enkey","undef","decode","decodeURIComponent","encode","querystring","query","part","parser","querystringify","port","protocol","qs","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","rules","address","isSpecial","NaN","ignore","hash","lolcation","loc","globalVar","location","finaldestination","Url","unescape","pathname","href","scheme","extractProtocol","rest","forwardSlashes","otherSlashes","slashesCount","relative","last","up","extracted","instruction","instructions","username","password","auth","char","ins","getMetadata","WildcardMatcher","separator","hasWild","parts","ii","testParts","matches","partsCount","matcher"],"sourceRoot":""}