{"version":3,"sources":["webpack:///./src/views/Pages.vue?e3e9","webpack:///./src/components/PageEntryForm.vue?3be1","webpack:///./src/components/PageEntryForm.vue?25c4","webpack:///./src/views/Pages.vue?5a27","webpack:///./src/components/PageEntryForm.vue?15a2","webpack:///./src/components/PageEntryForm.vue?dfcb","webpack:///./src/components/PageEntryForm.vue?b064","webpack:///./src/components/PageEntryForm.vue?239c","webpack:///./src/views/Pages.vue?39e3","webpack:///./src/views/Pages.vue?c12e","webpack:///./src/views/Pages.vue?dcf4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isCreating","on","createPage","_v","_m","directives","name","rawName","value","expression","pages","length","_l","page","key","id","_s","seitentitel","$event","editPage","deletePage","eventBus","isAdmin","cancelPageForm","isSubmitting","onFormSubmissionSuccess","onFormSubmissionError","staticRenderFns","submitForm","pageEntry","domProps","target","composing","$set","adminMode","editor","editorConfig","model","callback","$$v","cancelForm","extend","props","data","height","language","toolbar","mounted","bus","$on","edit","methods","event","preventDefault","$emit","action","$store","dispatch","then","catch","error","finally","init","component","components","PageEntryForm","isLoading","computed","state","all","currentUser","auth","user","role","Admin","filters","moment","date","format","created","loadPages","$snotify","window","confirm","success"],"mappings":"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","file":"js/pages.db9e3a8a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=style&index=0&id=9439d482&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=style&index=0&id=9439d482&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=0&id=61d5d886&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=0&id=61d5d886&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pages-container\"},[_c('div',{staticClass:\"workspace\"},[_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"mt-3\"},[_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"disabled\":_vm.isCreating},on:{\"click\":_vm.createPage}},[_vm._v(\" Erstellen \")]),_c('h1',[_vm._v(\"Seiten\")])]),_c('table',{staticClass:\"table table-bordered table-sm\"},[_vm._m(0),(_vm.isLoading)?_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"spinner-border spinner-border-sm\"}),_vm._v(\" Seiten werden geladen \")])])]):(_vm.pages.length == 0)?_c('tbody',[_vm._m(1)]):_c('tbody',_vm._l((_vm.pages),function(page){return _c('tr',{key:page.id},[_c('td',[_c('div',[_vm._v(_vm._s(page.seitentitel))])]),_c('td',{staticClass:\"table-actions\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"aria-label\":\"Bearbeiten\",\"title\":\"Bearbeiten\"},on:{\"click\":function($event){return _vm.editPage(page)}}},[_c('i',{staticClass:\"fa fa-edit\"})]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"aria-label\":\"Löschen\",\"title\":\"Löschen\"},on:{\"click\":function($event){return _vm.deletePage(page)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])])}),0)])])])]),_c('page-entry-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCreating),expression:\"isCreating\"}],attrs:{\"bus\":_vm.eventBus,\"adminMode\":_vm.isAdmin},on:{\"cancelForm\":_vm.cancelPageForm,\"onSubmissionStart\":function($event){_vm.isSubmitting = true},\"onSubmissionEnd\":function($event){_vm.isSubmitting = false},\"onSubmissionSuccess\":_vm.onFormSubmissionSuccess,\"onSubmissionError\":_vm.onFormSubmissionError}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"date\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Titel\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"108\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\" Keine Seiten vorhanden. \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-container\"},[_c('div',{staticClass:\"form-background\"}),_c('div',{staticClass:\"event-create\"},[_c('form',{staticClass:\"container form\",on:{\"submit\":_vm.submitForm}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Titel\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageEntry.seitentitel),expression:\"pageEntry.seitentitel\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"aria-describedby\":\"titelHelp\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.pageEntry.seitentitel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pageEntry, \"seitentitel\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"titelHelp\"}},[_vm._v(\" Die Überschrift der Seite \")])])]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Inhalt\")]),(_vm.adminMode && !!_vm.adminMode)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageEntry.inhalt),expression:\"pageEntry.inhalt\"}],staticClass:\"form-control\",attrs:{\"rows\":\"20\"},domProps:{\"value\":(_vm.pageEntry.inhalt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pageEntry, \"inhalt\", $event.target.value)}}}):_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig},model:{value:(_vm.pageEntry.inhalt),callback:function ($$v) {_vm.$set(_vm.pageEntry, \"inhalt\", $$v)},expression:\"pageEntry.inhalt\"}})],1),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSubmitting},on:{\"click\":_vm.cancelForm}},[_vm._v(\" Abbrechen \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isSubmitting}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSubmitting),expression:\"isSubmitting\"}],staticClass:\"spinner-border spinner-border-sm\"}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSubmitting),expression:\"!isSubmitting\"}]},[_vm._v(\" Speichern \")])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from \"vue-property-decorator\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport \"@ckeditor/ckeditor5-build-classic/build/translations/de\";\nimport Page from \"../models/page\";\n\nexport default Vue.extend({\n    name: \"PageEntryForm\",\n\n    props: [\"bus\", \"adminMode\"],\n\n    data() {\n        return {\n            isSubmitting: false,\n            pageEntry: new Page(),\n            editor: ClassicEditor,\n            editorConfig: {\n                height: 400,\n                language: \"de\",\n                toolbar: [\n                    \"bold\",\n                    \"italic\",\n                    \"|\",\n                    \"bulletedList\",\n                    \"numberedList\",\n                    \"|\",\n                    \"link\",\n                ],\n            },\n        };\n    },\n\n    mounted() {\n        this.bus.$on(\"edit\", this.edit);\n    },\n\n    methods: {\n        submitForm(event) {\n            event.preventDefault();\n\n            if (this.isSubmitting) {\n                return;\n            }\n\n            this.isSubmitting = true;\n            this.$emit(\"onSubmissionStart\", true);\n            const action = this.pageEntry.id ? \"update\" : \"create\";\n\n            this.$store\n                .dispatch(`pages/${action}`, this.pageEntry)\n                .then(() => {\n                    this.isCreating = false;\n                    this.$emit(\"onSubmissionSuccess\");\n                })\n                .catch(error => {\n                    this.$emit(\"onSubmissionError\", error);\n                })\n                .finally(() => {\n                    this.isSubmitting = false;\n                    this.$emit(\"onSubmissionEnd\", false);\n                });\n        },\n        edit(page: Page) {\n            this.pageEntry = Page.init(page);\n        },\n        cancelForm() {\n            this.$emit(\"cancelForm\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageEntryForm.vue?vue&type=template&id=61d5d886&scoped=true&\"\nimport script from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageEntryForm.vue?vue&type=style&index=0&id=61d5d886&scoped=true&lang=css&\"\nimport style1 from \"./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61d5d886\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport moment from \"moment\";\nimport Page from \"../models/page\";\nimport PageEntryForm from \"@/components/PageEntryForm.vue\";\nimport User from \"../models/user\";\nimport { Role } from \"../helpers/role\";\n\nexport default Vue.extend({\n    components: {\n        PageEntryForm,\n    },\n    name: \"Pages\",\n    data() {\n        return {\n            isLoading: false,\n            isCreating: false,\n            isSubmitting: false,\n            eventBus: new Vue(),\n        };\n    },\n    computed: {\n        pages() {\n            return this.$store.state.pages.all;\n        },\n        currentUser(): User {\n            return this.$store.state.auth.user;\n        },\n        isAdmin(): boolean {\n            return this.currentUser && this.currentUser.role === Role.Admin;\n        },\n    },\n    filters: {\n        moment: function(date) {\n            if (!date) {\n                return \"\";\n            }\n            return moment(date).format(\"DD. MMMM YYYY\");\n        },\n    },\n    created() {\n        this.loadPages();\n    },\n    methods: {\n        loadPages() {\n            this.isLoading = true;\n            this.$store\n                .dispatch(\"pages/load\")\n                .catch(() => {\n                    this.$snotify.error(\n                        \"Die Seiten konnten nicht geladen werden\"\n                    );\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n        createPage() {\n            this.isCreating = true;\n            this.eventBus.$emit(\"edit\", new Page());\n        },\n        editPage(page: Page) {\n            this.isCreating = true;\n            this.eventBus.$emit(\"edit\", page);\n        },\n        cancelPageForm() {\n            this.isCreating = false;\n        },\n        deletePage(page: Page) {\n            if (window.confirm(\"Soll die Seite wirklich gelöscht werden?\")) {\n                this.$store\n                    .dispatch(\"pages/delete\", page)\n                    .then(() => {\n                        this.$snotify.success(\"Die Seite wurde gelöscht!\");\n                    })\n                    .catch(() => {\n                        this.$snotify.error(\n                            \"Die Seite konnte nicht gelöscht werden!\"\n                        );\n                    });\n            }\n        },\n        onFormSubmissionSuccess() {\n            this.$snotify.success(\"Die Seite wurde gespeichert!\");\n            this.isCreating = false;\n        },\n        onFormSubmissionError() {\n            this.$snotify.error(\"Die Seite konnte nicht gespeichert werden!\");\n            this.isCreating = false;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=9439d482&scoped=true&\"\nimport script from \"./Pages.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pages.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Pages.vue?vue&type=style&index=0&id=9439d482&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9439d482\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}