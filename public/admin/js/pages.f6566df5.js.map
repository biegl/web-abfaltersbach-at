{"version":3,"sources":["webpack:///./src/components/PageEntryForm.vue?9bb5","webpack:///./src/components/PageEntryForm.vue?25c4","webpack:///./src/views/Pages.vue?5b6f","webpack:///./src/components/PageEntryForm.vue?884b","webpack:///./src/components/PageEntryForm.vue?dfcb","webpack:///./src/components/PageEntryForm.vue?b064","webpack:///./src/components/PageEntryForm.vue?239c","webpack:///./src/views/Pages.vue","webpack:///./src/views/Pages.vue?c12e","webpack:///./src/views/Pages.vue?dcf4","webpack:///./src/views/Pages.vue?1d89"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","selectedPage","on","createPage","_v","_m","directives","name","rawName","value","expression","pages","length","_l","page","key","id","_s","seitentitel","attachments","file","ID","frontendPath","title","readableFileSize","$event","editPage","deletePage","isAdmin","cancelPageForm","isSubmitting","onFormSubmissionSuccess","onFormSubmissionError","staticRenderFns","submitForm","pageEntry","domProps","target","composing","$set","adminMode","editor","editorConfig","model","callback","$$v","deleteFile","_e","attachmentRoute","onUploadSuccessful","onUploadFailed","cancelForm","extend","props","components","FileInput","data","height","language","toolbar","computed","host","$store","state","methods","event","preventDefault","$emit","action","dispatch","then","isCreating","catch","error","finally","obj","init","$snotify","success","window","confirm","component","PageEntryForm","isLoading","all","currentUser","auth","user","role","Admin","created","loadPages"],"mappings":"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","file":"js/pages.f6566df5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=0&id=67661aee&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=0&id=67661aee&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pages-container\"},[_c('div',{staticClass:\"workspace\"},[_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"mt-3\"},[_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"disabled\":_vm.selectedPage},on:{\"click\":_vm.createPage}},[_vm._v(\" Erstellen \")]),_c('h1',[_vm._v(\"Seiten\")])]),_c('table',{staticClass:\"table table-bordered table-sm\"},[_vm._m(0),(_vm.isLoading)?_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"3\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"spinner-border spinner-border-sm\"}),_vm._v(\" Seiten werden geladen \")])])]):(_vm.pages.length == 0)?_c('tbody',[_vm._m(1)]):_c('tbody',_vm._l((_vm.pages),function(page){return _c('tr',{key:page.id},[_c('td',[_c('div',[_vm._v(_vm._s(page.seitentitel))])]),_c('td',[(\n                                                !page.attachments ||\n                                                    page.attachments\n                                                        .length == 0\n                                            )?_c('span',[_vm._v(\"-\")]):_c('ul',{staticClass:\"pages-file-list\"},_vm._l((page.attachments),function(file){return _c('li',{key:file.ID},[_c('a',{attrs:{\"href\":file.frontendPath}},[_vm._v(_vm._s(file.title))]),_c('small',[_vm._v(_vm._s(file.readableFileSize))])])}),0)]),_c('td',[_c('div',{staticClass:\"row-actions\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"aria-label\":\"Bearbeiten\",\"title\":\"Bearbeiten\"},on:{\"click\":function($event){return _vm.editPage(page)}}},[_c('i',{staticClass:\"fa fa-edit\"})]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"aria-label\":\"Löschen\",\"title\":\"Löschen\"},on:{\"click\":function($event){return _vm.deletePage(page)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])])])}),0)])])])]),_c('page-entry-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPage),expression:\"selectedPage\"}],attrs:{\"adminMode\":_vm.isAdmin},on:{\"cancelForm\":_vm.cancelPageForm,\"onSubmissionStart\":function($event){_vm.isSubmitting = true},\"onSubmissionEnd\":function($event){_vm.isSubmitting = false},\"onSubmissionSuccess\":_vm.onFormSubmissionSuccess,\"onSubmissionError\":_vm.onFormSubmissionError}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"date\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Titel\")]),_c('th',{staticClass:\"date\",attrs:{\"scope\":\"col\"}},[_vm._v(\" Dateien \")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"108\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" Keine Seiten vorhanden. \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pageEntry)?_c('div',{staticClass:\"form-container\"},[_c('div',{staticClass:\"form-background\"}),_c('div',{staticClass:\"event-create\"},[_c('form',{staticClass:\"container form\",on:{\"submit\":_vm.submitForm}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Titel\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageEntry.seitentitel),expression:\"pageEntry.seitentitel\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"aria-describedby\":\"titelHelp\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.pageEntry.seitentitel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pageEntry, \"seitentitel\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"titelHelp\"}},[_vm._v(\" Die Überschrift der Seite \")])])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"Inhalt\")]),(_vm.adminMode && !!_vm.adminMode)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageEntry.inhalt),expression:\"pageEntry.inhalt\"}],staticClass:\"form-control\",attrs:{\"rows\":\"20\"},domProps:{\"value\":(_vm.pageEntry.inhalt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pageEntry, \"inhalt\", $event.target.value)}}}):_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig},model:{value:(_vm.pageEntry.inhalt),callback:function ($$v) {_vm.$set(_vm.pageEntry, \"inhalt\", $$v)},expression:\"pageEntry.inhalt\"}})],1)]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"file\"}},[_vm._v(\"Dateien\")]),(\n                                _vm.pageEntry.attachments &&\n                                    _vm.pageEntry.attachments.length > 0\n                            )?_c('ul',{staticClass:\"file-list\"},_vm._l((_vm.pageEntry.attachments),function(file){return _c('li',{key:file.ID},[_vm._v(\" \"+_vm._s(file.title)+\" \"),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteFile(file)}}},[_c('i',{staticClass:\"fa fa-trash\"})])])}),0):_vm._e(),(_vm.pageEntry.id)?_c('file-input',{attrs:{\"route\":_vm.attachmentRoute},on:{\"onUploadSuccessful\":_vm.onUploadSuccessful,\"onUploadFailed\":_vm.onUploadFailed}}):_c('div',[_c('small',[_vm._v(\"Dateien können erst hochgeladen werden, nachdem die Veranstaltung gespeichert wurde.\")])])],1)])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col text-right\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSubmitting},on:{\"click\":_vm.cancelForm}},[_vm._v(\" Abbrechen \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isSubmitting}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSubmitting),expression:\"isSubmitting\"}],staticClass:\"spinner-border spinner-border-sm\"}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSubmitting),expression:\"!isSubmitting\"}]},[_vm._v(\" Speichern \")])])])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from \"vue-property-decorator\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport \"@ckeditor/ckeditor5-build-classic/build/translations/de\";\nimport Page from \"../models/page\";\nimport Config from \"../config\";\nimport FileInput from \"@/components/FileInput.vue\";\n\nexport default Vue.extend({\n    name: \"PageEntryForm\",\n\n    props: [\"adminMode\"],\n\n    components: {\n        FileInput,\n    },\n\n    data() {\n        return {\n            isSubmitting: false,\n            editor: ClassicEditor,\n            editorConfig: {\n                height: 400,\n                language: \"de\",\n                toolbar: [\n                    \"bold\",\n                    \"italic\",\n                    \"|\",\n                    \"bulletedList\",\n                    \"numberedList\",\n                    \"|\",\n                    \"link\",\n                ],\n            },\n        };\n    },\n\n    computed: {\n        attachmentRoute() {\n            if (!this.pageEntry.id) {\n                return \"\";\n            }\n\n            return `${Config.host}/api/pages/${this.pageEntry.id}/attach`;\n        },\n        pageEntry() {\n            return this.$store.state.pages.selectedPage;\n        },\n    },\n\n    methods: {\n        submitForm(event) {\n            event.preventDefault();\n\n            if (this.isSubmitting) {\n                return;\n            }\n\n            this.isSubmitting = true;\n            this.$emit(\"onSubmissionStart\", true);\n            const action = this.pageEntry.id ? \"update\" : \"create\";\n\n            this.$store\n                .dispatch(`pages/${action}`, this.pageEntry)\n                .then(() => {\n                    this.isCreating = false;\n                    this.$emit(\"onSubmissionSuccess\");\n                })\n                .catch(error => {\n                    this.$emit(\"onSubmissionError\", error);\n                })\n                .finally(() => {\n                    this.isSubmitting = false;\n                    this.$emit(\"onSubmissionEnd\", false);\n                });\n        },\n        cancelForm() {\n            this.$emit(\"cancelForm\");\n        },\n        onUploadSuccessful(obj) {\n            this.$store.dispatch(\"pages/updatePage\", Page.init(obj[0]));\n            this.$snotify.success(\"Upload erfolgreich\");\n        },\n        onUploadFailed() {\n            this.$snotify.error(\"Beim Upload ist ein Fehler aufgetreten!\");\n        },\n        deleteFile(file) {\n            if (\n                !window.confirm(\n                    `Soll die Datei \"${file.title}\" wirklich gelöscht werden?`\n                )\n            ) {\n                return;\n            }\n\n            this.$store\n                .dispatch(\"pages/deleteFile\", { page: this.pageEntry, file })\n                .then(() => {\n                    this.$snotify.success(\"Die Datei wurde gelöscht.\");\n                })\n                .catch(() => {\n                    this.$snotify.error(\n                        \"Die Datei konnte nicht gelöscht werden!\"\n                    );\n                });\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageEntryForm.vue?vue&type=template&id=67661aee&scoped=true&\"\nimport script from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageEntryForm.vue?vue&type=style&index=0&id=67661aee&scoped=true&lang=css&\"\nimport style1 from \"./PageEntryForm.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67661aee\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Page from \"../models/page\";\nimport PageEntryForm from \"@/components/PageEntryForm.vue\";\nimport User from \"../models/user\";\nimport { Role } from \"../helpers/role\";\n\nexport default Vue.extend({\n    components: {\n        PageEntryForm,\n    },\n    name: \"Pages\",\n    data() {\n        return {\n            isLoading: false,\n            isSubmitting: false,\n        };\n    },\n    computed: {\n        pages() {\n            return this.$store.state.pages.all;\n        },\n        selectedPage() {\n            return this.$store.state.pages.selectedPage;\n        },\n        currentUser(): User {\n            return this.$store.state.auth.user;\n        },\n        isAdmin(): boolean {\n            return this.currentUser && this.currentUser.role === Role.Admin;\n        },\n    },\n    created() {\n        this.loadPages();\n    },\n    methods: {\n        loadPages() {\n            this.isLoading = true;\n            this.$store\n                .dispatch(\"pages/load\")\n                .catch(() => {\n                    this.$snotify.error(\n                        \"Die Seiten konnten nicht geladen werden\"\n                    );\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n        createPage() {\n            this.$store.dispatch(\"pages/select\", new Page());\n        },\n        editPage(page: Page) {\n            this.$store.dispatch(\"pages/select\", page);\n        },\n        cancelPageForm() {\n            this.$store.dispatch(\"pages/select\", null);\n        },\n        deletePage(page: Page) {\n            if (window.confirm(\"Soll die Seite wirklich gelöscht werden?\")) {\n                this.$store\n                    .dispatch(\"pages/delete\", page)\n                    .then(() => {\n                        this.$snotify.success(\"Die Seite wurde gelöscht!\");\n                    })\n                    .catch(() => {\n                        this.$snotify.error(\n                            \"Die Seite konnte nicht gelöscht werden!\"\n                        );\n                    });\n            }\n        },\n        onFormSubmissionSuccess() {\n            this.$snotify.success(\"Die Seite wurde gespeichert!\");\n            this.$store.dispatch(\"pages/select\", null);\n        },\n        onFormSubmissionError() {\n            this.$snotify.error(\"Die Seite konnte nicht gespeichert werden!\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=25be3b15&scoped=true&\"\nimport script from \"./Pages.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pages.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Pages.vue?vue&type=style&index=0&id=25be3b15&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25be3b15\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=style&index=0&id=25be3b15&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=style&index=0&id=25be3b15&scoped=true&lang=scss&\""],"sourceRoot":""}