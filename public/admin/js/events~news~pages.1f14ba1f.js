(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["events~news~pages"],{"0f29":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("label",[t._v("Inhalt")]),t.enableSourceMode?n("div",{staticClass:"custom-control custom-switch",staticStyle:{float:"right"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sourceEditor,expression:"sourceEditor"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"source-switch"},domProps:{checked:Array.isArray(t.sourceEditor)?t._i(t.sourceEditor,null)>-1:t.sourceEditor},on:{change:function(e){var n=t.sourceEditor,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=null,a=t._i(n,r);i.checked?a<0&&(t.sourceEditor=n.concat([r])):a>-1&&(t.sourceEditor=n.slice(0,a).concat(n.slice(a+1)))}else t.sourceEditor=o}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"source-switch"}},[t._v("Source Editor")])]):t._e(),t.enableSourceMode&&t.sourceEditor?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contentVal,expression:"contentVal"}],staticClass:"form-control",attrs:{rows:"20"},domProps:{value:t.contentVal},on:{input:function(e){e.target.composing||(t.contentVal=e.target.value)}}}):n("editor",{attrs:{"api-key":t.apiKey,init:t.editorConfig},model:{value:t.contentVal,callback:function(e){t.contentVal=e},expression:"contentVal"}})],1)},o=[],r=n("60a3"),a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],s=function(t){return-1!==a.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},c=function(t,e,n){Object.keys(e).filter(s).forEach((function(i){var o=e[i];"function"===typeof o&&("onInit"===i?o(t,n):n.on(i.substring(2),(function(t){return o(t,n)})))}))},l=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,i=Array.isArray(n)?n.join(" "):n;t.$watch("value",(function(n,i){e&&"string"===typeof n&&n!==i&&n!==e.getContent({format:t.$props.outputFormat})&&e.setContent(n)})),e.on(i||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},u=function(t,e,n){var i=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(i||(e.initialized?e.cache:o)),e.$listeners.input&&l(e,n),c(t,e.$listeners,n),e.initialized=!0},d=0,p=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return d++,t+"_"+n+d+String(e)},f=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},h=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},m=function(t,e){return h(t).concat(h(e))},v=function(t){return null===t||void 0===t},C=function(){return{listeners:[],scriptId:p("tiny-script"),scriptLoaded:!1}},b=function(){var t=C(),e=function(t,e,n,i){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var r=function(){o.removeEventListener("load",r),i()};o.addEventListener("load",r),e.head&&e.head.appendChild(o)},n=function(n,i,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,i,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},i=function(){t=C()};return{load:n,reinitialize:i}},y=b(),g=n("c4a9"),$={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},S=function(){return S=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},S.apply(this,arguments)},E=function(t,e,n){return t(n||"div",{attrs:{id:e}})},w=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},F=function(t){return function(){var e=S(S({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:m(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return u(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});f(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(g["a"])().init(e)}},x={props:$,created:function(){this.elementId=this.$props.id||p("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(g["a"])())F(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=v(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;y.load(this.element.ownerDocument,n,F(this))}},beforeDestroy:function(){null!==Object(g["a"])()&&Object(g["a"])().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(g["a"])())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&F(this)()},render:function(t){return this.inlineEditor?E(t,this.elementId,this.$props.tagName):w(t,this.elementId)}},k=x,D=n("d70b"),_=r["a"].extend({name:"TextEditor",props:["value","config","enableSourceMode"],components:{editor:k},data:function(){return{sourceEditor:!1,editorConfig:this.config||D["a"].defaultEditorConfig}},computed:{apiKey:function(){return D["a"].editorApiKey},contentVal:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}}),B=_,A=(n("1b91"),n("2877")),j=Object(A["a"])(B,i,o,!1,null,null,null);e["a"]=j.exports},"103d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CCard",[n("CCardHeader",{staticClass:"d-flex justify-content-between align-items-center position-relative"},[n("div",[n("CIcon",{staticClass:"text-secondary",attrs:{name:"cil-file"}}),t._v(" Anhang ")],1),null!=t.value?n("div",{staticClass:"card-header-actions"},[n("div",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Dateien hochladen",placement:"top-end"},expression:"{\n                    content: 'Dateien hochladen',\n                    placement: 'top-end',\n                }"}],staticClass:"card-header-action"},[n("CIcon",{attrs:{name:"cil-cloud-upload"}}),n("FileInput",{attrs:{route:t.attachmentRoute},on:{onUploadSuccessful:t.onUploadSuccessful,onUploadFailed:t.onUploadFailed}})],1)]):t._e()]),n("CCardBody",[n("CForm",[n("div",{staticClass:"form-group"},[t.value&&t.value.length>0?n("ul",{staticClass:"file-list"},t._l(t.value,(function(e){return n("li",{key:e.id},[n("Attachment",{attrs:{file:e},on:{onEdit:t.onEditFile,onDelete:t.onDeleteFile}})],1)})),0):t.value&&0==t.value.length?n("div",[n("small",[t._v("Über den Button rechts oben können Sie Dateien hochladen")])]):n("div",[n("small",[t._v("Dateien können erst hochgeladen werden, nachdem die News gespeichert wurde.")])])])])],1),n("CModal",{attrs:{show:t.hasFileBeenSelected,centered:!0,"no-close-on-backdrop":!0},on:{"update:show":function(e){t.hasFileBeenSelected=e}},scopedSlots:t._u([{key:"header",fn:function(){return[n("h6",{staticClass:"modal-title"},[t._v("Datei bearbeiten")]),n("CButtonClose",{on:{click:t.onCancelEditFile}})]},proxy:!0},{key:"footer",fn:function(){return[n("CLink",{staticClass:"text-secondary",on:{click:t.onCancelEditFile}},[t._v("Abbrechen")]),n("CButton",{attrs:{color:"primary",disabled:t.isSubmitting},on:{click:t.onUpdateFile}},[n("CIcon",{attrs:{name:"cil-check-circle"}}),t._v(" Speichern ")],1)]},proxy:!0}])},[t.selectedFile?n("CForm",{on:{submit:t.onUpdateFile}},[n("CInput",{attrs:{label:"Dateiname"},model:{value:t.selectedFile.title,callback:function(e){t.$set(t.selectedFile,"title",e)},expression:"selectedFile.title"}})],1):t._e()],1)],1)},o=[],r=(n("4de4"),n("5db7"),n("d81d"),n("73d9"),n("d3b7"),n("60a3")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",{staticClass:"text-black-50",staticStyle:{"min-width":"0"}},[n("div",[n("a",{staticClass:"d-block text-truncate",attrs:{target:"_blank",href:t.filePath}},[t._v(t._s(t.file.title))])]),n("small",{staticClass:"d-block",attrs:{title:"Dateipfad in die Zwischenablage kopieren"},on:{click:t.onCopyLink}},[t._v(t._s(t.file.readableFileSize))])]),n("div",{staticStyle:{"min-width":"70px","margin-right":"-10px"}},[n("button",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Bearbeiten",placement:"top-end"},expression:"{\n                content: 'Bearbeiten',\n                placement: 'top-end',\n            }"}],staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:t.onEdit}},[n("CIcon",{attrs:{name:"cil-pencil"}})],1),n("button",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Löschen",placement:"top-end"},expression:"{\n                content: 'Löschen',\n                placement: 'top-end',\n            }"}],staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:t.onDelete}},[n("CIcon",{attrs:{name:"cil-trash"}})],1)])])},s=[],c=r["a"].extend({name:"Attachment",props:["file"],data:function(){return{title:""}},computed:{isDirty:function(){return""!=this.file.title&&this.file.title!=this.title},filePath:function(){return"/files/".concat(this.file.file)}},methods:{onEdit:function(){this.$emit("onEdit",this.file)},onDelete:function(){this.$emit("onDelete",this.file)},onCopyLink:function(){var t=document.createElement("textarea");t.value=this.filePath,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}}),l=c,u=n("2877"),d=Object(u["a"])(l,a,s,!1,null,null,null),p=d.exports,f=n("b1b6"),h=r["a"].extend({props:["value","attachmentRoute","modelFactory"],data:function(){return{selectedFile:null,hasFileBeenSelected:!1,isSubmitting:!1}},components:{Attachment:p,FileInput:f["a"]},methods:{onUploadSuccessful:function(t){var e=this,n=t.flatMap((function(t){return e.modelFactory(t).attachments}));this.$emit("input",n),this.$snotify.success("Upload erfolgreich")},onUploadFailed:function(){this.$snotify.error("Beim Upload ist ein Fehler aufgetreten!")},onEditFile:function(t){this.selectedFile={id:t.id,title:t.title},this.hasFileBeenSelected=!0},onCancelEditFile:function(){this.selectedFile=null,this.hasFileBeenSelected=!1},onUpdateFile:function(t){var e=this;t.preventDefault(),!this.selectedFile&&this.isSubmitting||(this.isSubmitting=!0,this.$store.dispatch("files/partialUpdate",this.selectedFile).then((function(t){var n=e.value.map((function(e){return e.id===t.id?t:e}));e.$emit("input",n),e.$snotify.success("Der Dateiname wurde geändert."),e.onCancelEditFile()})).catch((function(){e.$snotify.error("Die Datei konnte nicht umbenannt werden!")})).finally((function(){e.isSubmitting=!1})))},onDeleteFile:function(t){var e=this;window.confirm('Soll die Datei "'.concat(t.title,'" wirklich gelöscht werden?'))&&t.id&&this.$store.dispatch("files/delete",t).then((function(){e.$emit("input",e.value.filter((function(e){return e.id!=t.id}))),e.$snotify.success("Die Datei wurde gelöscht.")})).catch((function(){e.$snotify.error("Die Datei konnte nicht gelöscht werden!")}))}}}),m=h,v=(n("3f81"),Object(u["a"])(m,i,o,!1,null,"7d0a7ba8",null));e["a"]=v.exports},1237:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CCard",{staticClass:"sticky-header"},[n("CCardHeader",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",[n("CIcon",{staticClass:"text-secondary",attrs:{name:"cil-filter"}}),t._v(" Filter ")],1),t.resultsCount?n("CBadge",{attrs:{color:"secondary",shape:"pill"}},[t._v(t._s(t.resultsCount)+" Einträge")]):t._e()],1),n("CCardBody",[n("CForm",[t._t("default")],2)],1),n("CCardFooter",{staticClass:"d-flex justify-content-end"},[n("CButton",{attrs:{color:"primary",disabled:!t.isActive},on:{click:function(e){return t.$emit("reset")}}},[t._v(" Filter zurücksetzen ")])],1)],1)},o=[],r=n("a026"),a=r["default"].extend({name:"FilterContainer",props:["resultsCount","isActive"]}),s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["a"]=l.exports},1328:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5 mb-5 text-center"},[t._v(" Keine Einträge vorhanden. Klicken Sie auf den Button oben rechts um einen neuen Eintrag anzulegen. ")])},o=[],r=n("a026"),a=r["default"].extend({name:"EmptyListInfo"}),s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["a"]=l.exports},"1b91":function(t,e,n){"use strict";var i=n("6a3a"),o=n.n(i);o.a},"3f81":function(t,e,n){"use strict";var i=n("c1c9"),o=n.n(i);o.a},"5db7":function(t,e,n){"use strict";var i=n("23e7"),o=n("a2bf"),r=n("7b0b"),a=n("50c4"),s=n("1c0b"),c=n("65f0");i({target:"Array",proto:!0},{flatMap:function(t){var e,n=r(this),i=a(n.length);return s(t),e=c(n,0),e.length=o(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"6a3a":function(t,e,n){},"73d9":function(t,e,n){var i=n("44d2");i("flatMap")},c1c9:function(t,e,n){},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=function(){return"undefined"!==typeof window?window:t},o=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))}}]);
//# sourceMappingURL=events~news~pages.1f14ba1f.js.map