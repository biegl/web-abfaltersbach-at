{"version":3,"sources":["webpack:///./node_modules/@transloadit/prettier-bytes/prettierBytes.js","webpack:///./node_modules/@uppy/store-default/lib/index.js","webpack:///./src/components/FileInput.vue?bfea","webpack:///./node_modules/@uppy/locales/lib/de_DE.js","webpack:///./node_modules/@uppy/companion-client/lib/tokenStorage.js","webpack:///./node_modules/@uppy/utils/lib/emitSocketProgress.js","webpack:///./node_modules/@uppy/companion-client/lib/index.js","webpack:///./node_modules/@uppy/file-input/node_modules/@uppy/utils/lib/toArray.js","webpack:///./node_modules/preact/dist/preact.esm.js","webpack:///./node_modules/@uppy/xhr-upload/lib/index.js","webpack:///./node_modules/@uppy/utils/lib/getFileType.js","webpack:///./node_modules/@uppy/core/lib/supportsUploadProgress.js","webpack:///./node_modules/@uppy/progress-bar/lib/index.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/cuid/lib/getRandomValue.browser.js","webpack:///./node_modules/@uppy/utils/lib/mimeTypes.js","webpack:///./node_modules/@uppy/core/lib/Plugin.js","webpack:///./node_modules/@uppy/file-input/lib/index.js","webpack:///./node_modules/wildcard/index.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/@uppy/core/lib/loggers.js","webpack:///./node_modules/cuid/lib/pad.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/namespace-emitter/index.js","webpack:///./node_modules/@uppy/utils/lib/isDOMElement.js","webpack:///./node_modules/@uppy/companion-client/lib/Provider.js","webpack:///./node_modules/@uppy/companion-client/lib/AuthError.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/@uppy/utils/lib/EventTracker.js","webpack:///./node_modules/@uppy/utils/lib/settle.js","webpack:///./src/components/FileInput.vue?fdb9","webpack:///src/components/FileInput.vue","webpack:///./src/components/FileInput.vue?56ae","webpack:///./src/components/FileInput.vue?38f7","webpack:///./node_modules/@uppy/utils/lib/getTimeStamp.js","webpack:///./node_modules/@uppy/core/lib/index.js","webpack:///./node_modules/@uppy/utils/lib/isNetworkError.js","webpack:///./node_modules/@uppy/utils/lib/findDOMElement.js","webpack:///./node_modules/cuid/lib/fingerprint.browser.js","webpack:///./node_modules/@uppy/utils/lib/NetworkError.js","webpack:///./node_modules/@uppy/file-input/node_modules/@uppy/utils/lib/Translator.js","webpack:///./node_modules/@uppy/utils/lib/generateFileID.js","webpack:///./node_modules/@uppy/utils/lib/getSocketHost.js","webpack:///./node_modules/@uppy/utils/lib/getFileNameAndExtension.js","webpack:///./node_modules/@uppy/utils/lib/fetchWithNetworkError.js","webpack:///./node_modules/@uppy/utils/lib/RateLimitedQueue.js","webpack:///./node_modules/@uppy/companion-client/lib/RequestClient.js","webpack:///./node_modules/@uppy/utils/lib/Translator.js","webpack:///./node_modules/@uppy/companion-client/lib/Socket.js","webpack:///./node_modules/cuid/index.js","webpack:///./node_modules/@uppy/utils/lib/ProgressTimeout.js","webpack:///./node_modules/mime-match/index.js","webpack:///./node_modules/@uppy/utils/lib/hasProperty.js","webpack:///./node_modules/@uppy/file-input/node_modules/@uppy/utils/lib/hasProperty.js"],"names":["module","exports","num","isNaN","TypeError","neg","units","exponent","Math","min","floor","log","length","Number","pow","unit","toFixed","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","DefaultStore","state","callbacks","_proto","getState","setState","patch","prevState","nextState","_publish","subscribe","listener","_this","push","splice","indexOf","_len","args","Array","_key","forEach","VERSION","de_DE","addMoreFiles","addingMoreFiles","allowAccessDescription","allowAccessTitle","authenticateWith","authenticateWithTitle","back","addMore","browse","browseFiles","cancel","cancelUpload","chooseFiles","closeModal","companionError","complete","connectedToInternet","copyLink","copyLinkToClipboardFallback","copyLinkToClipboardSuccess","creatingAssembly","creatingAssemblyFailed","dashboardTitle","dashboardWindowTitle","dataUploadedOfTotal","done","dropHereOr","dropHint","dropPasteBoth","dropPasteFiles","dropPasteFolders","dropPasteImportBoth","dropPasteImportFiles","dropPasteImportFolders","editFile","editing","emptyFolderAdded","encoding","enterCorrectUrl","enterUrlToImport","exceedsSize","failedToFetch","failedToUpload","fileSource","filesUploadedOfTotal","filter","finishEditingFile","folderAdded","import","importFrom","loading","logOut","myDevice","noDuplicates","noFilesFound","noInternetConnection","noNewAlreadyUploading","pause","pauseUpload","paused","poweredBy","processingXFiles","recordingLength","removeFile","resetFilter","resume","resumeUpload","retry","retryUpload","saveChanges","selectX","smile","startRecording","stopRecording","takePicture","timedOut","upload","uploadComplete","uploadFailed","uploadPaused","uploadXFiles","uploadXNewFiles","uploading","uploadingXFiles","xFilesSelected","xMoreFilesAdded","xTimeLeft","youCanOnlyUploadFileTypes","youCanOnlyUploadX","youHaveToAtLeastSelectX","selectAllFilesFromFolderNamed","unselectAllFilesFromFolderNamed","selectFileNamed","unselectFileNamed","openFolderNamed","n","window","Uppy","locales","setItem","value","Promise","resolve","localStorage","getItem","removeItem","throttle","_emitSocketProgress","uploader","progressData","file","progress","bytesUploaded","bytesTotal","uppy","emit","leading","trailing","RequestClient","Provider","Socket","list","slice","VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","pop","undefined","String","p","vnode","extend","obj","props","defer","then","bind","setTimeout","cloneElement","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","renderComponent","isSameNodeType","node","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","createNode","isSvg","document","createElementNS","createElement","removeNode","parentNode","removeChild","setAccessor","name","old","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","e","type","event","mounts","diffLevel","isSvgMode","flushMounts","c","afterMount","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","recollectNodeTree","vnodeName","buildComponentFromVNode","firstChild","fc","vchildren","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","isHydrating","j","f","vchild","originalChildren","childNodes","keyed","keyedLen","len","childrenLen","vlen","_child","__key","trim","insertBefore","unmountOnly","unmountComponent","ref","removeChildren","lastChild","next","previousSibling","attrs","components","collectComponent","constructor","createComponent","Ctor","inst","render","Component","doRender","nextBase","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","previousContext","isUpdate","initialBase","initialChildComponent","skip","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","_parentComponent","baseParent","componentRef","t","unshift","componentDidUpdate","afterUpdate","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","beforeUnmount","componentWillUnmount","inner","merge","callback","s","forceUpdate","preact","_class","_temp","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","__proto__","_require","Plugin","cuid","Translator","_require2","emitSocketProgress","getSocketHost","settle","EventTracker","ProgressTimeout","RateLimitedQueue","NetworkError","isNetworkError","buildResponseError","xhr","error","Error","data","request","setTypeInBlob","dataWithUpdatedType","size","meta","_Plugin","XHRUpload","id","title","defaultLocale","strings","defaultOptions","formData","fieldName","method","metaFields","responseUrlFieldName","bundle","headers","timeout","limit","withCredentials","responseType","getResponseData","responseText","response","parsedResponse","JSON","parse","err","console","getResponseError","validateStatus","status","i18nInit","handleUpload","__queue","requests","uploaderEvents","setOptions","newOpts","translator","locale","i18n","translate","setPluginState","getOptions","overrides","xhrUpload","addMetadata","isArray","keys","item","append","createFormDataUpload","formPost","FormData","createBundledUpload","files","_this2","_this$uppy$getState","createBareUpload","current","total","_this3","reject","XMLHttpRequest","timer","abort","queuedRequest","seconds","ceil","ev","loaded","lengthComputable","remove","body","uploadURL","uploadResp","_body","open","toUpperCase","endpoint","header","setRequestHeader","run","send","onFileRemove","onCancelAll","uploadRemote","_this4","fields","Client","remote","providerOptions","provider","client","post","url","fieldname","metadata","httpMethod","useFormData","res","token","host","companionUrl","socket","autoOpen","onRetry","onRetryAll","on","errData","resp","message","cause","isPaused","close","catch","uploadBundle","_this5","optsFromState","emitError","uploadFiles","_this6","promises","map","parseInt","isRemote","fileID","cb","targetFileID","_this7","filesToRetry","getFile","_this8","fileIDs","_this9","isSomeFileRemote","some","install","_this$uppy$getState2","capabilities","individualCancellation","addUploader","uninstall","_this$uppy$getState3","removeUploader","getFileNameAndExtension","mimeTypes","fileExtension","extension","userAgent","navigator","m","exec","edgeVersion","_edgeVersion$split","split","major","minor","ProgressBar","replaceTargetContent","fixed","hideAfterFinish","totalProgress","isHidden","class","position","width","mount","unmount","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","getRandomValue","crypto","msCrypto","lim","abs","getRandomValues","Uint32Array","random","md","markdown","mp4","mp3","svg","jpg","png","gif","heic","heif","yaml","yml","csv","tsv","tab","avi","mks","mkv","mov","doc","docm","docx","dot","dotm","dotx","xla","xlam","xlc","xlf","xlm","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xlw","txt","text","conf","pdf","findDOMElement","debounce","fn","calling","latestArgs","update","getPluginState","plugins","_extends2","el","_updateUI","onMount","plugin","targetPlugin","callerPluginName","targetElement","isTargetDOMEl","getPlugin","Target","iteratePlugins","addTarget","toArray","FileInput","pretty","inputName","handleInputChange","handleClick","i18nArray","translateArray","addFiles","descriptors","input","click","hiddenInputStyle","height","opacity","overflow","zIndex","restrictions","accept","allowedFileTypes","join","onchange","multiple","maxNumberOfFiles","onclick","WildcardMatcher","separator","hasWild","parts","match","ii","testParts","matches","partsCount","matcher","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","getTimeStamp","justErrorsLogger","debug","warn","_console","concat","debugLogger","_len2","_key2","_console2","_len3","_key3","_console3","_len4","_key4","substr","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","Function","objectProto","objectToString","toString","nativeMax","max","nativeMin","now","Date","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","clearTimeout","flush","debounced","isInvoking","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","emitter","_fns","getListeners","idx","l","emitAll","fns","arg1","arg2","arg3","arg4","arg5","arg6","toEmit","once","one","off","keep","nodeType","Node","ELEMENT_NODE","tokenStorage","_getName","charAt","_RequestClient","pluginId","tokenKey","all","getAuthToken","_ref","onReceiveResponse","oldAuthenticated","authenticated","setAuthToken","storage","authUrl","hostname","fileUrl","directory","get","logout","_ref2","initPlugin","defaultOpts","serverUrl","serverPattern","companionAllowedHosts","pattern","_wrapNativeSuper","Class","_cache","Map","_isNativeFunction","has","set","_construct","_getPrototypeOf","enumerable","writable","configurable","_setPrototypeOf","Parent","_isNativeReflectConstruct","Reflect","construct","Constructor","instance","sham","Proxy","o","getPrototypeOf","AuthError","_Error","isAuthError","DESCRIPTORS","isForced","redefine","classof","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","NumberWrapper","_events","_emitter","resolutions","rejections","resolved","rejected","promise","successful","failed","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","pad","str","date","hours","getHours","minutes","getMinutes","getSeconds","_defineProperties","descriptor","_createClass","protoProps","staticProps","ee","prettierBytes","getFileType","generateFileID","supportsUploadProgress","RestrictionError","isRestriction","addBulkFilesFailed","0","1","exceedsSize2","inferiorSize","companionUnauthorizeHint","autoProceed","allowMultipleUploads","maxFileSize","minFileSize","minNumberOfFiles","onBeforeFileAdded","currentFile","onBeforeUpload","store","logger","setFileMeta","setFileState","info","hideInfo","addFile","pauseResume","_calculateProgress","updateOnlineStatus","resetProgress","pauseAll","resumeAll","retryAll","cancelAll","preProcessors","uploaders","postProcessors","currentUploads","allowNewUpload","uploadProgress","resumableUploads","_storeUnsubscribe","updateAll","_addListeners","setMeta","defaultProgress","percentage","uploadStarted","updatedFiles","updatedFile","addPreProcessor","removePreProcessor","addPostProcessor","removePostProcessor","updatedMeta","newMeta","getFiles","_this$getState","_checkMinNumberOfFiles","smart_count","_checkRestrictions","_this$opts$restrictio","isCorrectFileType","allowedFileTypesString","types","backwardsCompat","_showOrLogErrorAndThrow","_ref$showInformer","showInformer","_ref$file","_ref$throwErr","throwErr","details","logMessageWithDetails","_assertNewUploadAllowed","_this$getState2","_checkAndCreateFileStateObject","fileType","fileName","onBeforeFileAddedResult","isFinite","newFile","preview","_startIfAutoProceed","scheduledAutoProceed","_extends3","_this$getState3","fileDescriptors","newFiles","errors","subError","removeFiles","reason","_this$getState4","updatedUploads","removedFiles","fileIsNotRemoved","uploadFileID","uploadsToRemove","uploadID","newFileIDs","stateUpdate","_calculateTotalProgress","removedFileIDs","wasPaused","inProgressUpdatedFiles","_createUpload","forceAllowNewUpload","_runUpload","_this$getState5","reset","canHavePercentage","round","inProgress","preprocess","postprocess","sizedFiles","unsizedFiles","totalSize","reduce","acc","averageSize","uploadedSize","progressMax","currentProgress","_totalProgress","errorMsg","newError","online","onLine","wasOffline","getID","use","msg","existsPluginAlready","_msg","foundPlugin","pluginType","removePlugin","updatedState","duration","isComplexMessage","infoTimeoutID","newInfo","restore","_removeUpload","_extends4","_opts","_opts$forceAllowNewUp","_this$getState6","step","_getUpload","_this$getState7","addResultData","_extends5","currentUpload","uploadData","restoreStep","steps","lastStep","_extends6","_this9$getState","updatedUpload","_this9$getState2","_this9$getState3","_this10","onBeforeUploadResult","_this10$getState","currentlyUploadingFiles","prev","curr","waitingFileIDs","readyState","isDOMElement","element","querySelector","env","globalCount","mimeTypesLength","clientId","pluralize","_apply","prevLocale","interpolate","phrase","_String$prototype","dollarRegex","dollarBillsYall","interpolated","arg","replacement","insertReplacement","rx","newParts","chunk","raw","hasPluralForms","plural","encodeFilename","suffix","character","encodeCharacter","relativePath","lastModified","regex","socketProtocol","fullFileName","lastDot","lastIndexOf","fetch","findIndex","array","predicate","createCancelError","Infinity","activeRequests","queuedHandlers","_call","cancelActive","_done","_queueNext","_next","shift","handler","_queue","priority","_dequeue","queueOptions","wrapPromiseFunction","outerPromise","cancelError","innerPromise","fetchWithNetworkError","stripSlash","allowedHeaders","preflightDone","userHeaders","companionHeaders","serverHeaders","defaultHeaders","_getPostResponseFunc","companion","_getUrl","_json","errMsg","statusText","json","requestId","preflight","path","headerName","preflightAndHeaders","skipPostResponse","credentials","stringify","delete","Accept","UppySocket","_queued","isOpen","_handleMessage","WebSocket","onopen","action","payload","onclose","onmessage","fingerprint","blockSize","discreteValues","randomBlock","safeCounter","letter","timestamp","getTime","counter","print","slug","isCuid","stringToCheck","startsWith","isSlug","stringLength","timeoutHandler","_timeout","_onTimedOut","_isDone","_aliveTimer","wildcard","reMimePartSplit","object"],"mappings":"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","file":"js/events~news~pages~persons.7494ef92.js","sourcesContent":["// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError('Expected a number, got ' + typeof num)\n  }\n\n  var neg = num < 0\n  var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return (neg ? '-' : '') + num + ' B'\n  }\n\n  var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  var unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit\n  } else {\n    return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Default store that keeps state in a simple object.\n */\nvar DefaultStore = /*#__PURE__*/function () {\n  function DefaultStore() {\n    this.state = {};\n    this.callbacks = [];\n  }\n\n  var _proto = DefaultStore.prototype;\n\n  _proto.getState = function getState() {\n    return this.state;\n  };\n\n  _proto.setState = function setState(patch) {\n    var prevState = _extends({}, this.state);\n\n    var nextState = _extends({}, this.state, patch);\n\n    this.state = nextState;\n\n    this._publish(prevState, nextState, patch);\n  };\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    this.callbacks.push(listener);\n    return function () {\n      // Remove the listener.\n      _this.callbacks.splice(_this.callbacks.indexOf(listener), 1);\n    };\n  };\n\n  _proto._publish = function _publish() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.callbacks.forEach(function (listener) {\n      listener.apply(void 0, args);\n    });\n  };\n\n  return DefaultStore;\n}();\n\nDefaultStore.VERSION = \"1.2.3\";\n\nmodule.exports = function defaultStore() {\n  return new DefaultStore();\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=style&index=0&id=0ca81046&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=style&index=0&id=0ca81046&scoped=true&lang=css&\"","var de_DE = {};\nde_DE.strings = {\n  addMoreFiles: 'Dateien hinzufügen',\n  addingMoreFiles: 'Dateien hinzufügen',\n  allowAccessDescription: 'Um Bilder oder Videos mit Ihrer Kamera aufzunehmen, erlauben Sie dieser Website bitte Zugriff auf Ihre Kamera.',\n  allowAccessTitle: 'Bitte erlauben Sie Zugriff auf Ihre Kamera',\n  authenticateWith: 'Mit %{pluginName} verbinden',\n  authenticateWithTitle: 'Bitte authentifizieren Sie sich mit %{pluginName}, um Dateien auszuwählen',\n  back: 'Zurück',\n  addMore: 'Dateien hinzufügen',\n  browse: 'Suche',\n  browseFiles: 'Suche',\n  cancel: 'Abbrechen',\n  cancelUpload: 'Upload abbrechen',\n  chooseFiles: 'Dateien auswählen',\n  closeModal: 'Modal schließen',\n  companionError: 'Verbindung zu Companion fehlgeschlagen',\n  complete: 'Fertig',\n  connectedToInternet: 'Verbunden mit dem Internet',\n  copyLink: 'Link kopieren',\n  copyLinkToClipboardFallback: 'Untenstehenden URL kopieren',\n  copyLinkToClipboardSuccess: 'Link in die Zwischenablage kopiert',\n  creatingAssembly: 'Upload vorbereiten...',\n  creatingAssemblyFailed: 'Transloadit: Konnte Assembly nicht erstellen',\n  dashboardTitle: 'Datei Uploader',\n  dashboardWindowTitle: 'Datei Uploader Fenster (Esc drücken zum Schließen)',\n  dataUploadedOfTotal: '%{complete} von %{total}',\n  done: 'Abgeschlossen',\n  dropHereOr: 'Dateien können über Drag/Drop oder per %{browse} hinzugefügt werden',\n  dropHint: 'Dateien können über Drag/Drop hinzugefügt werden',\n  dropPasteBoth: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteFiles: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteFolders: 'Dateien können über Drag/Drop, Einfügen oder per %{browse} hinzugefügt werden',\n  dropPasteImportBoth: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  dropPasteImportFiles: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  dropPasteImportFolders: 'Dateien können über Drag/Drop, Einfügen, per %{browse} oder von folgenden Services hinzugefügt werden',\n  editFile: 'Datei bearbeiten',\n  editing: '%{file} bearbeiten',\n  emptyFolderAdded: 'Keine Dateien konnten hinzugefügt werden, da der Ordner leer war',\n  encoding: 'Enkodieren...',\n  enterCorrectUrl: 'Falsche URL: Bitte stellen Sie sicher, dass Sie einen direkten Link zu einer Datei eingeben',\n  enterUrlToImport: 'URL zum Importieren einer Datei eingeben',\n  exceedsSize: 'Diese Datei ist größer als die maximal erlaubte Dateigröße',\n  failedToFetch: 'Companion konnte diese URL nicht verarbeiten - stellen Sie bitte sicher, dass sie korrekt ist',\n  failedToUpload: 'Fehler beim Upload von Datei %{file}',\n  fileSource: 'Dateiquelle: %{name}',\n  filesUploadedOfTotal: {\n    '0': '%{complete} von %{smart_count} Datei hochgeladen',\n    '1': '%{complete} von %{smart_count} Dateien hochgeladen',\n    '2': '%{complete} von %{smart_count} Dateien hochgeladen'\n  },\n  filter: 'Filter',\n  finishEditingFile: 'Dateibearbeitung beenden',\n  folderAdded: {\n    '0': '%{smart_count} Datei von %{folder} hinzugefügt',\n    '1': '%{smart_count} Dateien von %{folder} hinzugefügt',\n    '2': '%{smart_count} Dateien von %{folder} hinzugefügt'\n  },\n  import: 'Import',\n  importFrom: 'Importieren von %{name}',\n  loading: 'Laden...',\n  logOut: 'Ausloggen',\n  myDevice: 'Mein Gerät',\n  noDuplicates: 'Datei \\'%{fileName}\\' existiert bereits und kann nicht erneut hinzugefügt werden',\n  noFilesFound: 'Sie haben keine Dateien oder Ordner hier',\n  noInternetConnection: 'Keine Internetverbindung',\n  noNewAlreadyUploading: 'Während der Upload läuft, können keine weiteren Dateien hinzugefügt werden',\n  pause: 'Pausieren',\n  pauseUpload: 'Upload pausieren',\n  paused: 'Pausiert',\n  poweredBy: 'Angetrieben von',\n  processingXFiles: {\n    '0': '%{smart_count} Datei verarbeiten',\n    '1': '%{smart_count} Dateien verarbeiten',\n    '2': '%{smart_count} Dateien verarbeiten'\n  },\n  recordingLength: 'Aufnahmedauer %{recording_length}',\n  removeFile: 'Datei entfernen',\n  resetFilter: 'Filter zurücksetzen',\n  resume: 'Fortsetzen',\n  resumeUpload: 'Upload fortsetzen',\n  retry: 'Erneut versuchen',\n  retryUpload: 'Upload erneut versuchen',\n  saveChanges: 'Änderungen speichern',\n  selectX: {\n    '0': 'Wählen Sie %{smart_count}',\n    '1': 'Wählen Sie %{smart_count}',\n    '2': 'Wählen Sie %{smart_count}'\n  },\n  smile: 'Bitte lächeln!',\n  startRecording: 'Videoaufnahme starten',\n  stopRecording: 'Videoaufnahme beenden',\n  takePicture: 'Ein Foto machen',\n  timedOut: 'Upload für %{seconds} Sekunden stehen geblieben, breche ab.',\n  upload: 'Upload',\n  uploadComplete: 'Upload beendet',\n  uploadFailed: 'Upload fehlgeschlagen',\n  uploadPaused: 'Upload pausiert',\n  uploadXFiles: {\n    '0': '%{smart_count} Datei hochladen',\n    '1': '%{smart_count} Dateien hochladen',\n    '2': '%{smart_count} Dateien hochladen'\n  },\n  uploadXNewFiles: {\n    '0': '+%{smart_count} Datei hochladen',\n    '1': '+%{smart_count} Dateien hochladen',\n    '2': '+%{smart_count} Dateien hochladen'\n  },\n  uploading: 'Uploading',\n  uploadingXFiles: {\n    '0': '%{smart_count} Datei wird hochgeladen',\n    '1': '%{smart_count} Dateien werden hochgeladen',\n    '2': '%{smart_count} Dateien werden hochgeladen'\n  },\n  xFilesSelected: {\n    '0': '%{smart_count} Datei ausgewählt',\n    '1': '%{smart_count} Dateien ausgewählt',\n    '2': '%{smart_count} Dateien ausgewählt'\n  },\n  xMoreFilesAdded: {\n    '0': '%{smart_count} weitere Datei hinzugefügt',\n    '1': '%{smart_count} weitere Dateien hinzugefügt',\n    '2': '%{smart_count} weitere Dateien hinzugefügt'\n  },\n  xTimeLeft: '%{time} verbleibend',\n  youCanOnlyUploadFileTypes: 'Sie können nur folgende Dateitypen hochladen: %{types}',\n  youCanOnlyUploadX: {\n    '0': 'Sie können nur %{smart_count} Datei hochladen',\n    '1': 'Sie können nur %{smart_count} Dateien hochladen',\n    '2': 'Sie können nur %{smart_count} Dateien hochladen'\n  },\n  youHaveToAtLeastSelectX: {\n    '0': 'Sie müssen mindestens %{smart_count} Datei auswählen',\n    '1': 'Sie müssen mindestens %{smart_count} Dateien auswählen',\n    '2': 'Sie müssen mindestens %{smart_count} Dateien auswählen'\n  },\n  selectAllFilesFromFolderNamed: 'Wählen Sie alle Dateien aus dem Ordner %{name}',\n  unselectAllFilesFromFolderNamed: 'Heben Sie die Auswahl aller Dateien aus dem Ordner auf %{name}',\n  selectFileNamed: 'Datei aussuchen %{name}',\n  unselectFileNamed: 'Datei abwählen %{name}',\n  openFolderNamed: 'Ordner öffnen %{name}'\n};\n\nde_DE.pluralize = function (n) {\n  if (n === 1) {\n    return 0;\n  }\n\n  return 1;\n};\n\nif (typeof window !== 'undefined' && typeof window.Uppy !== 'undefined') {\n  window.Uppy.locales.de_DE = de_DE;\n}\n\nmodule.exports = de_DE;","'use strict';\n/**\n * This module serves as an Async wrapper for LocalStorage\n */\n\nmodule.exports.setItem = function (key, value) {\n  return new Promise(function (resolve) {\n    localStorage.setItem(key, value);\n    resolve();\n  });\n};\n\nmodule.exports.getItem = function (key) {\n  return Promise.resolve(localStorage.getItem(key));\n};\n\nmodule.exports.removeItem = function (key) {\n  return new Promise(function (resolve) {\n    localStorage.removeItem(key);\n    resolve();\n  });\n};","var throttle = require('lodash.throttle');\n\nfunction _emitSocketProgress(uploader, progressData, file) {\n  var progress = progressData.progress,\n      bytesUploaded = progressData.bytesUploaded,\n      bytesTotal = progressData.bytesTotal;\n\n  if (progress) {\n    uploader.uppy.log(\"Upload progress: \" + progress);\n    uploader.uppy.emit('upload-progress', file, {\n      uploader: uploader,\n      bytesUploaded: bytesUploaded,\n      bytesTotal: bytesTotal\n    });\n  }\n}\n\nmodule.exports = throttle(_emitSocketProgress, 300, {\n  leading: true,\n  trailing: true\n});","'use strict';\n/**\n * Manages communications with Companion\n */\n\nvar RequestClient = require('./RequestClient');\n\nvar Provider = require('./Provider');\n\nvar Socket = require('./Socket');\n\nmodule.exports = {\n  RequestClient: RequestClient,\n  Provider: Provider,\n  Socket: Socket\n};","/**\n * Converts list into array\n */\nmodule.exports = function toArray(list) {\n  return Array.prototype.slice.call(list || [], 0);\n};","/** Virtual DOM Node */\nfunction VNode() {}\n\n/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nvar options = {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n  *\t@name syncComponentUpdates\n  *\t@type Boolean\n  *\t@default true\n  */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n  *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n  */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\n/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virtual DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\n// DOM properties that should NOT have \"px\" added when numeric\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n/** Managed queue of dirty components to be re-rendered */\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hydrating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nfunction isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined;\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName;\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nfunction isNamedNode(node, nodeName) {\n  return node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nfunction getNodeProps(vnode) {\n  var props = extend({}, vnode.attributes);\n  props.children = vnode.children;\n\n  var defaultProps = vnode.nodeName.defaultProps;\n  if (defaultProps !== undefined) {\n    for (var i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i];\n      }\n    }\n  }\n\n  return props;\n}\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {\n\t\t// ignore\n\t} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value == null ? '' : value);\n\t\tif (value == null || value === false) node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) {}\n}\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nvar mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nvar diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nvar isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nvar hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\t// If the VNode represents a Component, perform a component diff:\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t} // if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t} else {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nvar components = {};\n\n/** Reclaim a component for later re-use by the recycler. */\nfunction collectComponent(component) {\n\tvar name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nfunction createComponent(Ctor, props, context) {\n\tvar list = components[Ctor.name],\n\t    inst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\tif (list) {\n\t\tfor (var i = list.length; i--;) {\n\t\t\tif (list[i].constructor === Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nfunction setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif (component.__ref = props.ref) delete props.ref;\n\tif (component.__key = props.key) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t} else if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts !== 0) {\n\t\tif (opts === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nfunction renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\t\t\t// set up high order component link\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks != null) {\n\t\twhile (component._renderCallbacks.length) {\n\t\t\tcomponent._renderCallbacks.pop().call(component);\n\t\t}\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.context = context;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.props = props;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n  *\t@param {object} nextProps\n  *\t@param {object} nextState\n  *\t@param {object} nextContext\n  *\t@returns {Boolean} should the component re-render\n  *\t@name shouldComponentUpdate\n  *\t@function\n  */\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n  *\t@param {object} state\t\tA hash of state properties to update with new values\n  *\t@param {function} callback\tA function to be called once component state is updated\n  */\n\tsetState: function setState(state, callback) {\n\t\tvar s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state === 'function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n  *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n  *\t@private\n  */\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n  *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n  *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n  *\t@param {object} state\t\tThe component's current state\n  *\t@param {object} context\t\tContext object (if a parent component has provided context)\n  *\t@returns VNode\n  */\n\trender: function render() {}\n});\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.esm.js.map\n","var _class, _temp;\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar cuid = require('cuid');\n\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar _require2 = require('@uppy/companion-client'),\n    Provider = _require2.Provider,\n    RequestClient = _require2.RequestClient,\n    Socket = _require2.Socket;\n\nvar emitSocketProgress = require('@uppy/utils/lib/emitSocketProgress');\n\nvar getSocketHost = require('@uppy/utils/lib/getSocketHost');\n\nvar settle = require('@uppy/utils/lib/settle');\n\nvar EventTracker = require('@uppy/utils/lib/EventTracker');\n\nvar ProgressTimeout = require('@uppy/utils/lib/ProgressTimeout');\n\nvar RateLimitedQueue = require('@uppy/utils/lib/RateLimitedQueue');\n\nvar NetworkError = require('@uppy/utils/lib/NetworkError');\n\nvar isNetworkError = require('@uppy/utils/lib/isNetworkError');\n\nfunction buildResponseError(xhr, error) {\n  // No error message\n  if (!error) error = new Error('Upload error'); // Got an error message string\n\n  if (typeof error === 'string') error = new Error(error); // Got something else\n\n  if (!(error instanceof Error)) {\n    error = _extends(new Error('Upload error'), {\n      data: error\n    });\n  }\n\n  if (isNetworkError(xhr)) {\n    error = new NetworkError(error, xhr);\n    return error;\n  }\n\n  error.request = xhr;\n  return error;\n}\n/**\n * Set `data.type` in the blob to `file.meta.type`,\n * because we might have detected a more accurate file type in Uppy\n * https://stackoverflow.com/a/50875615\n *\n * @param {object} file File object with `data`, `size` and `meta` properties\n * @returns {object} blob updated with the new `type` set from `file.meta.type`\n */\n\n\nfunction setTypeInBlob(file) {\n  var dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n  return dataWithUpdatedType;\n}\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(XHRUpload, _Plugin);\n\n  function XHRUpload(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.type = 'uploader';\n    _this.id = _this.opts.id || 'XHRUpload';\n    _this.title = 'XHRUpload';\n    _this.defaultLocale = {\n      strings: {\n        timedOut: 'Upload stalled for %{seconds} seconds, aborting.'\n      }\n    }; // Default options\n\n    var defaultOptions = {\n      formData: true,\n      fieldName: 'files[]',\n      method: 'post',\n      metaFields: null,\n      responseUrlFieldName: 'url',\n      bundle: false,\n      headers: {},\n      timeout: 30 * 1000,\n      limit: 0,\n      withCredentials: false,\n      responseType: '',\n\n      /**\n       * @typedef respObj\n       * @property {string} responseText\n       * @property {number} status\n       * @property {string} statusText\n       * @property {object.<string, string>} headers\n       *\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      getResponseData: function getResponseData(responseText, response) {\n        var parsedResponse = {};\n\n        try {\n          parsedResponse = JSON.parse(responseText);\n        } catch (err) {\n          console.log(err);\n        }\n\n        return parsedResponse;\n      },\n\n      /**\n       *\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      getResponseError: function getResponseError(responseText, response) {\n        var error = new Error('Upload error');\n\n        if (isNetworkError(response)) {\n          error = new NetworkError(error, response);\n        }\n\n        return error;\n      },\n\n      /**\n       * Check if the response from the upload endpoint indicates that the upload was successful.\n       *\n       * @param {number} status the response status code\n       * @param {string} responseText the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      validateStatus: function validateStatus(status, responseText, response) {\n        return status >= 200 && status < 300;\n      }\n    };\n    _this.opts = _extends({}, defaultOptions, opts);\n\n    _this.i18nInit();\n\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_this)); // Simultaneous upload limiting is shared across all uploads with this plugin.\n    // __queue is for internal Uppy use only!\n\n    if (_this.opts.__queue instanceof RateLimitedQueue) {\n      _this.requests = _this.opts.__queue;\n    } else {\n      _this.requests = new RateLimitedQueue(_this.opts.limit);\n    }\n\n    if (_this.opts.bundle && !_this.opts.formData) {\n      throw new Error('`opts.formData` must be true when `opts.bundle` is enabled.');\n    }\n\n    _this.uploaderEvents = Object.create(null);\n    return _this;\n  }\n\n  var _proto = XHRUpload.prototype;\n\n  _proto.setOptions = function setOptions(newOpts) {\n    _Plugin.prototype.setOptions.call(this, newOpts);\n\n    this.i18nInit();\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  };\n\n  _proto.getOptions = function getOptions(file) {\n    var overrides = this.uppy.getState().xhrUpload;\n\n    var opts = _extends({}, this.opts, overrides || {}, file.xhrUpload || {}, {\n      headers: {}\n    });\n\n    _extends(opts.headers, this.opts.headers);\n\n    if (overrides) {\n      _extends(opts.headers, overrides.headers);\n    }\n\n    if (file.xhrUpload) {\n      _extends(opts.headers, file.xhrUpload.headers);\n    }\n\n    return opts;\n  };\n\n  _proto.addMetadata = function addMetadata(formData, meta, opts) {\n    var metaFields = Array.isArray(opts.metaFields) ? opts.metaFields // Send along all fields by default.\n    : Object.keys(meta);\n    metaFields.forEach(function (item) {\n      formData.append(item, meta[item]);\n    });\n  };\n\n  _proto.createFormDataUpload = function createFormDataUpload(file, opts) {\n    var formPost = new FormData();\n    this.addMetadata(formPost, file.meta, opts);\n    var dataWithUpdatedType = setTypeInBlob(file);\n\n    if (file.name) {\n      formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n    } else {\n      formPost.append(opts.fieldName, dataWithUpdatedType);\n    }\n\n    return formPost;\n  };\n\n  _proto.createBundledUpload = function createBundledUpload(files, opts) {\n    var _this2 = this;\n\n    var formPost = new FormData();\n\n    var _this$uppy$getState = this.uppy.getState(),\n        meta = _this$uppy$getState.meta;\n\n    this.addMetadata(formPost, meta, opts);\n    files.forEach(function (file) {\n      var opts = _this2.getOptions(file);\n\n      var dataWithUpdatedType = setTypeInBlob(file);\n\n      if (file.name) {\n        formPost.append(opts.fieldName, dataWithUpdatedType, file.name);\n      } else {\n        formPost.append(opts.fieldName, dataWithUpdatedType);\n      }\n    });\n    return formPost;\n  };\n\n  _proto.createBareUpload = function createBareUpload(file, opts) {\n    return file.data;\n  };\n\n  _proto.upload = function upload(file, current, total) {\n    var _this3 = this;\n\n    var opts = this.getOptions(file);\n    this.uppy.log(\"uploading \" + current + \" of \" + total);\n    return new Promise(function (resolve, reject) {\n      _this3.uppy.emit('upload-started', file);\n\n      var data = opts.formData ? _this3.createFormDataUpload(file, opts) : _this3.createBareUpload(file, opts);\n      var xhr = new XMLHttpRequest();\n      _this3.uploaderEvents[file.id] = new EventTracker(_this3.uppy);\n      var timer = new ProgressTimeout(opts.timeout, function () {\n        xhr.abort();\n        queuedRequest.done();\n        var error = new Error(_this3.i18n('timedOut', {\n          seconds: Math.ceil(opts.timeout / 1000)\n        }));\n\n        _this3.uppy.emit('upload-error', file, error);\n\n        reject(error);\n      });\n      var id = cuid();\n      xhr.upload.addEventListener('loadstart', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" started\");\n      });\n      xhr.upload.addEventListener('progress', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" progress: \" + ev.loaded + \" / \" + ev.total); // Begin checking for timeouts when progress starts, instead of loading,\n        // to avoid timing out requests on browser concurrency queue\n\n\n        timer.progress();\n\n        if (ev.lengthComputable) {\n          _this3.uppy.emit('upload-progress', file, {\n            uploader: _this3,\n            bytesUploaded: ev.loaded,\n            bytesTotal: ev.total\n          });\n        }\n      });\n      xhr.addEventListener('load', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" finished\");\n\n        timer.done();\n        queuedRequest.done();\n\n        if (_this3.uploaderEvents[file.id]) {\n          _this3.uploaderEvents[file.id].remove();\n\n          _this3.uploaderEvents[file.id] = null;\n        }\n\n        if (opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n          var body = opts.getResponseData(xhr.responseText, xhr);\n          var uploadURL = body[opts.responseUrlFieldName];\n          var uploadResp = {\n            status: ev.target.status,\n            body: body,\n            uploadURL: uploadURL\n          };\n\n          _this3.uppy.emit('upload-success', file, uploadResp);\n\n          if (uploadURL) {\n            _this3.uppy.log(\"Download \" + file.name + \" from \" + uploadURL);\n          }\n\n          return resolve(file);\n        } else {\n          var _body = opts.getResponseData(xhr.responseText, xhr);\n\n          var error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n          var response = {\n            status: ev.target.status,\n            body: _body\n          };\n\n          _this3.uppy.emit('upload-error', file, error, response);\n\n          return reject(error);\n        }\n      });\n      xhr.addEventListener('error', function (ev) {\n        _this3.uppy.log(\"[XHRUpload] \" + id + \" errored\");\n\n        timer.done();\n        queuedRequest.done();\n\n        if (_this3.uploaderEvents[file.id]) {\n          _this3.uploaderEvents[file.id].remove();\n\n          _this3.uploaderEvents[file.id] = null;\n        }\n\n        var error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n\n        _this3.uppy.emit('upload-error', file, error);\n\n        return reject(error);\n      });\n      xhr.open(opts.method.toUpperCase(), opts.endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = opts.withCredentials;\n\n      if (opts.responseType !== '') {\n        xhr.responseType = opts.responseType;\n      }\n\n      Object.keys(opts.headers).forEach(function (header) {\n        xhr.setRequestHeader(header, opts.headers[header]);\n      });\n\n      var queuedRequest = _this3.requests.run(function () {\n        xhr.send(data);\n        return function () {\n          timer.done();\n          xhr.abort();\n        };\n      });\n\n      _this3.onFileRemove(file.id, function () {\n        queuedRequest.abort();\n        reject(new Error('File removed'));\n      });\n\n      _this3.onCancelAll(file.id, function () {\n        queuedRequest.abort();\n        reject(new Error('Upload cancelled'));\n      });\n    });\n  };\n\n  _proto.uploadRemote = function uploadRemote(file, current, total) {\n    var _this4 = this;\n\n    var opts = this.getOptions(file);\n    return new Promise(function (resolve, reject) {\n      _this4.uppy.emit('upload-started', file);\n\n      var fields = {};\n      var metaFields = Array.isArray(opts.metaFields) ? opts.metaFields // Send along all fields by default.\n      : Object.keys(file.meta);\n      metaFields.forEach(function (name) {\n        fields[name] = file.meta[name];\n      });\n      var Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n      var client = new Client(_this4.uppy, file.remote.providerOptions);\n      client.post(file.remote.url, _extends({}, file.remote.body, {\n        endpoint: opts.endpoint,\n        size: file.data.size,\n        fieldname: opts.fieldName,\n        metadata: fields,\n        httpMethod: opts.method,\n        useFormData: opts.formData,\n        headers: opts.headers\n      })).then(function (res) {\n        var token = res.token;\n        var host = getSocketHost(file.remote.companionUrl);\n        var socket = new Socket({\n          target: host + \"/api/\" + token,\n          autoOpen: false\n        });\n        _this4.uploaderEvents[file.id] = new EventTracker(_this4.uppy);\n\n        _this4.onFileRemove(file.id, function () {\n          socket.send('pause', {});\n          queuedRequest.abort();\n          resolve(\"upload \" + file.id + \" was removed\");\n        });\n\n        _this4.onCancelAll(file.id, function () {\n          socket.send('pause', {});\n          queuedRequest.abort();\n          resolve(\"upload \" + file.id + \" was canceled\");\n        });\n\n        _this4.onRetry(file.id, function () {\n          socket.send('pause', {});\n          socket.send('resume', {});\n        });\n\n        _this4.onRetryAll(file.id, function () {\n          socket.send('pause', {});\n          socket.send('resume', {});\n        });\n\n        socket.on('progress', function (progressData) {\n          return emitSocketProgress(_this4, progressData, file);\n        });\n        socket.on('success', function (data) {\n          var body = opts.getResponseData(data.response.responseText, data.response);\n          var uploadURL = body[opts.responseUrlFieldName];\n          var uploadResp = {\n            status: data.response.status,\n            body: body,\n            uploadURL: uploadURL\n          };\n\n          _this4.uppy.emit('upload-success', file, uploadResp);\n\n          queuedRequest.done();\n\n          if (_this4.uploaderEvents[file.id]) {\n            _this4.uploaderEvents[file.id].remove();\n\n            _this4.uploaderEvents[file.id] = null;\n          }\n\n          return resolve();\n        });\n        socket.on('error', function (errData) {\n          var resp = errData.response;\n          var error = resp ? opts.getResponseError(resp.responseText, resp) : _extends(new Error(errData.error.message), {\n            cause: errData.error\n          });\n\n          _this4.uppy.emit('upload-error', file, error);\n\n          queuedRequest.done();\n\n          if (_this4.uploaderEvents[file.id]) {\n            _this4.uploaderEvents[file.id].remove();\n\n            _this4.uploaderEvents[file.id] = null;\n          }\n\n          reject(error);\n        });\n\n        var queuedRequest = _this4.requests.run(function () {\n          socket.open();\n\n          if (file.isPaused) {\n            socket.send('pause', {});\n          }\n\n          return function () {\n            return socket.close();\n          };\n        });\n      }).catch(function (err) {\n        _this4.uppy.emit('upload-error', file, err);\n\n        reject(err);\n      });\n    });\n  };\n\n  _proto.uploadBundle = function uploadBundle(files) {\n    var _this5 = this;\n\n    return new Promise(function (resolve, reject) {\n      var endpoint = _this5.opts.endpoint;\n      var method = _this5.opts.method;\n\n      var optsFromState = _this5.uppy.getState().xhrUpload;\n\n      var formData = _this5.createBundledUpload(files, _extends({}, _this5.opts, optsFromState || {}));\n\n      var xhr = new XMLHttpRequest();\n      var timer = new ProgressTimeout(_this5.opts.timeout, function () {\n        xhr.abort();\n        var error = new Error(_this5.i18n('timedOut', {\n          seconds: Math.ceil(_this5.opts.timeout / 1000)\n        }));\n        emitError(error);\n        reject(error);\n      });\n\n      var emitError = function emitError(error) {\n        files.forEach(function (file) {\n          _this5.uppy.emit('upload-error', file, error);\n        });\n      };\n\n      xhr.upload.addEventListener('loadstart', function (ev) {\n        _this5.uppy.log('[XHRUpload] started uploading bundle');\n\n        timer.progress();\n      });\n      xhr.upload.addEventListener('progress', function (ev) {\n        timer.progress();\n        if (!ev.lengthComputable) return;\n        files.forEach(function (file) {\n          _this5.uppy.emit('upload-progress', file, {\n            uploader: _this5,\n            bytesUploaded: ev.loaded / ev.total * file.size,\n            bytesTotal: file.size\n          });\n        });\n      });\n      xhr.addEventListener('load', function (ev) {\n        timer.done();\n\n        if (_this5.opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n          var body = _this5.opts.getResponseData(xhr.responseText, xhr);\n\n          var uploadResp = {\n            status: ev.target.status,\n            body: body\n          };\n          files.forEach(function (file) {\n            _this5.uppy.emit('upload-success', file, uploadResp);\n          });\n          return resolve();\n        }\n\n        var error = _this5.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        error.request = xhr;\n        emitError(error);\n        return reject(error);\n      });\n      xhr.addEventListener('error', function (ev) {\n        timer.done();\n        var error = _this5.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        emitError(error);\n        return reject(error);\n      });\n\n      _this5.uppy.on('cancel-all', function () {\n        timer.done();\n        xhr.abort();\n      });\n\n      xhr.open(method.toUpperCase(), endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = _this5.opts.withCredentials;\n\n      if (_this5.opts.responseType !== '') {\n        xhr.responseType = _this5.opts.responseType;\n      }\n\n      Object.keys(_this5.opts.headers).forEach(function (header) {\n        xhr.setRequestHeader(header, _this5.opts.headers[header]);\n      });\n      xhr.send(formData);\n      files.forEach(function (file) {\n        _this5.uppy.emit('upload-started', file);\n      });\n    });\n  };\n\n  _proto.uploadFiles = function uploadFiles(files) {\n    var _this6 = this;\n\n    var promises = files.map(function (file, i) {\n      var current = parseInt(i, 10) + 1;\n      var total = files.length;\n\n      if (file.error) {\n        return Promise.reject(new Error(file.error));\n      } else if (file.isRemote) {\n        return _this6.uploadRemote(file, current, total);\n      } else {\n        return _this6.upload(file, current, total);\n      }\n    });\n    return settle(promises);\n  };\n\n  _proto.onFileRemove = function onFileRemove(fileID, cb) {\n    this.uploaderEvents[fileID].on('file-removed', function (file) {\n      if (fileID === file.id) cb(file.id);\n    });\n  };\n\n  _proto.onRetry = function onRetry(fileID, cb) {\n    this.uploaderEvents[fileID].on('upload-retry', function (targetFileID) {\n      if (fileID === targetFileID) {\n        cb();\n      }\n    });\n  };\n\n  _proto.onRetryAll = function onRetryAll(fileID, cb) {\n    var _this7 = this;\n\n    this.uploaderEvents[fileID].on('retry-all', function (filesToRetry) {\n      if (!_this7.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  _proto.onCancelAll = function onCancelAll(fileID, cb) {\n    var _this8 = this;\n\n    this.uploaderEvents[fileID].on('cancel-all', function () {\n      if (!_this8.uppy.getFile(fileID)) return;\n      cb();\n    });\n  };\n\n  _proto.handleUpload = function handleUpload(fileIDs) {\n    var _this9 = this;\n\n    if (fileIDs.length === 0) {\n      this.uppy.log('[XHRUpload] No files to upload!');\n      return Promise.resolve();\n    } // no limit configured by the user, and no RateLimitedQueue passed in by a \"parent\" plugin (basically just AwsS3) using the top secret `__queue` option\n\n\n    if (this.opts.limit === 0 && !this.opts.__queue) {\n      this.uppy.log('[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0', 'warning');\n    }\n\n    this.uppy.log('[XHRUpload] Uploading...');\n    var files = fileIDs.map(function (fileID) {\n      return _this9.uppy.getFile(fileID);\n    });\n\n    if (this.opts.bundle) {\n      // if bundle: true, we don’t support remote uploads\n      var isSomeFileRemote = files.some(function (file) {\n        return file.isRemote;\n      });\n\n      if (isSomeFileRemote) {\n        throw new Error('Can’t upload remote files when bundle: true option is set');\n      }\n\n      return this.uploadBundle(files);\n    }\n\n    return this.uploadFiles(files).then(function () {\n      return null;\n    });\n  };\n\n  _proto.install = function install() {\n    if (this.opts.bundle) {\n      var _this$uppy$getState2 = this.uppy.getState(),\n          capabilities = _this$uppy$getState2.capabilities;\n\n      this.uppy.setState({\n        capabilities: _extends({}, capabilities, {\n          individualCancellation: false\n        })\n      });\n    }\n\n    this.uppy.addUploader(this.handleUpload);\n  };\n\n  _proto.uninstall = function uninstall() {\n    if (this.opts.bundle) {\n      var _this$uppy$getState3 = this.uppy.getState(),\n          capabilities = _this$uppy$getState3.capabilities;\n\n      this.uppy.setState({\n        capabilities: _extends({}, capabilities, {\n          individualCancellation: true\n        })\n      });\n    }\n\n    this.uppy.removeUploader(this.handleUpload);\n  };\n\n  return XHRUpload;\n}(Plugin), _class.VERSION = \"1.6.3\", _temp);","var getFileNameAndExtension = require('./getFileNameAndExtension');\n\nvar mimeTypes = require('./mimeTypes');\n\nmodule.exports = function getFileType(file) {\n  var fileExtension = file.name ? getFileNameAndExtension(file.name).extension : null;\n  fileExtension = fileExtension ? fileExtension.toLowerCase() : null;\n\n  if (file.type) {\n    // if mime type is set in the file object already, use that\n    return file.type;\n  } else if (fileExtension && mimeTypes[fileExtension]) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } else {\n    // if all fails, fall back to a generic byte stream type\n    return 'application/octet-stream';\n  }\n};","// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nmodule.exports = function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null) {\n    userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : null;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  var m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  var edgeVersion = m[1];\n\n  var _edgeVersion$split = edgeVersion.split('.'),\n      major = _edgeVersion$split[0],\n      minor = _edgeVersion$split[1];\n\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n};","var _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar _require2 = require('preact'),\n    h = _require2.h;\n/**\n * Progress bar\n *\n */\n\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(ProgressBar, _Plugin);\n\n  function ProgressBar(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.id = _this.opts.id || 'ProgressBar';\n    _this.title = 'Progress Bar';\n    _this.type = 'progressindicator'; // set default options\n\n    var defaultOptions = {\n      target: 'body',\n      replaceTargetContent: false,\n      fixed: false,\n      hideAfterFinish: true\n    }; // merge default options with the ones set by user\n\n    _this.opts = _extends({}, defaultOptions, opts);\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ProgressBar.prototype;\n\n  _proto.render = function render(state) {\n    var progress = state.totalProgress || 0; // before starting and after finish should be hidden if specified in the options\n\n    var isHidden = (progress === 0 || progress === 100) && this.opts.hideAfterFinish;\n    return h(\"div\", {\n      class: \"uppy uppy-ProgressBar\",\n      style: {\n        position: this.opts.fixed ? 'fixed' : 'initial'\n      },\n      \"aria-hidden\": isHidden\n    }, h(\"div\", {\n      class: \"uppy-ProgressBar-inner\",\n      style: {\n        width: progress + '%'\n      }\n    }), h(\"div\", {\n      class: \"uppy-ProgressBar-percentage\"\n    }, progress));\n  };\n\n  _proto.install = function install() {\n    var target = this.opts.target;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  };\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return ProgressBar;\n}(Plugin), _class.VERSION = \"1.3.19\", _temp);","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","\nvar getRandomValue;\n\nvar crypto = typeof window !== 'undefined' &&\n  (window.crypto || window.msCrypto) ||\n  typeof self !== 'undefined' &&\n  self.crypto;\n\nif (crypto) {\n    var lim = Math.pow(2, 32) - 1;\n    getRandomValue = function () {\n        return Math.abs(crypto.getRandomValues(new Uint32Array(1))[0] / lim);\n    };\n} else {\n    getRandomValue = Math.random;\n}\n\nmodule.exports = getRandomValue;\n","// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nmodule.exports = {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf'\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar preact = require('preact');\n\nvar findDOMElement = require('@uppy/utils/lib/findDOMElement');\n/**\n * Defer a frequent call to the microtask queue.\n */\n\n\nfunction debounce(fn) {\n  var calling = null;\n  var latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(function () {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn.apply(void 0, latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * Boilerplate that all Plugins share - and should not be used\n * directly. It also shows which methods final plugins should implement/override,\n * this deciding on structure.\n *\n * @param {object} main Uppy core object\n * @param {object} object with plugin options\n * @returns {Array|string} files or success/fail message\n */\n\n\nmodule.exports = /*#__PURE__*/function () {\n  function Plugin(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts || {};\n    this.update = this.update.bind(this);\n    this.mount = this.mount.bind(this);\n    this.install = this.install.bind(this);\n    this.uninstall = this.uninstall.bind(this);\n  }\n\n  var _proto = Plugin.prototype;\n\n  _proto.getPluginState = function getPluginState() {\n    var _this$uppy$getState = this.uppy.getState(),\n        plugins = _this$uppy$getState.plugins;\n\n    return plugins[this.id] || {};\n  };\n\n  _proto.setPluginState = function setPluginState(update) {\n    var _extends2;\n\n    var _this$uppy$getState2 = this.uppy.getState(),\n        plugins = _this$uppy$getState2.plugins;\n\n    this.uppy.setState({\n      plugins: _extends({}, plugins, (_extends2 = {}, _extends2[this.id] = _extends({}, plugins[this.id], update), _extends2))\n    });\n  };\n\n  _proto.setOptions = function setOptions(newOpts) {\n    this.opts = _extends({}, this.opts, newOpts);\n    this.setPluginState(); // so that UI re-renders with new options\n  };\n\n  _proto.update = function update(state) {\n    if (typeof this.el === 'undefined') {\n      return;\n    }\n\n    if (this._updateUI) {\n      this._updateUI(state);\n    }\n  } // Called after every state update, after everything's mounted. Debounced.\n  ;\n\n  _proto.afterUpdate = function afterUpdate() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n  ;\n\n  _proto.onMount = function onMount() {}\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it’s an object — target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   *\n   * @param {string|object} target\n   *\n   */\n  ;\n\n  _proto.mount = function mount(target, plugin) {\n    var _this = this;\n\n    var callerPluginName = plugin.id;\n    var targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // API for plugins that require a synchronous rerender.\n\n      this.rerender = function (state) {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!_this.uppy.getPlugin(_this.id)) return;\n        _this.el = preact.render(_this.render(state), targetElement, _this.el);\n\n        _this.afterUpdate();\n      };\n\n      this._updateUI = debounce(this.rerender);\n      this.uppy.log(\"Installing \" + callerPluginName + \" to a DOM element '\" + target + \"'\"); // clear everything inside the target container\n\n      if (this.opts.replaceTargetContent) {\n        targetElement.innerHTML = '';\n      }\n\n      this.el = preact.render(this.render(this.uppy.getState()), targetElement);\n      this.onMount();\n      return this.el;\n    }\n\n    var targetPlugin;\n\n    if (typeof target === 'object' && target instanceof Plugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      var Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(function (plugin) {\n        if (plugin instanceof Target) {\n          targetPlugin = plugin;\n          return false;\n        }\n      });\n    }\n\n    if (targetPlugin) {\n      this.uppy.log(\"Installing \" + callerPluginName + \" to \" + targetPlugin.id);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(\"Not installing \" + callerPluginName);\n    var message = \"Invalid target option given to \" + callerPluginName + \".\";\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  };\n\n  _proto.render = function render(state) {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  };\n\n  _proto.addTarget = function addTarget(plugin) {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  };\n\n  _proto.unmount = function unmount() {\n    if (this.isTargetDOMEl && this.el && this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n    }\n  };\n\n  _proto.install = function install() {};\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return Plugin;\n}();","var _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar _require = require('@uppy/core'),\n    Plugin = _require.Plugin;\n\nvar toArray = require('@uppy/utils/lib/toArray');\n\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar _require2 = require('preact'),\n    h = _require2.h;\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function (_Plugin) {\n  _inheritsLoose(FileInput, _Plugin);\n\n  function FileInput(uppy, opts) {\n    var _this;\n\n    _this = _Plugin.call(this, uppy, opts) || this;\n    _this.id = _this.opts.id || 'FileInput';\n    _this.title = 'File Input';\n    _this.type = 'acquirer';\n    _this.defaultLocale = {\n      strings: {\n        // The same key is used for the same purpose by @uppy/robodog's `form()` API, but our\n        // locale pack scripts can't access it in Robodog. If it is updated here, it should\n        // also be updated there!\n        chooseFiles: 'Choose files'\n      }\n    }; // Default options\n\n    var defaultOptions = {\n      target: null,\n      pretty: true,\n      inputName: 'files[]'\n    }; // Merge default options with the ones set by user\n\n    _this.opts = _extends({}, defaultOptions, opts);\n\n    _this.i18nInit();\n\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = FileInput.prototype;\n\n  _proto.setOptions = function setOptions(newOpts) {\n    _Plugin.prototype.setOptions.call(this, newOpts);\n\n    this.i18nInit();\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.i18nArray = this.translator.translateArray.bind(this.translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  };\n\n  _proto.addFiles = function addFiles(files) {\n    var _this2 = this;\n\n    var descriptors = files.map(function (file) {\n      return {\n        source: _this2.id,\n        name: file.name,\n        type: file.type,\n        data: file\n      };\n    });\n\n    try {\n      this.uppy.addFiles(descriptors);\n    } catch (err) {\n      this.uppy.log(err);\n    }\n  };\n\n  _proto.handleInputChange = function handleInputChange(event) {\n    this.uppy.log('[FileInput] Something selected through input...');\n    var files = toArray(event.target.files);\n    this.addFiles(files); // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n\n    event.target.value = null;\n  };\n\n  _proto.handleClick = function handleClick(ev) {\n    this.input.click();\n  };\n\n  _proto.render = function render(state) {\n    var _this3 = this;\n\n    /* http://tympanus.net/codrops/2015/09/15/styling-customizing-file-inputs-smart-way/ */\n    var hiddenInputStyle = {\n      width: '0.1px',\n      height: '0.1px',\n      opacity: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      zIndex: -1\n    };\n    var restrictions = this.uppy.opts.restrictions;\n    var accept = restrictions.allowedFileTypes ? restrictions.allowedFileTypes.join(',') : null;\n    return h(\"div\", {\n      class: \"uppy-Root uppy-FileInput-container\"\n    }, h(\"input\", {\n      class: \"uppy-FileInput-input\",\n      style: this.opts.pretty && hiddenInputStyle,\n      type: \"file\",\n      name: this.opts.inputName,\n      onchange: this.handleInputChange,\n      multiple: restrictions.maxNumberOfFiles !== 1,\n      accept: accept,\n      ref: function ref(input) {\n        _this3.input = input;\n      }\n    }), this.opts.pretty && h(\"button\", {\n      class: \"uppy-FileInput-btn\",\n      type: \"button\",\n      onclick: this.handleClick\n    }, this.i18n('chooseFiles')));\n  };\n\n  _proto.install = function install() {\n    var target = this.opts.target;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  };\n\n  _proto.uninstall = function uninstall() {\n    this.unmount();\n  };\n\n  return FileInput;\n}(Plugin), _class.VERSION = \"1.4.17\", _temp);","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var getTimeStamp = require('@uppy/utils/lib/getTimeStamp'); // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\n\nvar justErrorsLogger = {\n  debug: function debug() {},\n  warn: function warn() {},\n  error: function error() {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_console = console).error.apply(_console, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nvar debugLogger = {\n  debug: function debug() {\n    // IE 10 doesn’t support console.debug\n    var debug = console.debug || console.log;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    debug.call.apply(debug, [console, \"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  },\n  warn: function warn() {\n    var _console2;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return (_console2 = console).warn.apply(_console2, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  },\n  error: function error() {\n    var _console3;\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return (_console3 = console).error.apply(_console3, [\"[Uppy] [\" + getTimeStamp() + \"]\"].concat(args));\n  }\n};\nmodule.exports = {\n  justErrorsLogger: justErrorsLogger,\n  debugLogger: debugLogger\n};","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event – the name of the event, with optional namespace\n  * @param {...*} data – up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] – the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n","/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nmodule.exports = function isDOMElement(obj) {\n  return obj && typeof obj === 'object' && obj.nodeType === Node.ELEMENT_NODE;\n};","'use strict';\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar RequestClient = require('./RequestClient');\n\nvar tokenStorage = require('./tokenStorage');\n\nvar _getName = function _getName(id) {\n  return id.split('-').map(function (s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }).join(' ');\n};\n\nmodule.exports = /*#__PURE__*/function (_RequestClient) {\n  _inheritsLoose(Provider, _RequestClient);\n\n  function Provider(uppy, opts) {\n    var _this;\n\n    _this = _RequestClient.call(this, uppy, opts) || this;\n    _this.provider = opts.provider;\n    _this.id = _this.provider;\n    _this.name = _this.opts.name || _getName(_this.id);\n    _this.pluginId = _this.opts.pluginId;\n    _this.tokenKey = \"companion-\" + _this.pluginId + \"-auth-token\";\n    return _this;\n  }\n\n  var _proto = Provider.prototype;\n\n  _proto.headers = function headers() {\n    return Promise.all([_RequestClient.prototype.headers.call(this), this.getAuthToken()]).then(function (_ref) {\n      var headers = _ref[0],\n          token = _ref[1];\n      return _extends({}, headers, {\n        'uppy-auth-token': token\n      });\n    });\n  };\n\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    response = _RequestClient.prototype.onReceiveResponse.call(this, response);\n    var plugin = this.uppy.getPlugin(this.pluginId);\n    var oldAuthenticated = plugin.getPluginState().authenticated;\n    var authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;\n    plugin.setPluginState({\n      authenticated: authenticated\n    });\n    return response;\n  } // @todo(i.olarewaju) consider whether or not this method should be exposed\n  ;\n\n  _proto.setAuthToken = function setAuthToken(token) {\n    return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);\n  };\n\n  _proto.getAuthToken = function getAuthToken() {\n    return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);\n  };\n\n  _proto.authUrl = function authUrl() {\n    return this.hostname + \"/\" + this.id + \"/connect\";\n  };\n\n  _proto.fileUrl = function fileUrl(id) {\n    return this.hostname + \"/\" + this.id + \"/get/\" + id;\n  };\n\n  _proto.list = function list(directory) {\n    return this.get(this.id + \"/list/\" + (directory || ''));\n  };\n\n  _proto.logout = function logout() {\n    var _this2 = this;\n\n    return this.get(this.id + \"/logout\").then(function (response) {\n      return Promise.all([response, _this2.uppy.getPlugin(_this2.pluginId).storage.removeItem(_this2.tokenKey)]);\n    }).then(function (_ref2) {\n      var response = _ref2[0];\n      return response;\n    });\n  };\n\n  Provider.initPlugin = function initPlugin(plugin, opts, defaultOpts) {\n    plugin.type = 'acquirer';\n    plugin.files = [];\n\n    if (defaultOpts) {\n      plugin.opts = _extends({}, defaultOpts, opts);\n    }\n\n    if (opts.serverUrl || opts.serverPattern) {\n      throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');\n    }\n\n    if (opts.companionAllowedHosts) {\n      var pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param\n\n      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n        throw new TypeError(plugin.id + \": the option \\\"companionAllowedHosts\\\" must be one of string, Array, RegExp\");\n      }\n\n      plugin.opts.companionAllowedHosts = pattern;\n    } else {\n      // does not start with https://\n      if (/^(?!https?:\\/\\/).*$/i.test(opts.companionUrl)) {\n        plugin.opts.companionAllowedHosts = \"https://\" + opts.companionUrl.replace(/^\\/\\//, '');\n      } else {\n        plugin.opts.companionAllowedHosts = opts.companionUrl;\n      }\n    }\n\n    plugin.storage = plugin.opts.storage || tokenStorage;\n  };\n\n  return Provider;\n}(RequestClient);","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar AuthError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(AuthError, _Error);\n\n  function AuthError() {\n    var _this;\n\n    _this = _Error.call(this, 'Authorization required') || this;\n    _this.name = 'AuthError';\n    _this.isAuthError = true;\n    return _this;\n  }\n\n  return AuthError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nmodule.exports = AuthError;","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","/**\n * Create a wrapper around an event emitter with a `remove` method to remove\n * all events that were added using the wrapped emitter.\n */\nmodule.exports = /*#__PURE__*/function () {\n  function EventTracker(emitter) {\n    this._events = [];\n    this._emitter = emitter;\n  }\n\n  var _proto = EventTracker.prototype;\n\n  _proto.on = function on(event, fn) {\n    this._events.push([event, fn]);\n\n    return this._emitter.on(event, fn);\n  };\n\n  _proto.remove = function remove() {\n    var _this = this;\n\n    this._events.forEach(function (_ref) {\n      var event = _ref[0],\n          fn = _ref[1];\n\n      _this._emitter.off(event, fn);\n    });\n  };\n\n  return EventTracker;\n}();","module.exports = function settle(promises) {\n  var resolutions = [];\n  var rejections = [];\n\n  function resolved(value) {\n    resolutions.push(value);\n  }\n\n  function rejected(error) {\n    rejections.push(error);\n  }\n\n  var wait = Promise.all(promises.map(function (promise) {\n    return promise.then(resolved, rejected);\n  }));\n  return wait.then(function () {\n    return {\n      successful: resolutions,\n      failed: rejections\n    };\n  });\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-input\"},[_c('div',{staticClass:\"uppy-progress-bar\"}),_c('div',{staticClass:\"uppy-form\"})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"file-input\">\n        <div class=\"uppy-progress-bar\"></div>\n        <div class=\"uppy-form\"></div>\n    </div>\n</template>\n\n<script>\nimport Uppy from \"@uppy/core\";\nimport German from \"@uppy/locales/lib/de_DE\";\nimport XHRUpload from \"@uppy/xhr-upload\";\nimport FileInput from \"@uppy/file-input\";\nimport ProgressBar from \"@uppy/progress-bar\";\nimport authService from \"../services/auth.service\";\n\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/file-input/dist/style.css\";\nimport \"@uppy/progress-bar/dist/style.css\";\n\nexport default {\n    name: \"FileInput\",\n    props: {\n        maxFileSizeInBytes: {\n            type: Number,\n            default: 10 * 1024 * 1024,\n        },\n        route: {\n            type: String,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            previewPath: null,\n            disabled: true,\n        };\n    },\n    mounted() {\n        this.instantiateUppy();\n    },\n    methods: {\n        instantiateUppy() {\n            this.uppy = Uppy({\n                debug: true,\n                locale: German,\n                autoProceed: true,\n                restrictions: {\n                    maxFileSize: this.maxFileSizeInBytes,\n                    minNumberOfFiles: 1,\n                    maxNumberOfFiles: 1,\n                    allowedFileTypes: [\"image/*\", \"application/pdf\"],\n                },\n            })\n                .use(FileInput, {\n                    target: \".uppy-form\",\n                    replaceTargetContent: true,\n                    inputName: \"file\",\n                    pretty: true,\n                })\n                .use(ProgressBar, {\n                    target: \".uppy-progress-bar\",\n                    hideAfterFinish: false,\n                })\n                .use(XHRUpload, {\n                    limit: 10,\n                    endpoint: this.route,\n                    formData: true,\n                    fieldName: \"file\",\n                    headers: {\n                        authorization: `Bearer ${authService.currentUser.api_token}`,\n                    },\n                })\n                .on(\"complete\", event => {\n                    this.disabled = false;\n                    this.uppy.reset();\n\n                    const { failed, successful } = event;\n\n                    if (successful && successful.length > 0) {\n                        const files = successful.map(\n                            data => data.response.body\n                        );\n                        this.$emit(\"onUploadSuccessful\", files);\n                    }\n\n                    if (failed && failed.length > 0) {\n                        this.$emit(\"onUploadFailed\", failed);\n                    }\n                });\n        },\n    },\n};\n</script>\n\n<style scoped>\n.uppy-progress-bar {\n    margin-bottom: 1rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileInput.vue?vue&type=template&id=0ca81046&scoped=true&\"\nimport script from \"./FileInput.vue?vue&type=script&lang=js&\"\nexport * from \"./FileInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileInput.vue?vue&type=style&index=0&id=0ca81046&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca81046\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\nmodule.exports = function getTimeStamp() {\n  var date = new Date();\n  var hours = pad(date.getHours().toString());\n  var minutes = pad(date.getMinutes().toString());\n  var seconds = pad(date.getSeconds().toString());\n  return hours + ':' + minutes + ':' + seconds;\n};\n/**\n * Adds zero to strings shorter than two characters\n */\n\n\nfunction pad(str) {\n  return str.length !== 2 ? 0 + str : str;\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Translator = require('@uppy/utils/lib/Translator');\n\nvar ee = require('namespace-emitter');\n\nvar cuid = require('cuid');\n\nvar throttle = require('lodash.throttle');\n\nvar prettierBytes = require('@transloadit/prettier-bytes');\n\nvar match = require('mime-match');\n\nvar DefaultStore = require('@uppy/store-default');\n\nvar getFileType = require('@uppy/utils/lib/getFileType');\n\nvar getFileNameAndExtension = require('@uppy/utils/lib/getFileNameAndExtension');\n\nvar generateFileID = require('@uppy/utils/lib/generateFileID');\n\nvar supportsUploadProgress = require('./supportsUploadProgress');\n\nvar _require = require('./loggers'),\n    justErrorsLogger = _require.justErrorsLogger,\n    debugLogger = _require.debugLogger;\n\nvar Plugin = require('./Plugin'); // Exported from here.\n\n\nvar RestrictionError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(RestrictionError, _Error);\n\n  function RestrictionError() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Error.call.apply(_Error, [this].concat(args)) || this;\n    _this.isRestriction = true;\n    return _this;\n  }\n\n  return RestrictionError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\n\nvar Uppy = /*#__PURE__*/function () {\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts — Uppy options\n   */\n  function Uppy(opts) {\n    var _this2 = this;\n\n    this.defaultLocale = {\n      strings: {\n        addBulkFilesFailed: {\n          0: 'Failed to add %{smart_count} file due to an internal error',\n          1: 'Failed to add %{smart_count} files due to internal errors'\n        },\n        youCanOnlyUploadX: {\n          0: 'You can only upload %{smart_count} file',\n          1: 'You can only upload %{smart_count} files'\n        },\n        youHaveToAtLeastSelectX: {\n          0: 'You have to select at least %{smart_count} file',\n          1: 'You have to select at least %{smart_count} files'\n        },\n        // The default `exceedsSize2` string only combines the `exceedsSize` string (%{backwardsCompat}) with the size.\n        // Locales can override `exceedsSize2` to specify a different word order. This is for backwards compat with\n        // Uppy 1.9.x and below which did a naive concatenation of `exceedsSize2 + size` instead of using a locale-specific\n        // substitution.\n        // TODO: In 2.0 `exceedsSize2` should be removed in and `exceedsSize` updated to use substitution.\n        exceedsSize2: '%{backwardsCompat} %{size}',\n        exceedsSize: 'This file exceeds maximum allowed size of',\n        inferiorSize: 'This file is smaller than the allowed size of %{size}',\n        youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n        noNewAlreadyUploading: 'Cannot add new files: already uploading',\n        noDuplicates: 'Cannot add the duplicate file \\'%{fileName}\\', it already exists',\n        companionError: 'Connection with Companion failed',\n        companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n        failedToUpload: 'Failed to upload %{file}',\n        noInternetConnection: 'No Internet connection',\n        connectedToInternet: 'Connected to the Internet',\n        // Strings for remote providers\n        noFilesFound: 'You have no files or folders here',\n        selectX: {\n          0: 'Select %{smart_count}',\n          1: 'Select %{smart_count}'\n        },\n        selectAllFilesFromFolderNamed: 'Select all files from folder %{name}',\n        unselectAllFilesFromFolderNamed: 'Unselect all files from folder %{name}',\n        selectFileNamed: 'Select file %{name}',\n        unselectFileNamed: 'Unselect file %{name}',\n        openFolderNamed: 'Open folder %{name}',\n        cancel: 'Cancel',\n        logOut: 'Log out',\n        filter: 'Filter',\n        resetFilter: 'Reset filter',\n        loading: 'Loading...',\n        authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n        authenticateWith: 'Connect to %{pluginName}',\n        emptyFolderAdded: 'No files were added from empty folder',\n        folderAdded: {\n          0: 'Added %{smart_count} file from %{folder}',\n          1: 'Added %{smart_count} files from %{folder}'\n        }\n      }\n    };\n    var defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploads: true,\n      debug: false,\n      restrictions: {\n        maxFileSize: null,\n        minFileSize: null,\n        maxNumberOfFiles: null,\n        minNumberOfFiles: null,\n        allowedFileTypes: null\n      },\n      meta: {},\n      onBeforeFileAdded: function onBeforeFileAdded(currentFile, files) {\n        return currentFile;\n      },\n      onBeforeUpload: function onBeforeUpload(files) {\n        return files;\n      },\n      store: DefaultStore(),\n      logger: justErrorsLogger\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = _extends({}, defaultOptions, opts, {\n      restrictions: _extends({}, defaultOptions.restrictions, opts && opts.restrictions)\n    }); // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions\n\n    if (opts && opts.logger && opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (opts && opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n\n    this.log(\"Using Core v\" + this.constructor.VERSION);\n\n    if (this.opts.restrictions.allowedFileTypes && this.opts.restrictions.allowedFileTypes !== null && !Array.isArray(this.opts.restrictions.allowedFileTypes)) {\n      throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n    }\n\n    this.i18nInit(); // Container for different types of plugins\n\n    this.plugins = {};\n    this.getState = this.getState.bind(this);\n    this.getPlugin = this.getPlugin.bind(this);\n    this.setFileMeta = this.setFileMeta.bind(this);\n    this.setFileState = this.setFileState.bind(this);\n    this.log = this.log.bind(this);\n    this.info = this.info.bind(this);\n    this.hideInfo = this.hideInfo.bind(this);\n    this.addFile = this.addFile.bind(this);\n    this.removeFile = this.removeFile.bind(this);\n    this.pauseResume = this.pauseResume.bind(this); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file, and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this._calculateProgress = throttle(this._calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.updateOnlineStatus = this.updateOnlineStatus.bind(this);\n    this.resetProgress = this.resetProgress.bind(this);\n    this.pauseAll = this.pauseAll.bind(this);\n    this.resumeAll = this.resumeAll.bind(this);\n    this.retryAll = this.retryAll.bind(this);\n    this.cancelAll = this.cancelAll.bind(this);\n    this.retryUpload = this.retryUpload.bind(this);\n    this.upload = this.upload.bind(this);\n    this.emitter = ee();\n    this.on = this.on.bind(this);\n    this.off = this.off.bind(this);\n    this.once = this.emitter.once.bind(this.emitter);\n    this.emit = this.emitter.emit.bind(this.emitter);\n    this.preProcessors = [];\n    this.uploaders = [];\n    this.postProcessors = [];\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: _extends({}, this.opts.meta),\n      info: {\n        isHidden: true,\n        type: 'info',\n        message: ''\n      }\n    });\n    this._storeUnsubscribe = this.store.subscribe(function (prevState, nextState, patch) {\n      _this2.emit('state-update', prevState, nextState, patch);\n\n      _this2.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    this._addListeners(); // Re-enable if we’ll need some capabilities on boot, like isMobileDevice\n    // this._setCapabilities()\n\n  } // _setCapabilities = () => {\n  //   const capabilities = {\n  //     isMobileDevice: isMobileDevice()\n  //   }\n  //   this.setState({\n  //     ...this.getState().capabilities,\n  //     capabilities\n  //   })\n  // }\n\n\n  var _proto = Uppy.prototype;\n\n  _proto.on = function on(event, callback) {\n    this.emitter.on(event, callback);\n    return this;\n  };\n\n  _proto.off = function off(event, callback) {\n    this.emitter.off(event, callback);\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n  ;\n\n  _proto.updateAll = function updateAll(state) {\n    this.iteratePlugins(function (plugin) {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n  ;\n\n  _proto.setState = function setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n  ;\n\n  _proto.getState = function getState() {\n    return this.store.getState();\n  }\n  /**\n   * Back compat for when uppy.state is used instead of uppy.getState().\n   */\n  ;\n\n  /**\n   * Shorthand to set state for a specific file.\n   */\n  _proto.setFileState = function setFileState(fileID, state) {\n    var _extends2;\n\n    if (!this.getState().files[fileID]) {\n      throw new Error(\"Can\\u2019t set state for \" + fileID + \" (the file could have been removed)\");\n    }\n\n    this.setState({\n      files: _extends({}, this.getState().files, (_extends2 = {}, _extends2[fileID] = _extends({}, this.getState().files[fileID], state), _extends2))\n    });\n  };\n\n  _proto.i18nInit = function i18nInit() {\n    this.translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.locale = this.translator.locale;\n    this.i18n = this.translator.translate.bind(this.translator);\n    this.i18nArray = this.translator.translateArray.bind(this.translator);\n  };\n\n  _proto.setOptions = function setOptions(newOpts) {\n    this.opts = _extends({}, this.opts, newOpts, {\n      restrictions: _extends({}, this.opts.restrictions, newOpts && newOpts.restrictions)\n    });\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(function (plugin) {\n        plugin.setOptions();\n      });\n    }\n\n    this.setState(); // so that UI re-renders with new options\n  };\n\n  _proto.resetProgress = function resetProgress() {\n    var defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n\n    var files = _extends({}, this.getState().files);\n\n    var updatedFiles = {};\n    Object.keys(files).forEach(function (fileID) {\n      var updatedFile = _extends({}, files[fileID]);\n\n      updatedFile.progress = _extends({}, updatedFile.progress, defaultProgress);\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  };\n\n  _proto.addPreProcessor = function addPreProcessor(fn) {\n    this.preProcessors.push(fn);\n  };\n\n  _proto.removePreProcessor = function removePreProcessor(fn) {\n    var i = this.preProcessors.indexOf(fn);\n\n    if (i !== -1) {\n      this.preProcessors.splice(i, 1);\n    }\n  };\n\n  _proto.addPostProcessor = function addPostProcessor(fn) {\n    this.postProcessors.push(fn);\n  };\n\n  _proto.removePostProcessor = function removePostProcessor(fn) {\n    var i = this.postProcessors.indexOf(fn);\n\n    if (i !== -1) {\n      this.postProcessors.splice(i, 1);\n    }\n  };\n\n  _proto.addUploader = function addUploader(fn) {\n    this.uploaders.push(fn);\n  };\n\n  _proto.removeUploader = function removeUploader(fn) {\n    var i = this.uploaders.indexOf(fn);\n\n    if (i !== -1) {\n      this.uploaders.splice(i, 1);\n    }\n  };\n\n  _proto.setMeta = function setMeta(data) {\n    var updatedMeta = _extends({}, this.getState().meta, data);\n\n    var updatedFiles = _extends({}, this.getState().files);\n\n    Object.keys(updatedFiles).forEach(function (fileID) {\n      updatedFiles[fileID] = _extends({}, updatedFiles[fileID], {\n        meta: _extends({}, updatedFiles[fileID].meta, data)\n      });\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  };\n\n  _proto.setFileMeta = function setFileMeta(fileID, data) {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    var newMeta = _extends({}, updatedFiles[fileID].meta, data);\n\n    updatedFiles[fileID] = _extends({}, updatedFiles[fileID], {\n      meta: newMeta\n    });\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n  ;\n\n  _proto.getFile = function getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n  ;\n\n  _proto.getFiles = function getFiles() {\n    var _this$getState = this.getState(),\n        files = _this$getState.files;\n\n    return Object.keys(files).map(function (fileID) {\n      return files[fileID];\n    });\n  }\n  /**\n   * Check if minNumberOfFiles restriction is reached before uploading.\n   *\n   * @private\n   */\n  ;\n\n  _proto._checkMinNumberOfFiles = function _checkMinNumberOfFiles(files) {\n    var minNumberOfFiles = this.opts.restrictions.minNumberOfFiles;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(\"\" + this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n  /**\n   * Check if file passes a set of restrictions set in options: maxFileSize, minFileSize,\n   * maxNumberOfFiles and allowedFileTypes.\n   *\n   * @param {object} files Object of IDs → files already added\n   * @param {object} file object to check\n   * @private\n   */\n  ;\n\n  _proto._checkRestrictions = function _checkRestrictions(files, file) {\n    var _this$opts$restrictio = this.opts.restrictions,\n        maxFileSize = _this$opts$restrictio.maxFileSize,\n        minFileSize = _this$opts$restrictio.minFileSize,\n        maxNumberOfFiles = _this$opts$restrictio.maxNumberOfFiles,\n        allowedFileTypes = _this$opts$restrictio.allowedFileTypes;\n\n    if (maxNumberOfFiles) {\n      if (Object.keys(files).length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(\"\" + this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        }));\n      }\n    }\n\n    if (allowedFileTypes) {\n      var isCorrectFileType = allowedFileTypes.some(function (type) {\n        // is this is a mime-type\n        if (type.indexOf('/') > -1) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.') {\n          return file.extension.toLowerCase() === type.substr(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        var allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.data.size != null) {\n      if (file.data.size > maxFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize2', {\n          backwardsCompat: this.i18n('exceedsSize'),\n          size: prettierBytes(maxFileSize)\n        }));\n      }\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.data.size != null) {\n      if (file.data.size < minFileSize) {\n        throw new RestrictionError(this.i18n('inferiorSize', {\n          size: prettierBytes(minFileSize)\n        }));\n      }\n    }\n  }\n  /**\n   * Logs an error, sets Informer message, then throws the error.\n   * Emits a 'restriction-failed' event if it’s a restriction error\n   *\n   * @param {object | string} err — Error object or plain string message\n   * @param {object} [options]\n   * @param {boolean} [options.showInformer=true] — Sometimes developer might want to show Informer manually\n   * @param {object} [options.file=null] — File object used to emit the restriction error\n   * @param {boolean} [options.throwErr=true] — Errors shouldn’t be thrown, for example, in `upload-error` event\n   * @private\n   */\n  ;\n\n  _proto._showOrLogErrorAndThrow = function _showOrLogErrorAndThrow(err, _temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$showInformer = _ref.showInformer,\n        showInformer = _ref$showInformer === void 0 ? true : _ref$showInformer,\n        _ref$file = _ref.file,\n        file = _ref$file === void 0 ? null : _ref$file,\n        _ref$throwErr = _ref.throwErr,\n        throwErr = _ref$throwErr === void 0 ? true : _ref$throwErr;\n\n    var message = typeof err === 'object' ? err.message : err;\n    var details = typeof err === 'object' && err.details ? err.details : ''; // Restriction errors should be logged, but not as errors,\n    // as they are expected and shown in the UI.\n\n    var logMessageWithDetails = message;\n\n    if (details) {\n      logMessageWithDetails += ' ' + details;\n    }\n\n    if (err.isRestriction) {\n      this.log(logMessageWithDetails);\n      this.emit('restriction-failed', file, err);\n    } else {\n      this.log(logMessageWithDetails, 'error');\n    } // Sometimes informer has to be shown manually by the developer,\n    // for example, in `onBeforeFileAdded`.\n\n\n    if (showInformer) {\n      this.info({\n        message: message,\n        details: details\n      }, 'error', 5000);\n    }\n\n    if (throwErr) {\n      throw typeof err === 'object' ? err : new Error(err);\n    }\n  };\n\n  _proto._assertNewUploadAllowed = function _assertNewUploadAllowed(file) {\n    var _this$getState2 = this.getState(),\n        allowNewUpload = _this$getState2.allowNewUpload;\n\n    if (allowNewUpload === false) {\n      this._showOrLogErrorAndThrow(new RestrictionError(this.i18n('noNewAlreadyUploading')), {\n        file: file\n      });\n    }\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n  ;\n\n  _proto._checkAndCreateFileStateObject = function _checkAndCreateFileStateObject(files, file) {\n    var fileType = getFileType(file);\n    file.type = fileType;\n    var onBeforeFileAddedResult = this.opts.onBeforeFileAdded(file, files);\n\n    if (onBeforeFileAddedResult === false) {\n      // Don’t show UI info for this error, as it should be done by the developer\n      this._showOrLogErrorAndThrow(new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.'), {\n        showInformer: false,\n        file: file\n      });\n    }\n\n    if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult) {\n      file = onBeforeFileAddedResult;\n    }\n\n    var fileName;\n\n    if (file.name) {\n      fileName = file.name;\n    } else if (fileType.split('/')[0] === 'image') {\n      fileName = fileType.split('/')[0] + '.' + fileType.split('/')[1];\n    } else {\n      fileName = 'noname';\n    }\n\n    var fileExtension = getFileNameAndExtension(fileName).extension;\n    var isRemote = file.isRemote || false;\n    var fileID = generateFileID(file);\n\n    if (files[fileID]) {\n      this._showOrLogErrorAndThrow(new RestrictionError(this.i18n('noDuplicates', {\n        fileName: fileName\n      })), {\n        file: file\n      });\n    }\n\n    var meta = file.meta || {};\n    meta.name = fileName;\n    meta.type = fileType; // `null` means the size is unknown.\n\n    var size = isFinite(file.data.size) ? file.data.size : null;\n    var newFile = {\n      source: file.source || '',\n      id: fileID,\n      name: fileName,\n      extension: fileExtension || '',\n      meta: _extends({}, this.getState().meta, meta),\n      type: fileType,\n      data: file.data,\n      progress: {\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: size,\n        uploadComplete: false,\n        uploadStarted: null\n      },\n      size: size,\n      isRemote: isRemote,\n      remote: file.remote || '',\n      preview: file.preview\n    };\n\n    try {\n      this._checkRestrictions(files, newFile);\n    } catch (err) {\n      this._showOrLogErrorAndThrow(err, {\n        file: newFile\n      });\n    }\n\n    return newFile;\n  } // Schedule an upload if `autoProceed` is enabled.\n  ;\n\n  _proto._startIfAutoProceed = function _startIfAutoProceed() {\n    var _this3 = this;\n\n    if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n      this.scheduledAutoProceed = setTimeout(function () {\n        _this3.scheduledAutoProceed = null;\n\n        _this3.upload().catch(function (err) {\n          if (!err.isRestriction) {\n            _this3.log(err.stack || err.message || err);\n          }\n        });\n      }, 4);\n    }\n  }\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  ;\n\n  _proto.addFile = function addFile(file) {\n    var _extends3;\n\n    this._assertNewUploadAllowed(file);\n\n    var _this$getState3 = this.getState(),\n        files = _this$getState3.files;\n\n    var newFile = this._checkAndCreateFileStateObject(files, file);\n\n    this.setState({\n      files: _extends({}, files, (_extends3 = {}, _extends3[newFile.id] = newFile, _extends3))\n    });\n    this.emit('file-added', newFile);\n    this.log(\"Added file: \" + newFile.name + \", \" + newFile.id + \", mime type: \" + newFile.type);\n\n    this._startIfAutoProceed();\n\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * This cuts some corners for performance, so should typically only be used in cases where there may be a lot of files.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified. This is good for UI plugins, but not for programmatic use. Programmatic users should usually still use `addFile()` on individual files.\n   */\n  ;\n\n  _proto.addFiles = function addFiles(fileDescriptors) {\n    var _this4 = this;\n\n    this._assertNewUploadAllowed(); // create a copy of the files object only once\n\n\n    var files = _extends({}, this.getState().files);\n\n    var newFiles = [];\n    var errors = [];\n\n    for (var i = 0; i < fileDescriptors.length; i++) {\n      try {\n        var newFile = this._checkAndCreateFileStateObject(files, fileDescriptors[i]);\n\n        newFiles.push(newFile);\n        files[newFile.id] = newFile;\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files: files\n    });\n    newFiles.forEach(function (newFile) {\n      _this4.emit('file-added', newFile);\n    });\n\n    if (newFiles.length > 5) {\n      this.log(\"Added batch of \" + newFiles.length + \" files\");\n    } else {\n      Object.keys(newFiles).forEach(function (fileID) {\n        _this4.log(\"Added file: \" + newFiles[fileID].name + \"\\n id: \" + newFiles[fileID].id + \"\\n type: \" + newFiles[fileID].type);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      this._startIfAutoProceed();\n    }\n\n    if (errors.length > 0) {\n      var message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(function (subError) {\n        message += \"\\n * \" + subError.message;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', 5000);\n      var err = new Error(message);\n      err.errors = errors;\n      throw err;\n    }\n  };\n\n  _proto.removeFiles = function removeFiles(fileIDs, reason) {\n    var _this5 = this;\n\n    var _this$getState4 = this.getState(),\n        files = _this$getState4.files,\n        currentUploads = _this$getState4.currentUploads;\n\n    var updatedFiles = _extends({}, files);\n\n    var updatedUploads = _extends({}, currentUploads);\n\n    var removedFiles = Object.create(null);\n    fileIDs.forEach(function (fileID) {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    var uploadsToRemove = [];\n    Object.keys(updatedUploads).forEach(function (uploadID) {\n      var newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        uploadsToRemove.push(uploadID);\n        return;\n      }\n\n      updatedUploads[uploadID] = _extends({}, currentUploads[uploadID], {\n        fileIDs: newFileIDs\n      });\n    });\n    uploadsToRemove.forEach(function (uploadID) {\n      delete updatedUploads[uploadID];\n    });\n    var stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads!\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n    }\n\n    this.setState(stateUpdate);\n\n    this._calculateTotalProgress();\n\n    var removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(function (fileID) {\n      _this5.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(\"Removed \" + removedFileIDs.length + \" files\");\n    } else {\n      this.log(\"Removed files: \" + removedFileIDs.join(', '));\n    }\n  };\n\n  _proto.removeFile = function removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  };\n\n  _proto.pauseResume = function pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return;\n    }\n\n    var wasPaused = this.getFile(fileID).isPaused || false;\n    var isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused: isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  };\n\n  _proto.pauseAll = function pauseAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var inProgressUpdatedFiles = Object.keys(updatedFiles).filter(function (file) {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: true\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  };\n\n  _proto.resumeAll = function resumeAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var inProgressUpdatedFiles = Object.keys(updatedFiles).filter(function (file) {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: false,\n        error: null\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  };\n\n  _proto.retryAll = function retryAll() {\n    var updatedFiles = _extends({}, this.getState().files);\n\n    var filesToRetry = Object.keys(updatedFiles).filter(function (file) {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(function (file) {\n      var updatedFile = _extends({}, updatedFiles[file], {\n        isPaused: false,\n        error: null\n      });\n\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    var uploadID = this._createUpload(filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return this._runUpload(uploadID);\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    this.emit('cancel-all');\n\n    var _this$getState5 = this.getState(),\n        files = _this$getState5.files;\n\n    var fileIDs = Object.keys(files);\n\n    if (fileIDs.length) {\n      this.removeFiles(fileIDs, 'cancel-all');\n    }\n\n    this.setState({\n      totalProgress: 0,\n      error: null\n    });\n  };\n\n  _proto.retryUpload = function retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n\n    var uploadID = this._createUpload([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return this._runUpload(uploadID);\n  };\n\n  _proto.reset = function reset() {\n    this.cancelAll();\n  };\n\n  _proto._calculateProgress = function _calculateProgress(file, data) {\n    if (!this.getFile(file.id)) {\n      this.log(\"Not setting progress for a file that has been removed: \" + file.id);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    var canHavePercentage = isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: _extends({}, this.getFile(file.id).progress, {\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage // TODO(goto-bus-stop) flooring this should probably be the choice of the UI?\n        // we get more accurate calculations if we don't round this at all.\n        ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      })\n    });\n\n    this._calculateTotalProgress();\n  };\n\n  _proto._calculateTotalProgress = function _calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    var files = this.getFiles();\n    var inProgress = files.filter(function (file) {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    var sizedFiles = inProgress.filter(function (file) {\n      return file.progress.bytesTotal != null;\n    });\n    var unsizedFiles = inProgress.filter(function (file) {\n      return file.progress.bytesTotal == null;\n    });\n\n    if (sizedFiles.length === 0) {\n      var progressMax = inProgress.length * 100;\n      var currentProgress = unsizedFiles.reduce(function (acc, file) {\n        return acc + file.progress.percentage;\n      }, 0);\n\n      var _totalProgress = Math.round(currentProgress / progressMax * 100);\n\n      this.setState({\n        totalProgress: _totalProgress\n      });\n      return;\n    }\n\n    var totalSize = sizedFiles.reduce(function (acc, file) {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    var averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    var uploadedSize = 0;\n    sizedFiles.forEach(function (file) {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(function (file) {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    var totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress: totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n  ;\n\n  _proto._addListeners = function _addListeners() {\n    var _this6 = this;\n\n    this.on('error', function (error) {\n      var errorMsg = 'Unknown error';\n\n      if (error.message) {\n        errorMsg = error.message;\n      }\n\n      if (error.details) {\n        errorMsg += ' ' + error.details;\n      }\n\n      _this6.setState({\n        error: errorMsg\n      });\n    });\n    this.on('upload-error', function (file, error, response) {\n      var errorMsg = 'Unknown error';\n\n      if (error.message) {\n        errorMsg = error.message;\n      }\n\n      if (error.details) {\n        errorMsg += ' ' + error.details;\n      }\n\n      _this6.setFileState(file.id, {\n        error: errorMsg,\n        response: response\n      });\n\n      _this6.setState({\n        error: error.message\n      });\n\n      if (typeof error === 'object' && error.message) {\n        var newError = new Error(error.message);\n        newError.details = error.message;\n\n        if (error.details) {\n          newError.details += ' ' + error.details;\n        }\n\n        newError.message = _this6.i18n('failedToUpload', {\n          file: file.name\n        });\n\n        _this6._showOrLogErrorAndThrow(newError, {\n          throwErr: false\n        });\n      } else {\n        _this6._showOrLogErrorAndThrow(error, {\n          throwErr: false\n        });\n      }\n    });\n    this.on('upload', function () {\n      _this6.setState({\n        error: null\n      });\n    });\n    this.on('upload-started', function (file, upload) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this6.setFileState(file.id, {\n        progress: {\n          uploadStarted: Date.now(),\n          uploadComplete: false,\n          percentage: 0,\n          bytesUploaded: 0,\n          bytesTotal: file.size\n        }\n      });\n    });\n    this.on('upload-progress', this._calculateProgress);\n    this.on('upload-success', function (file, uploadResp) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var currentProgress = _this6.getFile(file.id).progress;\n\n      _this6.setFileState(file.id, {\n        progress: _extends({}, currentProgress, {\n          uploadComplete: true,\n          percentage: 100,\n          bytesUploaded: currentProgress.bytesTotal\n        }),\n        response: uploadResp,\n        uploadURL: uploadResp.uploadURL,\n        isPaused: false\n      });\n\n      _this6._calculateTotalProgress();\n    });\n    this.on('preprocess-progress', function (file, progress) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this6.setFileState(file.id, {\n        progress: _extends({}, _this6.getFile(file.id).progress, {\n          preprocess: progress\n        })\n      });\n    });\n    this.on('preprocess-complete', function (file) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var files = _extends({}, _this6.getState().files);\n\n      files[file.id] = _extends({}, files[file.id], {\n        progress: _extends({}, files[file.id].progress)\n      });\n      delete files[file.id].progress.preprocess;\n\n      _this6.setState({\n        files: files\n      });\n    });\n    this.on('postprocess-progress', function (file, progress) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      _this6.setFileState(file.id, {\n        progress: _extends({}, _this6.getState().files[file.id].progress, {\n          postprocess: progress\n        })\n      });\n    });\n    this.on('postprocess-complete', function (file) {\n      if (!_this6.getFile(file.id)) {\n        _this6.log(\"Not setting progress for a file that has been removed: \" + file.id);\n\n        return;\n      }\n\n      var files = _extends({}, _this6.getState().files);\n\n      files[file.id] = _extends({}, files[file.id], {\n        progress: _extends({}, files[file.id].progress)\n      });\n      delete files[file.id].progress.postprocess; // TODO should we set some kind of `fullyComplete` property on the file object\n      // so it's easier to see that the file is upload…fully complete…rather than\n      // what we have to do now (`uploadComplete && !postprocess`)\n\n      _this6.setState({\n        files: files\n      });\n    });\n    this.on('restored', function () {\n      // Files may have changed--ensure progress is still accurate.\n      _this6._calculateTotalProgress();\n    }); // show informer if offline\n\n    if (typeof window !== 'undefined' && window.addEventListener) {\n      window.addEventListener('online', function () {\n        return _this6.updateOnlineStatus();\n      });\n      window.addEventListener('offline', function () {\n        return _this6.updateOnlineStatus();\n      });\n      setTimeout(function () {\n        return _this6.updateOnlineStatus();\n      }, 3000);\n    }\n  };\n\n  _proto.updateOnlineStatus = function updateOnlineStatus() {\n    var online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  };\n\n  _proto.getID = function getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  ;\n\n  _proto.use = function use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      var msg = \"Expected a plugin class, but got \" + (Plugin === null ? 'null' : typeof Plugin) + \".\" + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    var plugin = new Plugin(this, opts);\n    var pluginId = plugin.id;\n    this.plugins[plugin.type] = this.plugins[plugin.type] || [];\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    var existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      var _msg = \"Already found a plugin named '\" + existsPluginAlready.id + \"'. \" + (\"Tried to use: '\" + pluginId + \"'.\\n\") + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n\n      throw new Error(_msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(\"Using \" + pluginId + \" v\" + Plugin.VERSION);\n    }\n\n    this.plugins[plugin.type].push(plugin);\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {object|boolean}\n   */\n  ;\n\n  _proto.getPlugin = function getPlugin(id) {\n    var foundPlugin = null;\n    this.iteratePlugins(function (plugin) {\n      if (plugin.id === id) {\n        foundPlugin = plugin;\n        return false;\n      }\n    });\n    return foundPlugin;\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n  ;\n\n  _proto.iteratePlugins = function iteratePlugins(method) {\n    var _this7 = this;\n\n    Object.keys(this.plugins).forEach(function (pluginType) {\n      _this7.plugins[pluginType].forEach(method);\n    });\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n  ;\n\n  _proto.removePlugin = function removePlugin(instance) {\n    this.log(\"Removing plugin \" + instance.id);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    var list = this.plugins[instance.type].slice();\n    var index = list.indexOf(instance);\n\n    if (index !== -1) {\n      list.splice(index, 1);\n      this.plugins[instance.type] = list;\n    }\n\n    var updatedState = this.getState();\n    delete updatedState.plugins[instance.id];\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n  ;\n\n  _proto.close = function close() {\n    var _this8 = this;\n\n    this.log(\"Closing Uppy instance \" + this.opts.id + \": removing all files and uninstalling plugins\");\n    this.reset();\n\n    this._storeUnsubscribe();\n\n    this.iteratePlugins(function (plugin) {\n      _this8.removePlugin(plugin);\n    });\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n  ;\n\n  _proto.info = function info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    var isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: {\n        isHidden: false,\n        type: type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }\n    });\n    this.emit('info-visible');\n    clearTimeout(this.infoTimeoutID);\n\n    if (duration === 0) {\n      this.infoTimeoutID = undefined;\n      return;\n    } // hide the informer after `duration` milliseconds\n\n\n    this.infoTimeoutID = setTimeout(this.hideInfo, duration);\n  };\n\n  _proto.hideInfo = function hideInfo() {\n    var newInfo = _extends({}, this.getState().info, {\n      isHidden: true\n    });\n\n    this.setState({\n      info: newInfo\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n  ;\n\n  _proto.log = function log(message, type) {\n    var logger = this.opts.logger;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Obsolete, event listeners are now added in the constructor.\n   */\n  ;\n\n  _proto.run = function run() {\n    this.log('Calling run() is no longer necessary.', 'warning');\n    return this;\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n  ;\n\n  _proto.restore = function restore(uploadID) {\n    this.log(\"Core: attempting to restore upload \\\"\" + uploadID + \"\\\"\");\n\n    if (!this.getState().currentUploads[uploadID]) {\n      this._removeUpload(uploadID);\n\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return this._runUpload(uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n  ;\n\n  _proto._createUpload = function _createUpload(fileIDs, opts) {\n    var _extends4;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _opts = opts,\n        _opts$forceAllowNewUp = _opts.forceAllowNewUpload,\n        forceAllowNewUpload = _opts$forceAllowNewUp === void 0 ? false : _opts$forceAllowNewUp;\n\n    var _this$getState6 = this.getState(),\n        allowNewUpload = _this$getState6.allowNewUpload,\n        currentUploads = _this$getState6.currentUploads;\n\n    if (!allowNewUpload && !forceAllowNewUpload) {\n      throw new Error('Cannot create a new upload: already uploading.');\n    }\n\n    var uploadID = cuid();\n    this.emit('upload', {\n      id: uploadID,\n      fileIDs: fileIDs\n    });\n    this.setState({\n      allowNewUpload: this.opts.allowMultipleUploads !== false,\n      currentUploads: _extends({}, currentUploads, (_extends4 = {}, _extends4[uploadID] = {\n        fileIDs: fileIDs,\n        step: 0,\n        result: {}\n      }, _extends4))\n    });\n    return uploadID;\n  };\n\n  _proto._getUpload = function _getUpload(uploadID) {\n    var _this$getState7 = this.getState(),\n        currentUploads = _this$getState7.currentUploads;\n\n    return currentUploads[uploadID];\n  }\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  ;\n\n  _proto.addResultData = function addResultData(uploadID, data) {\n    var _extends5;\n\n    if (!this._getUpload(uploadID)) {\n      this.log(\"Not setting result for an upload that has been removed: \" + uploadID);\n      return;\n    }\n\n    var currentUploads = this.getState().currentUploads;\n\n    var currentUpload = _extends({}, currentUploads[uploadID], {\n      result: _extends({}, currentUploads[uploadID].result, data)\n    });\n\n    this.setState({\n      currentUploads: _extends({}, currentUploads, (_extends5 = {}, _extends5[uploadID] = currentUpload, _extends5))\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n  ;\n\n  _proto._removeUpload = function _removeUpload(uploadID) {\n    var currentUploads = _extends({}, this.getState().currentUploads);\n\n    delete currentUploads[uploadID];\n    this.setState({\n      currentUploads: currentUploads\n    });\n  }\n  /**\n   * Run an upload. This picks up where it left off in case the upload is being restored.\n   *\n   * @private\n   */\n  ;\n\n  _proto._runUpload = function _runUpload(uploadID) {\n    var _this9 = this;\n\n    var uploadData = this.getState().currentUploads[uploadID];\n    var restoreStep = uploadData.step;\n    var steps = [].concat(this.preProcessors, this.uploaders, this.postProcessors);\n    var lastStep = Promise.resolve();\n    steps.forEach(function (fn, step) {\n      // Skip this step if we are restoring and have already completed this step before.\n      if (step < restoreStep) {\n        return;\n      }\n\n      lastStep = lastStep.then(function () {\n        var _extends6;\n\n        var _this9$getState = _this9.getState(),\n            currentUploads = _this9$getState.currentUploads;\n\n        var currentUpload = currentUploads[uploadID];\n\n        if (!currentUpload) {\n          return;\n        }\n\n        var updatedUpload = _extends({}, currentUpload, {\n          step: step\n        });\n\n        _this9.setState({\n          currentUploads: _extends({}, currentUploads, (_extends6 = {}, _extends6[uploadID] = updatedUpload, _extends6))\n        }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n        // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n\n        return fn(updatedUpload.fileIDs, uploadID);\n      }).then(function (result) {\n        return null;\n      });\n    }); // Not returning the `catch`ed promise, because we still want to return a rejected\n    // promise from this method if the upload failed.\n\n    lastStep.catch(function (err) {\n      _this9.emit('error', err, uploadID);\n\n      _this9._removeUpload(uploadID);\n    });\n    return lastStep.then(function () {\n      // Set result data.\n      var _this9$getState2 = _this9.getState(),\n          currentUploads = _this9$getState2.currentUploads;\n\n      var currentUpload = currentUploads[uploadID];\n\n      if (!currentUpload) {\n        return;\n      }\n\n      var files = currentUpload.fileIDs.map(function (fileID) {\n        return _this9.getFile(fileID);\n      });\n      var successful = files.filter(function (file) {\n        return !file.error;\n      });\n      var failed = files.filter(function (file) {\n        return file.error;\n      });\n\n      _this9.addResultData(uploadID, {\n        successful: successful,\n        failed: failed,\n        uploadID: uploadID\n      });\n    }).then(function () {\n      // Emit completion events.\n      // This is in a separate function so that the `currentUploads` variable\n      // always refers to the latest state. In the handler right above it refers\n      // to an outdated object without the `.result` property.\n      var _this9$getState3 = _this9.getState(),\n          currentUploads = _this9$getState3.currentUploads;\n\n      if (!currentUploads[uploadID]) {\n        return;\n      }\n\n      var currentUpload = currentUploads[uploadID];\n      var result = currentUpload.result;\n\n      _this9.emit('complete', result);\n\n      _this9._removeUpload(uploadID);\n\n      return result;\n    }).then(function (result) {\n      if (result == null) {\n        _this9.log(\"Not setting result for an upload that has been removed: \" + uploadID);\n      }\n\n      return result;\n    });\n  }\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  ;\n\n  _proto.upload = function upload() {\n    var _this10 = this;\n\n    if (!this.plugins.uploader) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    var files = this.getState().files;\n    var onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files: files\n      });\n    }\n\n    return Promise.resolve().then(function () {\n      return _this10._checkMinNumberOfFiles(files);\n    }).catch(function (err) {\n      _this10._showOrLogErrorAndThrow(err);\n    }).then(function () {\n      var _this10$getState = _this10.getState(),\n          currentUploads = _this10$getState.currentUploads; // get a list of files that are currently assigned to uploads\n\n\n      var currentlyUploadingFiles = Object.keys(currentUploads).reduce(function (prev, curr) {\n        return prev.concat(currentUploads[curr].fileIDs);\n      }, []);\n      var waitingFileIDs = [];\n      Object.keys(files).forEach(function (fileID) {\n        var file = _this10.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      var uploadID = _this10._createUpload(waitingFileIDs);\n\n      return _this10._runUpload(uploadID);\n    }).catch(function (err) {\n      _this10._showOrLogErrorAndThrow(err, {\n        showInformer: false\n      });\n    });\n  };\n\n  _createClass(Uppy, [{\n    key: \"state\",\n    get: function get() {\n      return this.getState();\n    }\n  }]);\n\n  return Uppy;\n}();\n\nUppy.VERSION = \"1.13.1\";\n\nmodule.exports = function (opts) {\n  return new Uppy(opts);\n}; // Expose class constructor.\n\n\nmodule.exports.Uppy = Uppy;\nmodule.exports.Plugin = Plugin;\nmodule.exports.debugLogger = debugLogger;","function isNetworkError(xhr) {\n  if (!xhr) {\n    return false;\n  }\n\n  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n}\n\nmodule.exports = isNetworkError;","var isDOMElement = require('./isDOMElement');\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\n\nmodule.exports = function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n};","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = Object.keys(env).length;\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar NetworkError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(NetworkError, _Error);\n\n  function NetworkError(error, xhr) {\n    var _this;\n\n    if (xhr === void 0) {\n      xhr = null;\n    }\n\n    _this = _Error.call(this, \"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\\n\\nSource error: [\" + error + \"]\") || this;\n    _this.isNetworkError = true;\n    _this.request = xhr;\n    return _this;\n  }\n\n  return NetworkError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nmodule.exports = NetworkError;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar has = require('./hasProperty');\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nmodule.exports = /*#__PURE__*/function () {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  function Translator(locales) {\n    var _this = this;\n\n    this.locale = {\n      strings: {},\n      pluralize: function pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(function (locale) {\n        return _this._apply(locale);\n      });\n    } else {\n      this._apply(locales);\n    }\n  }\n\n  var _proto = Translator.prototype;\n\n  _proto._apply = function _apply(locale) {\n    if (!locale || !locale.strings) {\n      return;\n    }\n\n    var prevLocale = this.locale;\n    this.locale = _extends({}, prevLocale, {\n      strings: _extends({}, prevLocale.strings, locale.strings)\n    });\n    this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n  }\n  /**\n   * Takes a string with placeholder variables like `%{smart_count} file selected`\n   * and replaces it with values from options `{smart_count: 5}`\n   *\n   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n   *\n   * @param {string} phrase that needs interpolation, with placeholders\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {string} interpolated\n   */\n  ;\n\n  _proto.interpolate = function interpolate(phrase, options) {\n    var _String$prototype = String.prototype,\n        split = _String$prototype.split,\n        replace = _String$prototype.replace;\n    var dollarRegex = /\\$/g;\n    var dollarBillsYall = '$$$$';\n    var interpolated = [phrase];\n\n    for (var arg in options) {\n      if (arg !== '_' && has(options, arg)) {\n        // Ensure replacement value is escaped to prevent special $-prefixed\n        // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n        // be escaped with \"$\" itself, and we need two in the resulting output.\n        var replacement = options[arg];\n\n        if (typeof replacement === 'string') {\n          replacement = replace.call(options[arg], dollarRegex, dollarBillsYall);\n        } // We create a new `RegExp` each time instead of using a more-efficient\n        // string replace so that the same argument can be replaced multiple times\n        // in the same phrase.\n\n\n        interpolated = insertReplacement(interpolated, new RegExp('%\\\\{' + arg + '\\\\}', 'g'), replacement);\n      }\n    }\n\n    return interpolated;\n\n    function insertReplacement(source, rx, replacement) {\n      var newParts = [];\n      source.forEach(function (chunk) {\n        // When the source contains multiple placeholders for interpolation,\n        // we should ignore chunks that are not strings, because those\n        // can be JSX objects and will be otherwise incorrectly turned into strings.\n        // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n        if (typeof chunk !== 'string') {\n          return newParts.push(chunk);\n        }\n\n        split.call(chunk, rx).forEach(function (raw, i, list) {\n          if (raw !== '') {\n            newParts.push(raw);\n          } // Interlace with the `replacement` value\n\n\n          if (i < list.length - 1) {\n            newParts.push(replacement);\n          }\n        });\n      });\n      return newParts;\n    }\n  }\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  ;\n\n  _proto.translate = function translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n  ;\n\n  _proto.translateArray = function translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(\"missing string: \" + key);\n    }\n\n    var string = this.locale.strings[key];\n    var hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        var plural = this.locale.pluralize(options.smart_count);\n        return this.interpolate(string[plural], options);\n      } else {\n        throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n      }\n    }\n\n    return this.interpolate(string, options);\n  };\n\n  return Translator;\n}();","/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\nmodule.exports = function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  var id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += '-' + encodeFilename(file.name.toLowerCase());\n  }\n\n  if (file.type !== undefined) {\n    id += '-' + file.type;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += '-' + encodeFilename(file.meta.relativePath.toLowerCase());\n  }\n\n  if (file.data.size !== undefined) {\n    id += '-' + file.data.size;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += '-' + file.data.lastModified;\n  }\n\n  return id;\n};\n\nfunction encodeFilename(name) {\n  var suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, function (character) {\n    suffix += '-' + encodeCharacter(character);\n    return '/';\n  }) + suffix;\n}\n\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}","module.exports = function getSocketHost(url) {\n  // get the host domain\n  var regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i;\n  var host = regex.exec(url)[1];\n  var socketProtocol = /^http:\\/\\//i.test(url) ? 'ws' : 'wss';\n  return socketProtocol + \"://\" + host;\n};","/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nmodule.exports = function getFileNameAndExtension(fullFileName) {\n  var lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  } else {\n    return {\n      name: fullFileName.slice(0, lastDot),\n      extension: fullFileName.slice(lastDot + 1)\n    };\n  }\n};","var NetworkError = require('@uppy/utils/lib/NetworkError');\n/**\n * Wrapper around window.fetch that throws a NetworkError when appropriate\n */\n\n\nmodule.exports = function fetchWithNetworkError() {\n  return fetch.apply(void 0, arguments).catch(function (err) {\n    if (err.name === 'AbortError') {\n      throw err;\n    } else {\n      throw new NetworkError(err);\n    }\n  });\n};","/**\n * Array.prototype.findIndex ponyfill for old browsers.\n */\nfunction findIndex(array, predicate) {\n  for (var i = 0; i < array.length; i++) {\n    if (predicate(array[i])) return i;\n  }\n\n  return -1;\n}\n\nfunction createCancelError() {\n  return new Error('Cancelled');\n}\n\nmodule.exports = /*#__PURE__*/function () {\n  function RateLimitedQueue(limit) {\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n\n    this.activeRequests = 0;\n    this.queuedHandlers = [];\n  }\n\n  var _proto = RateLimitedQueue.prototype;\n\n  _proto._call = function _call(fn) {\n    var _this = this;\n\n    this.activeRequests += 1;\n    var _done = false;\n    var cancelActive;\n\n    try {\n      cancelActive = fn();\n    } catch (err) {\n      this.activeRequests -= 1;\n      throw err;\n    }\n\n    return {\n      abort: function abort() {\n        if (_done) return;\n        _done = true;\n        _this.activeRequests -= 1;\n        cancelActive();\n\n        _this._queueNext();\n      },\n      done: function done() {\n        if (_done) return;\n        _done = true;\n        _this.activeRequests -= 1;\n\n        _this._queueNext();\n      }\n    };\n  };\n\n  _proto._queueNext = function _queueNext() {\n    var _this2 = this;\n\n    // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n    // one by one without continuously _advancing_ it (and starting new tasks before immediately\n    // aborting them)\n    Promise.resolve().then(function () {\n      _this2._next();\n    });\n  };\n\n  _proto._next = function _next() {\n    if (this.activeRequests >= this.limit) {\n      return;\n    }\n\n    if (this.queuedHandlers.length === 0) {\n      return;\n    } // Dispatch the next request, and update the abort/done handlers\n    // so that cancelling it does the Right Thing (and doesn't just try\n    // to dequeue an already-running request).\n\n\n    var next = this.queuedHandlers.shift();\n\n    var handler = this._call(next.fn);\n\n    next.abort = handler.abort;\n    next.done = handler.done;\n  };\n\n  _proto._queue = function _queue(fn, options) {\n    var _this3 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var handler = {\n      fn: fn,\n      priority: options.priority || 0,\n      abort: function abort() {\n        _this3._dequeue(handler);\n      },\n      done: function done() {\n        throw new Error('Cannot mark a queued request as done: this indicates a bug');\n      }\n    };\n    var index = findIndex(this.queuedHandlers, function (other) {\n      return handler.priority > other.priority;\n    });\n\n    if (index === -1) {\n      this.queuedHandlers.push(handler);\n    } else {\n      this.queuedHandlers.splice(index, 0, handler);\n    }\n\n    return handler;\n  };\n\n  _proto._dequeue = function _dequeue(handler) {\n    var index = this.queuedHandlers.indexOf(handler);\n\n    if (index !== -1) {\n      this.queuedHandlers.splice(index, 1);\n    }\n  };\n\n  _proto.run = function run(fn, queueOptions) {\n    if (this.activeRequests < this.limit) {\n      return this._call(fn);\n    }\n\n    return this._queue(fn, queueOptions);\n  };\n\n  _proto.wrapPromiseFunction = function wrapPromiseFunction(fn, queueOptions) {\n    var _this4 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var queuedRequest;\n      var outerPromise = new Promise(function (resolve, reject) {\n        queuedRequest = _this4.run(function () {\n          var cancelError;\n          var innerPromise;\n\n          try {\n            innerPromise = Promise.resolve(fn.apply(void 0, args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n\n          innerPromise.then(function (result) {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, function (err) {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return function () {\n            cancelError = createCancelError();\n          };\n        }, queueOptions);\n      });\n\n      outerPromise.abort = function () {\n        queuedRequest.abort();\n      };\n\n      return outerPromise;\n    };\n  };\n\n  return RateLimitedQueue;\n}();","'use strict';\n\nvar _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AuthError = require('./AuthError');\n\nvar fetchWithNetworkError = require('@uppy/utils/lib/fetchWithNetworkError'); // Remove the trailing slash so we can always safely append /xyz.\n\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  function RequestClient(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n    this.preflightDone = false;\n  }\n\n  var _proto = RequestClient.prototype;\n\n  _proto.headers = function headers() {\n    var userHeaders = this.opts.companionHeaders || this.opts.serverHeaders || {};\n    return Promise.resolve(_extends({}, this.defaultHeaders, userHeaders));\n  };\n\n  _proto._getPostResponseFunc = function _getPostResponseFunc(skip) {\n    var _this = this;\n\n    return function (response) {\n      if (!skip) {\n        return _this.onReceiveResponse(response);\n      }\n\n      return response;\n    };\n  };\n\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    var state = this.uppy.getState();\n    var companion = state.companion || {};\n    var host = this.opts.companionUrl;\n    var headers = response.headers; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      var _extends2;\n\n      this.uppy.setState({\n        companion: _extends({}, companion, (_extends2 = {}, _extends2[host] = headers.get('i-am'), _extends2))\n      });\n    }\n\n    return response;\n  };\n\n  _proto._getUrl = function _getUrl(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n\n    return this.hostname + \"/\" + url;\n  };\n\n  _proto._json = function _json(res) {\n    if (res.status === 401) {\n      throw new AuthError();\n    }\n\n    if (res.status < 200 || res.status > 300) {\n      var errMsg = \"Failed request with status: \" + res.status + \". \" + res.statusText;\n      return res.json().then(function (errData) {\n        errMsg = errData.message ? errMsg + \" message: \" + errData.message : errMsg;\n        errMsg = errData.requestId ? errMsg + \" request-Id: \" + errData.requestId : errMsg;\n        throw new Error(errMsg);\n      }).catch(function () {\n        throw new Error(errMsg);\n      });\n    }\n\n    return res.json();\n  };\n\n  _proto.preflight = function preflight(path) {\n    var _this2 = this;\n\n    if (this.preflightDone) {\n      return Promise.resolve(this.allowedHeaders.slice());\n    }\n\n    return fetch(this._getUrl(path), {\n      method: 'OPTIONS'\n    }).then(function (response) {\n      if (response.headers.has('access-control-allow-headers')) {\n        _this2.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(function (headerName) {\n          return headerName.trim().toLowerCase();\n        });\n      }\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    }).catch(function (err) {\n      _this2.uppy.log(\"[CompanionClient] unable to make preflight request \" + err, 'warning');\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    });\n  };\n\n  _proto.preflightAndHeaders = function preflightAndHeaders(path) {\n    var _this3 = this;\n\n    return Promise.all([this.preflight(path), this.headers()]).then(function (_ref) {\n      var allowedHeaders = _ref[0],\n          headers = _ref[1];\n      // filter to keep only allowed Headers\n      Object.keys(headers).forEach(function (header) {\n        if (allowedHeaders.indexOf(header.toLowerCase()) === -1) {\n          _this3.uppy.log(\"[CompanionClient] excluding unallowed header \" + header);\n\n          delete headers[header];\n        }\n      });\n      return headers;\n    });\n  };\n\n  _proto.get = function get(path, skipPostResponse) {\n    var _this4 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this4._getUrl(path), {\n        method: 'get',\n        headers: headers,\n        credentials: 'same-origin'\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this4._json(res);\n    }).catch(function (err) {\n      err = err.isAuthError ? err : new Error(\"Could not get \" + _this4._getUrl(path) + \". \" + err);\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.post = function post(path, data, skipPostResponse) {\n    var _this5 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this5._getUrl(path), {\n        method: 'post',\n        headers: headers,\n        credentials: 'same-origin',\n        body: JSON.stringify(data)\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this5._json(res);\n    }).catch(function (err) {\n      err = err.isAuthError ? err : new Error(\"Could not post \" + _this5._getUrl(path) + \". \" + err);\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.delete = function _delete(path, data, skipPostResponse) {\n    var _this6 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this6.hostname + \"/\" + path, {\n        method: 'delete',\n        headers: headers,\n        credentials: 'same-origin',\n        body: data ? JSON.stringify(data) : null\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this6._json(res);\n    }).catch(function (err) {\n      err = err.isAuthError ? err : new Error(\"Could not delete \" + _this6._getUrl(path) + \". \" + err);\n      return Promise.reject(err);\n    });\n  };\n\n  _createClass(RequestClient, [{\n    key: \"hostname\",\n    get: function get() {\n      var _this$uppy$getState = this.uppy.getState(),\n          companion = _this$uppy$getState.companion;\n\n      var host = this.opts.companionUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n  }, {\n    key: \"defaultHeaders\",\n    get: function get() {\n      return {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Uppy-Versions': \"@uppy/companion-client=\" + RequestClient.VERSION\n      };\n    }\n  }]);\n\n  return RequestClient;\n}(), _class.VERSION = \"1.5.3\", _temp);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar has = require('./hasProperty');\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nmodule.exports = /*#__PURE__*/function () {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  function Translator(locales) {\n    var _this = this;\n\n    this.locale = {\n      strings: {},\n      pluralize: function pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(function (locale) {\n        return _this._apply(locale);\n      });\n    } else {\n      this._apply(locales);\n    }\n  }\n\n  var _proto = Translator.prototype;\n\n  _proto._apply = function _apply(locale) {\n    if (!locale || !locale.strings) {\n      return;\n    }\n\n    var prevLocale = this.locale;\n    this.locale = _extends({}, prevLocale, {\n      strings: _extends({}, prevLocale.strings, locale.strings)\n    });\n    this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n  }\n  /**\n   * Takes a string with placeholder variables like `%{smart_count} file selected`\n   * and replaces it with values from options `{smart_count: 5}`\n   *\n   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n   *\n   * @param {string} phrase that needs interpolation, with placeholders\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {string} interpolated\n   */\n  ;\n\n  _proto.interpolate = function interpolate(phrase, options) {\n    var _String$prototype = String.prototype,\n        split = _String$prototype.split,\n        replace = _String$prototype.replace;\n    var dollarRegex = /\\$/g;\n    var dollarBillsYall = '$$$$';\n    var interpolated = [phrase];\n\n    for (var arg in options) {\n      if (arg !== '_' && has(options, arg)) {\n        // Ensure replacement value is escaped to prevent special $-prefixed\n        // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n        // be escaped with \"$\" itself, and we need two in the resulting output.\n        var replacement = options[arg];\n\n        if (typeof replacement === 'string') {\n          replacement = replace.call(options[arg], dollarRegex, dollarBillsYall);\n        } // We create a new `RegExp` each time instead of using a more-efficient\n        // string replace so that the same argument can be replaced multiple times\n        // in the same phrase.\n\n\n        interpolated = insertReplacement(interpolated, new RegExp('%\\\\{' + arg + '\\\\}', 'g'), replacement);\n      }\n    }\n\n    return interpolated;\n\n    function insertReplacement(source, rx, replacement) {\n      var newParts = [];\n      source.forEach(function (chunk) {\n        // When the source contains multiple placeholders for interpolation,\n        // we should ignore chunks that are not strings, because those\n        // can be JSX objects and will be otherwise incorrectly turned into strings.\n        // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n        if (typeof chunk !== 'string') {\n          return newParts.push(chunk);\n        }\n\n        split.call(chunk, rx).forEach(function (raw, i, list) {\n          if (raw !== '') {\n            newParts.push(raw);\n          } // Interlace with the `replacement` value\n\n\n          if (i < list.length - 1) {\n            newParts.push(replacement);\n          }\n        });\n      });\n      return newParts;\n    }\n  }\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  ;\n\n  _proto.translate = function translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n  ;\n\n  _proto.translateArray = function translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(\"missing string: \" + key);\n    }\n\n    var string = this.locale.strings[key];\n    var hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        var plural = this.locale.pluralize(options.smart_count);\n        return this.interpolate(string[plural], options);\n      } else {\n        throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n      }\n    }\n\n    return this.interpolate(string, options);\n  };\n\n  return Translator;\n}();","var ee = require('namespace-emitter');\n\nmodule.exports = /*#__PURE__*/function () {\n  function UppySocket(opts) {\n    this.opts = opts;\n    this._queued = [];\n    this.isOpen = false;\n    this.emitter = ee();\n    this._handleMessage = this._handleMessage.bind(this);\n    this.close = this.close.bind(this);\n    this.emit = this.emit.bind(this);\n    this.on = this.on.bind(this);\n    this.once = this.once.bind(this);\n    this.send = this.send.bind(this);\n\n    if (!opts || opts.autoOpen !== false) {\n      this.open();\n    }\n  }\n\n  var _proto = UppySocket.prototype;\n\n  _proto.open = function open() {\n    var _this = this;\n\n    this.socket = new WebSocket(this.opts.target);\n\n    this.socket.onopen = function (e) {\n      _this.isOpen = true;\n\n      while (_this._queued.length > 0 && _this.isOpen) {\n        var first = _this._queued[0];\n\n        _this.send(first.action, first.payload);\n\n        _this._queued = _this._queued.slice(1);\n      }\n    };\n\n    this.socket.onclose = function (e) {\n      _this.isOpen = false;\n    };\n\n    this.socket.onmessage = this._handleMessage;\n  };\n\n  _proto.close = function close() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  };\n\n  _proto.send = function send(action, payload) {\n    // attach uuid\n    if (!this.isOpen) {\n      this._queued.push({\n        action: action,\n        payload: payload\n      });\n\n      return;\n    }\n\n    this.socket.send(JSON.stringify({\n      action: action,\n      payload: payload\n    }));\n  };\n\n  _proto.on = function on(action, handler) {\n    this.emitter.on(action, handler);\n  };\n\n  _proto.emit = function emit(action, payload) {\n    this.emitter.emit(action, payload);\n  };\n\n  _proto.once = function once(action, handler) {\n    this.emitter.once(action, handler);\n  };\n\n  _proto._handleMessage = function _handleMessage(e) {\n    try {\n      var message = JSON.parse(e.data);\n      this.emit(message.action, message.payload);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return UppySocket;\n}();","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\nvar getRandomValue = require('./lib/getRandomValue.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((getRandomValue() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.slug = function slug () {\n  var date = new Date().getTime().toString(36),\n    counter = safeCounter().toString(36).slice(-4),\n    print = fingerprint().slice(0, 1) +\n      fingerprint().slice(-1),\n    random = randomBlock().slice(-2);\n\n  return date.slice(-2) +\n    counter + print + random;\n};\n\ncuid.isCuid = function isCuid (stringToCheck) {\n  if (typeof stringToCheck !== 'string') return false;\n  if (stringToCheck.startsWith('c')) return true;\n  return false;\n};\n\ncuid.isSlug = function isSlug (stringToCheck) {\n  if (typeof stringToCheck !== 'string') return false;\n  var stringLength = stringToCheck.length;\n  if (stringLength >= 7 && stringLength <= 10) return true;\n  return false;\n};\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","/**\n * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n * Call `timer.progress()` to signal that there has been progress of any kind.\n * Call `timer.done()` when the upload has completed.\n */\nvar ProgressTimeout = /*#__PURE__*/function () {\n  function ProgressTimeout(timeout, timeoutHandler) {\n    this._timeout = timeout;\n    this._onTimedOut = timeoutHandler;\n    this._isDone = false;\n    this._aliveTimer = null;\n    this._onTimedOut = this._onTimedOut.bind(this);\n  }\n\n  var _proto = ProgressTimeout.prototype;\n\n  _proto.progress = function progress() {\n    // Some browsers fire another progress event when the upload is\n    // cancelled, so we have to ignore progress after the timer was\n    // told to stop.\n    if (this._isDone) return;\n\n    if (this._timeout > 0) {\n      if (this._aliveTimer) clearTimeout(this._aliveTimer);\n      this._aliveTimer = setTimeout(this._onTimedOut, this._timeout);\n    }\n  };\n\n  _proto.done = function done() {\n    if (this._aliveTimer) {\n      clearTimeout(this._aliveTimer);\n      this._aliveTimer = null;\n    }\n\n    this._isDone = true;\n  };\n\n  return ProgressTimeout;\n}();\n\nmodule.exports = ProgressTimeout;","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","module.exports = function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n};","module.exports = function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n};"],"sourceRoot":""}