"use strict";(self["webpackChunkeasyadmin"]=self["webpackChunkeasyadmin"]||[]).push([[563],{8077:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"mt-5 mb-5 text-center"},[e._v(" Keine Einträge vorhanden. Klicken Sie auf den Button oben rechts um einen neuen Eintrag anzulegen. ")])},o=[],r=n(538),s=r["default"].extend({name:"EmptyListInfo"}),a=s,l=n(1001),c=(0,l.Z)(a,i,o,!1,null,null,null),d=c.exports},3671:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CCard",{staticClass:"sticky-header"},[t("CCardHeader",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",[t("CIcon",{staticClass:"text-secondary",attrs:{name:"cil-filter"}}),e._v(" Filter ")],1),e.resultsCount?t("CBadge",{attrs:{color:"secondary",shape:"pill"}},[e._v(e._s(e.resultsCount)+" Einträge")]):e._e()],1),t("CCardBody",[t("CForm",[e._t("default")],2)],1),t("CCardFooter",{staticClass:"d-flex justify-content-end"},[t("CButton",{attrs:{color:"primary",disabled:!e.isActive},on:{click:function(t){return e.$emit("reset")}}},[e._v(" Filter zurücksetzen ")])],1)],1)},o=[],r=n(538),s=r["default"].extend({name:"FilterContainer",props:["resultsCount","isActive"]}),a=s,l=n(1001),c=(0,l.Z)(a,i,o,!1,null,null,null),d=c.exports},2124:function(e,t,n){n.d(t,{Z:function(){return U}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"form-group"},[t("label",[e._v("Inhalt")]),e.enableSourceMode?t("div",{staticClass:"custom-control custom-switch",staticStyle:{float:"right"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sourceEditor,expression:"sourceEditor"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"source-switch"},domProps:{checked:Array.isArray(e.sourceEditor)?e._i(e.sourceEditor,null)>-1:e.sourceEditor},on:{change:function(t){var n=e.sourceEditor,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=null,s=e._i(n,r);i.checked?s<0&&(e.sourceEditor=n.concat([r])):s>-1&&(e.sourceEditor=n.slice(0,s).concat(n.slice(s+1)))}else e.sourceEditor=o}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"source-switch"}},[e._v("Source Editor")])]):e._e(),e.enableSourceMode&&e.sourceEditor?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contentVal,expression:"contentVal"}],staticClass:"form-control",attrs:{rows:"20"},domProps:{value:e.contentVal},on:{input:function(t){t.target.composing||(e.contentVal=t.target.value)}}}):t("editor",{attrs:{"api-key":e.apiKey,init:e.editorConfig},model:{value:e.contentVal,callback:function(t){e.contentVal=t},expression:"contentVal"}})],1)},o=[],r=n(5334),s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],a=function(e){return-1!==s.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},l=function(e,t,n){Object.keys(t).filter(a).forEach((function(i){var o=t[i];"function"===typeof o&&("onInit"===i?o(e,n):n.on(i.substring(2),(function(e){return o(e,n)})))}))},c=function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,i=Array.isArray(n)?n.join(" "):n;t.on(i||"change input undo redo",(function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))}))},d=function(e,t,n){var i=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(i||(t.initialized?t.cache:o)),t.$watch("value",(function(e,i){n&&"string"===typeof e&&e!==i&&e!==n.getContent({format:t.$props.outputFormat})&&n.setContent(e)})),t.$listeners.input&&c(t,n),l(e,t.$listeners,n),t.initialized=!0},u=0,p=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return u++,e+"_"+n+u+String(t)},h=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},m=function(e,t){return f(e).concat(f(t))},v=function(e){return null===e||void 0===e},y=function(){return{listeners:[],scriptId:p("tiny-script"),scriptLoaded:!1}},C=function(){var e=y(),t=function(e,t,n,i){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var r=function(){o.removeEventListener("load",r),i()};o.addEventListener("load",r),t.head&&t.head.appendChild(o)},n=function(n,i,o){e.scriptLoaded?o():(e.listeners.push(o),n.getElementById(e.scriptId)||t(e.scriptId,n,i,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},i=function(){e=y()};return{load:n,reinitialize:i}},g=C(),b=function(){return"undefined"!==typeof window?window:n.g},S=function(){var e=b();return e&&e.tinymce?e.tinymce:null},$={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},w=function(){return w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)},x=function(e,t,n){return e(n||"div",{attrs:{id:t}})},_=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},E=function(e){return function(){var t=w(w({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:m(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return d(n,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});h(e.element)&&(e.element.style.visibility="",e.element.style.display=""),S().init(t)}},F={props:$,created:function(){this.elementId=this.$props.id||p("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==S())E(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=v(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;g.load(this.element.ownerDocument,n,E(this))}},beforeDestroy:function(){null!==S()&&S().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null===(e=S())||void 0===e||e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&E(this)()},render:function(e){return this.inlineEditor?x(e,this.elementId,this.$props.tagName):_(e,this.elementId)}},k=F,D=n(2379),B=r.w3.extend({name:"TextEditor",props:["value","config","enableSourceMode"],components:{editor:k},data(){return{sourceEditor:!1,editorConfig:this.config||D.Z.defaultEditorConfig}},computed:{apiKey(){return D.Z.editorApiKey},contentVal:{get(){return this.value},set(e){this.$emit("input",e)}}}}),A=B,I=n(1001),P=(0,I.Z)(A,i,o,!1,null,null,null),U=P.exports},1447:function(e,t,n){n.d(t,{Z:function(){return y}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CCard",[t("CCardHeader",{staticClass:"d-flex justify-content-between align-items-center position-relative"},[t("div",[t("CIcon",{staticClass:"text-secondary",attrs:{name:"cil-file"}}),e._v(" Anhang ")],1),null!=e.value?t("div",{staticClass:"card-header-actions"},[t("div",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Dateien hochladen",placement:"top-end"},expression:"{\n                    content: 'Dateien hochladen',\n                    placement: 'top-end',\n                }"}],staticClass:"card-header-action"},[t("CIcon",{attrs:{name:"cil-cloud-upload"}}),t("FileInput",{attrs:{route:e.attachmentRoute},on:{onUploadSuccessful:e.onUploadSuccessful,onUploadFailed:e.onUploadFailed}})],1)]):e._e()]),t("CCardBody",[t("CForm",[t("div",{staticClass:"form-group"},[e.value&&e.value.length>0?t("ul",{staticClass:"file-list"},e._l(e.value,(function(n){return t("li",{key:n.id},[t("Attachment",{attrs:{file:n},on:{onEdit:e.onEditFile,onDelete:e.onDeleteFile}})],1)})),0):e.value&&0==e.value.length?t("div",[t("small",[e._v("Über den Button rechts oben können Sie Dateien hochladen")])]):t("div",[t("small",[e._v("Dateien können erst hochgeladen werden, nachdem die News gespeichert wurde.")])])])])],1),t("CModal",{attrs:{show:e.hasFileBeenSelected,centered:!0,"no-close-on-backdrop":!0},on:{"update:show":function(t){e.hasFileBeenSelected=t}},scopedSlots:e._u([{key:"header",fn:function(){return[t("h6",{staticClass:"modal-title"},[e._v("Datei bearbeiten")]),t("CButtonClose",{on:{click:e.onCancelEditFile}})]},proxy:!0},{key:"footer",fn:function(){return[t("CLink",{staticClass:"text-secondary",on:{click:e.onCancelEditFile}},[e._v("Abbrechen")]),t("CButton",{attrs:{color:"primary",disabled:e.isSubmitting},on:{click:e.onUpdateFile}},[t("CIcon",{attrs:{name:"cil-check-circle"}}),e._v(" Speichern ")],1)]},proxy:!0}])},[e.selectedFile?t("CForm",{on:{submit:e.onUpdateFile}},[t("CInput",{attrs:{label:"Dateiname"},model:{value:e.selectedFile.title,callback:function(t){e.$set(e.selectedFile,"title",t)},expression:"selectedFile.title"}})],1):e._e()],1)],1)},o=[],r=n(5334),s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",{staticClass:"text-black-50",staticStyle:{"min-width":"0"}},[t("div",[t("a",{staticClass:"d-block text-truncate",attrs:{target:"_blank",href:e.filePath}},[e._v(e._s(e.file.title))])]),t("small",{staticClass:"d-block",attrs:{title:"Dateipfad in die Zwischenablage kopieren"},on:{click:e.onCopyLink}},[e._v(e._s(e.file.readableFileSize))])]),t("div",{staticStyle:{"min-width":"70px","margin-right":"-10px"}},[t("button",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Bearbeiten",placement:"top-end"},expression:"{\n                content: 'Bearbeiten',\n                placement: 'top-end',\n            }"}],staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:e.onEdit}},[t("CIcon",{attrs:{name:"cil-pencil"}})],1),t("button",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"Löschen",placement:"top-end"},expression:"{\n                content: 'Löschen',\n                placement: 'top-end',\n            }"}],staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:e.onDelete}},[t("CIcon",{attrs:{name:"cil-trash"}})],1)])])},a=[],l=r.w3.extend({name:"Attachment",props:["file"],data(){return{title:""}},computed:{isDirty(){return""!=this.file.title&&this.file.title!=this.title},filePath(){return`/files/${this.file.file}`}},methods:{onEdit(){this.$emit("onEdit",this.file)},onDelete(){this.$emit("onDelete",this.file)},onCopyLink(){const e=document.createElement("textarea");e.value=this.filePath,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}}),c=l,d=n(1001),u=(0,d.Z)(c,s,a,!1,null,null,null),p=u.exports,h=n(6393),f=r.w3.extend({props:["value","attachmentRoute","modelFactory"],data(){return{selectedFile:null,hasFileBeenSelected:!1,isSubmitting:!1}},components:{Attachment:p,FileInput:h.Z},methods:{onUploadSuccessful(e){const t=e.flatMap((e=>this.modelFactory(e).attachments));this.$emit("input",t),this.$snotify.success("Upload erfolgreich")},onUploadFailed(){this.$snotify.error("Beim Upload ist ein Fehler aufgetreten!")},onEditFile(e){this.selectedFile={id:e.id,title:e.title},this.hasFileBeenSelected=!0},onCancelEditFile(){this.selectedFile=null,this.hasFileBeenSelected=!1},onUpdateFile(e){e.preventDefault(),!this.selectedFile&&this.isSubmitting||(this.isSubmitting=!0,this.$store.dispatch("files/partialUpdate",this.selectedFile).then((e=>{const t=this.value.map((t=>t.id===e.id?e:t));this.$emit("input",t),this.$snotify.success("Der Dateiname wurde geändert."),this.onCancelEditFile()})).catch((()=>{this.$snotify.error("Die Datei konnte nicht umbenannt werden!")})).finally((()=>{this.isSubmitting=!1})))},onDeleteFile(e){window.confirm(`Soll die Datei "${e.title}" wirklich gelöscht werden?`)&&e.id&&this.$store.dispatch("files/delete",e).then((()=>{this.$emit("input",this.value.filter((t=>t.id!=e.id))),this.$snotify.success("Die Datei wurde gelöscht.")})).catch((()=>{this.$snotify.error("Die Datei konnte nicht gelöscht werden!")}))}}}),m=f,v=(0,d.Z)(m,i,o,!1,null,"7d0a7ba8",null),y=v.exports}}]);
//# sourceMappingURL=563.524c41cd.js.map