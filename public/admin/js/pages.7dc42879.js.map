{"version":3,"sources":["webpack:///./src/pages/PageEntryForm.vue?45cd","webpack:///./src/pages/PageEntryForm.vue","webpack:///./src/pages/PageEntryForm.vue?074a","webpack:///./src/pages/PageEntryForm.vue?7349","webpack:///./src/components/PageNavigationItem.vue?5bb1","webpack:///./src/pages/Pages.vue?83bb","webpack:///./src/components/PageNavigationItem.vue?a8f7","webpack:///./src/components/PageNavigationItem.vue","webpack:///./src/components/PageNavigationItem.vue?bbd8","webpack:///./src/components/PageNavigationItem.vue?eba8","webpack:///./src/pages/Pages.vue","webpack:///./src/pages/Pages.vue?eda7","webpack:///./src/pages/Pages.vue?0325"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","submitForm","_v","model","value","pageEntry","callback","$$v","$set","expression","isAdmin","staticClass","name","modelFactory","attachmentRoute","staticRenderFns","extend","components","AttachmentsCard","TextEditor","data","isSubmitting","computed","id","host","$store","state","pages","selectedPage","auth","mounted","pageId","$route","params","loadPage","dispatch","methods","event","preventDefault","action","then","$router","push","path","catch","$snotify","error","finally","obj","init","component","_e","isLoading","navigation","length","_l","parentPage","key","class","showAll","isVisible","$event","editPage","deletePage","childPage","total","per_page","activePage","last_page","updateActivePage","resultsCount","updateShowAll","visible","contentClass","circleClass","type","_s","directives","rawName","content","placement","$emit","props","typeClass","EmptyListInfo","FilterContainer","LoadingIndicator","PageNavigationItem","PageHeader","all","filters","page","created","loadNavigation","window","confirm","success"],"mappings":"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","file":"js/pages.7dc42879.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"md\":\"8\"}},[_c('CForm',{on:{\"submit\":_vm.submitForm}},[_c('CCard',[_c('CCardHeader',[_vm._v(\" Seite bearbeiten \")]),_c('CCardBody',[_c('CInput',{attrs:{\"description\":\"Die Ãœberschrift der Seite\",\"label\":\"Titel\"},model:{value:(_vm.pageEntry.seitentitel),callback:function ($$v) {_vm.$set(_vm.pageEntry, \"seitentitel\", $$v)},expression:\"pageEntry.seitentitel\"}}),_c('TextEditor',{attrs:{\"enableSourceMode\":!!_vm.isAdmin},model:{value:(_vm.pageEntry.inhalt),callback:function ($$v) {_vm.$set(_vm.pageEntry, \"inhalt\", $$v)},expression:\"pageEntry.inhalt\"}})],1),_c('CCardFooter',{staticClass:\"d-flex justify-content-end align-items-center\"},[_c('RouterLink',{staticClass:\"mr-3 text-secondary\",attrs:{\"to\":{ name: 'pages-overview' }}},[_vm._v(\" Abbrechen \")]),_c('CButton',{attrs:{\"type\":\"submit\",\"color\":\"primary\"}},[_c('CIcon',{attrs:{\"name\":\"cil-check-circle\"}}),_vm._v(\" Speichern\")],1)],1)],1)],1)],1),_c('CCol',{attrs:{\"md\":\"4\"}},[_c('AttachmentsCard',{attrs:{\"modelFactory\":_vm.modelFactory,\"attachmentRoute\":_vm.attachmentRoute},model:{value:(_vm.pageEntry.attachments),callback:function ($$v) {_vm.$set(_vm.pageEntry, \"attachments\", $$v)},expression:\"pageEntry.attachments\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from \"vue-property-decorator\";\nimport Page from \"../models/page\";\nimport AttachmentsCard from \"@/modules/AttachmentsCard.vue\";\nimport TextEditor from \"@/components/TextEditor.vue\";\nimport Config from \"../config\";\n\nexport default Vue.extend({\n    name: \"PageEntryForm\",\n\n    components: {\n        AttachmentsCard,\n        TextEditor,\n    },\n\n    data() {\n        return {\n            isSubmitting: false,\n        };\n    },\n\n    computed: {\n        attachmentRoute() {\n            if (!this.pageEntry.id) {\n                return \"\";\n            }\n\n            return `${Config.host}/api/pages/${this.pageEntry.id}/attach`;\n        },\n        pageEntry() {\n            return this.$store.state.pages.selectedPage || new Page();\n        },\n        isAdmin() {\n            return this.$store.state.auth.isAdmin();\n        },\n    },\n\n    mounted() {\n        const pageId = this.$route.params.pageId;\n\n        if (pageId) {\n            this.loadPage(pageId);\n        } else {\n            this.$store.dispatch(\"pages/select\", new Page());\n        }\n    },\n\n    methods: {\n        loadPage(id) {\n            this.$store.dispatch(\"pages/loadOne\", id);\n        },\n        submitForm(event) {\n            event.preventDefault();\n\n            if (this.isSubmitting) {\n                return;\n            }\n\n            this.isSubmitting = true;\n            const action = this.pageEntry.id ? \"update\" : \"create\";\n\n            this.$store\n                .dispatch(`pages/${action}`, this.pageEntry)\n                .then(() => {\n                    this.$router.push({ path: \"/content/pages/overview\" });\n                })\n                .catch(() => {\n                    this.$snotify.error(\n                        \"Seite konnte nicht gespeichert werden\"\n                    );\n                })\n                .finally(() => {\n                    this.isSubmitting = false;\n                });\n        },\n        modelFactory(obj) {\n            return Page.init(obj);\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageEntryForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageEntryForm.vue?vue&type=template&id=699592a0&\"\nimport script from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageEntryForm.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNavigationItem.vue?vue&type=style&index=0&id=30189c79&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNavigationItem.vue?vue&type=style&index=0&id=30189c79&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"md\":\"8\"}},[_c('PageHeader',{attrs:{\"title\":\"Seiten\",\"icon\":\"cil-notes\",\"route\":{ name: 'pages-add' }}}),(_vm.isLoading)?_c('LoadingIndicator'):_vm._e(),(!_vm.isLoading && _vm.navigation)?_c('div',[(!_vm.navigation.data.length)?_c('EmptyListInfo'):_vm._e(),_vm._l((_vm.navigation.data),function(parentPage){return _c('div',{key:parentPage.id,staticClass:\"mb-4\"},[_c('PageNavigationItem',{class:{\n                        'd-none': !_vm.showAll && !parentPage.isVisible,\n                    },attrs:{\"name\":parentPage.name,\"visible\":parentPage.isVisible,\"type\":\"parent\"},on:{\"editPage\":function($event){return _vm.editPage(parentPage)},\"deletePage\":function($event){return _vm.deletePage(parentPage)}}}),_vm._l((parentPage.children),function(childPage){return _c('PageNavigationItem',{key:childPage.id,class:{\n                        'd-none': !_vm.showAll && !childPage.isVisible,\n                    },attrs:{\"name\":childPage.name,\"visible\":childPage.isVisible,\"type\":\"child\"},on:{\"editPage\":function($event){return _vm.editPage(childPage)},\"deletePage\":function($event){return _vm.deletePage(childPage)}}})})],2)}),(_vm.navigation.total > _vm.navigation.per_page)?_c('CPagination',{staticClass:\"sticky-bottom\",attrs:{\"activePage\":_vm.activePage,\"pages\":_vm.navigation.last_page,\"align\":\"center\"},on:{\"update:activePage\":[function($event){_vm.activePage=$event},_vm.updateActivePage],\"update:active-page\":function($event){_vm.activePage=$event}}}):_vm._e()],2):_vm._e()],1),_c('CCol',{attrs:{\"md\":\"4\"}},[_c('FilterContainer',{attrs:{\"resultsCount\":_vm.resultsCount,\"isActive\":_vm.showAll},on:{\"reset\":function($event){return _vm.updateShowAll(false)}}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('CSwitch',{attrs:{\"id\":\"switch\",\"color\":\"warning\",\"shape\":\"pill\",\"size\":\"sm\",\"label-on\":\"on\",\"label-off\":\"off\",\"checked\":_vm.showAll},on:{\"update:checked\":[function($event){_vm.showAll=$event},_vm.updateShowAll]}}),_c('label',{staticClass:\"mb-0 ml-2\",attrs:{\"for\":\"switch\"}},[_vm._v(\"Alle anzeigen\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CCard',{staticClass:\"mb-1\",class:{ 'not-visible': !_vm.visible }},[_c('CCardBody',{staticClass:\"pr-1\",class:_vm.contentClass},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('em',{class:_vm.circleClass}),(_vm.type == 'child')?_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]):_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")])]),_c('div',[(!_vm.visible)?_c('CIcon',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:({\n                        content:\n                            'Die Seite ist nicht in der Navigation sichtbar',\n                        placement: 'top-end',\n                    }),expression:\"{\\n                        content:\\n                            'Die Seite ist nicht in der Navigation sichtbar',\\n                        placement: 'top-end',\\n                    }\"}],attrs:{\"name\":\"cil-low-vision\"}}):_vm._e(),_c('button',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:({\n                        content: 'Seite bearbeiten',\n                        placement: 'top-end',\n                    }),expression:\"{\\n                        content: 'Seite bearbeiten',\\n                        placement: 'top-end',\\n                    }\"}],staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('editPage', _vm.pageId)}}},[_c('CIcon',{attrs:{\"name\":\"cil-pencil\"}})],1),_c('button',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:({\n                        content: 'Seite lÃ¶schen',\n                        placement: 'top-end',\n                    }),expression:\"{\\n                        content: 'Seite lÃ¶schen',\\n                        placement: 'top-end',\\n                    }\"}],staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('deletePage', _vm.pageId)}}},[_c('CIcon',{attrs:{\"name\":\"cil-trash\"}})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n    name: \"PageNavigationItem\",\n\n    props: [\"name\", \"type\", \"pageId\", \"visible\"],\n\n    computed: {\n        contentClass() {\n            return this.type === \"child\" ? \"pt-0 pb-0\" : \"\";\n        },\n        circleClass() {\n            const typeClass = this.type === \"child\" ? \"bg-info\" : \"bg-warning\";\n            return `circle mr-2 ${typeClass}`;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNavigationItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageNavigationItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageNavigationItem.vue?vue&type=template&id=30189c79&scoped=true&\"\nimport script from \"./PageNavigationItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageNavigationItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageNavigationItem.vue?vue&type=style&index=0&id=30189c79&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30189c79\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Page from \"../models/page\";\nimport PageNavigationItem from \"@/components/PageNavigationItem.vue\";\nimport PageHeader from \"@/components/PageHeader.vue\";\nimport FilterContainer from \"@/components/FilterContainer.vue\";\nimport LoadingIndicator from \"@/components/LoadingIndicator.vue\";\nimport EmptyListInfo from \"@/components/EmptyListInfo.vue\";\n\nexport default Vue.extend({\n    name: \"Pages\",\n\n    components: {\n        EmptyListInfo,\n        FilterContainer,\n        LoadingIndicator,\n        PageNavigationItem,\n        PageHeader,\n    },\n\n    data() {\n        return {\n            isLoading: true,\n            showAll: false,\n            activePage: 1,\n        };\n    },\n\n    computed: {\n        navigation() {\n            return this.$store.state.navigation.all;\n        },\n        filters() {\n            const filters = {\n                page: this.activePage,\n                showAll: this.showAll,\n            };\n\n            return filters;\n        },\n        resultsCount() {\n            return this.navigation ? this.navigation.total : 0;\n        },\n    },\n\n    created() {\n        this.loadNavigation();\n    },\n\n    methods: {\n        loadNavigation() {\n            this.isLoading = true;\n            this.$store\n                .dispatch(\"navigation/loadAll\", this.filters)\n                .catch(() => {\n                    this.$snotify.error(\n                        \"Die Navigation konnten nicht geladen werden\"\n                    );\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n        editPage(page: Page) {\n            this.$router.push({\n                name: \"pages-edit\",\n                params: { pageId: page.id },\n            });\n        },\n        deletePage(page: Page) {\n            if (window.confirm(\"Soll die Seite wirklich gelÃ¶scht werden?\")) {\n                this.$store\n                    .dispatch(\"pages/delete\", page)\n                    .then(() => {\n                        this.$snotify.success(\"Die Seite wurde gelÃ¶scht!\");\n                        this.loadNavigation();\n                    })\n                    .catch(() => {\n                        this.$snotify.error(\n                            \"Die Seite konnte nicht gelÃ¶scht werden!\"\n                        );\n                    });\n            }\n        },\n        updateShowAll(showAll) {\n            this.showAll = showAll;\n            this.loadNavigation();\n        },\n        updateActivePage(page) {\n            this.activePage = page;\n            this.loadNavigation();\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=d3f4b8ce&\"\nimport script from \"./Pages.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pages.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}